{"version":"2.138.1","grid":{"layers":{"Default layer":{"name":"Default layer"},"Preferences":{"name":"Preferences"},"Admin":{"name":"Admin"},"Chart":{"name":"Chart"},"Series":{"name":"Series"},"Shepherd":{"name":"Shepherd"},"TrackingInfo":{"name":"TrackingInfo"},"FromTo":{"name":"FromTo"}},"xWidth":10,"yHeight":10},"modules":[{"url":"modules/types/science/chemistry/jsmol/","configuration":{"sections":{},"groups":{"group":[{"prefs":[["orientation"]],"script":["select all;\nvectors 0.05;\nvector scale 2.0;\ncolor vectors yellow;\nvibration on;\nvibration scale 0.4;\n \ncolor bonds none;\nwireframe 0.1;\n\n"],"syncScript":[null]}]}},"layers":{"Default layer":{"position":{"left":101,"top":5},"size":{"width":49,"height":43},"zIndex":0,"display":true,"title":"JSMol animation","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":118,"top":0},"size":{"width":60,"height":49},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Admin":{"position":{"left":137,"top":28},"size":{"width":50,"height":49},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Chart":{"position":{"left":118,"top":5},"size":{"width":60,"height":41},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Series":{"position":{"left":118,"top":5},"size":{"width":60,"height":41},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Shepherd":{"position":{"left":118,"top":5},"size":{"width":60,"height":41},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"TrackingInfo":{"position":{"left":101,"top":5},"size":{"width":49,"height":43},"zIndex":0,"display":false,"title":"JSMol animation","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":101,"top":5},"size":{"width":49,"height":43},"zIndex":0,"display":false,"title":"JSMol animation","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"}},"id":1,"vars_in":[{"rel":"data","name":"displacements"}],"actions_in":[{"rel":"jsmolscriptSync","name":"jsmolScript"}],"vars_out":[{"jpath":[]}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Show fullscreen"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"JSMol animation","zindex":1},{"url":"modules/types/science/chemistry/ocl_editor/","configuration":{"sections":{},"groups":{"group":[{"prefs":[["svg","inPlace"]]}]}},"layers":{"Default layer":{"position":{"left":0,"top":5},"size":{"width":38,"height":43},"zIndex":0,"display":true,"title":"Draw the chemical structure","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":0,"top":1},"size":{"width":52,"height":41},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Admin":{"position":{"left":0,"top":4},"size":{"width":52,"height":41},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Chart":{"position":{"left":0,"top":5},"size":{"width":52,"height":41},"zIndex":0,"display":false,"title":"Draw the chemical structure","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Series":{"position":{"left":0,"top":5},"size":{"width":52,"height":41},"zIndex":0,"display":false,"title":"Draw the chemical structure","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Shepherd":{"position":{"left":0,"top":5},"size":{"width":52,"height":41},"zIndex":0,"display":false,"title":"Draw the chemical structure","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"TrackingInfo":{"position":{"left":0,"top":5},"size":{"width":38,"height":43},"zIndex":0,"display":false,"title":"Draw the chemical structure","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":0,"top":5},"size":{"width":38,"height":43},"zIndex":0,"display":false,"title":"Draw the chemical structure","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"}},"id":2,"vars_in":[{"rel":"mol","name":"molfile"}],"actions_in":[{}],"vars_out":[{"jpath":[]}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[[]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"Draw the chemical structure","zindex":1},{"url":"modules/types/client_interaction/code_executor/","configuration":{"sections":{},"groups":{"group":[{"display":[["editor","buttons"]],"execOnLoad":[[]],"asyncAwait":[["top"]],"script":["if (! this.action) {\n    this.action={\n        name: this.button\n    }\n}\n\n// console.log('ACTION', this.action)\n\nconst preferences = API.getData('preferences').resurrect();\n\nswitch (this.action.name) {\n    case 'resetPreferences':\n        API.getData('preferences').resetValue();\n        break;\n    case 'bondClicked': {\n        const bonds = API.getData('bonds');\n        const bond = bonds[this.action.value.bond-1];\n        const modes = API.getData('modes');\n        for (let i=0; i<modes.length; i++) {\n            if (modes[i].number*1 === bond.mode*1) {\n                 API.doAction('selectMode', i);\n            }\n        }\n        break;\n    }\n    case 'loadMolfile': {\n        const molfile = API.getData('molfile');\n        if (! molfile || !this.action.value.molfile) return;\n        molfile.setValue(this.action.value.molfile);\n        break;\n    }\n    case 'clearHistory': {\n        const history = API.getData('history');\n        history.length=0;\n        history.triggerChange();\n        break;\n    }\n    case 'clickedAnnotation': {\n        const modes = API.getData('modes');\n        let i=0;\n        for (; i<modes.length; i++) {\n            if (String(this.action.value._highlight)===String(modes[i]._highlight)) {\n                break;\n            }\n        }\n        API.doAction('selectMode', i);\n        break;\n    }\n    case 'predictFromMolfile': {\n        API.loading('predict', 'Predicting IR spectrum');\n        let result;\n        try {\n            result = await predict(API.getData('molfile').resurrect());\n        } catch (err) {\n            UI.showNotification('Calculation failed');\n        }\n        \n        API.stopLoading('predict');\n        API.createData('explanation', '');\n        API.createData('modes', result.modes);\n        API.createData('predicted', result.predicted);\n        API.createData('expandedMolfile', result.expandedMolfile);\n        API.createData('annotations', result.annotations);\n        API.createData('bonds', result.bonds);\n        API.createData('selected', result.strongest);\n        API.createData('displacements', result.strongest.displacements);\n        const history = API.getData('history');\n        history.push(result);\n        recolorHistory(history);\n        history.triggerChange();\n        setTimeout( () => {\n            API.doAction('selectHistory', history.length-1);\n            setTimeout( () => {\n                API.doAction('fullOut', 'xy');\n            });\n        })\n        break;\n    }\n    case 'loadSeries': {\n        const serie = await selectSeries();\n        if (! serie) return;\n\n        API.loading('predict', 'Predicting IR spectrum');\n        API.createData('explanation', '');\n        const history = API.getData('history');\n        history.length=0;\n        history.triggerChange();\n\n        API.createData('explanation', serie.explanation);\n        try {\n            for (let entry of serie.entries) {\n                API.loading('predict', 'Predicting IR spectrum for '+entry.name);\n                const result = await predict(entry.molfile);\n                result.name = entry.name;\n                history.push(result);\n            }\n        } catch (e) {\n            UI.showNotification('Calculation failed');\n        }\n        recolorHistory(history);\n        history.triggerChange();\n        API.stopLoading('predict');\n        setTimeout( () => {\n            API.doAction('selectHistory', -1);\n            setTimeout( () => {\n                API.doAction('fullOut', 'xy');\n            });\n        })\n        break;\n    }\n}\n\nfunction recolorHistory(history) {\n    const colors=API.cache('colors');\n    for (let i=0; i<history.length; i++) {\n        history[i].color = colors[i%colors.length];\n    }\n}\n\nasync function predict(molfile) {\n    const molecule = OCL.Molecule.fromMolfile(molfile);\n    \n    const nbElectrons = getNumberOfElectrons(molecule);\n    if (nbElectrons > 300) {\n        UI.showNotification('Too many electrons. The current implementation is limited to 300 electrons');\n        return;\n    }\n    const smiles = molecule.toSmiles();\n    molecule.addImplicitHydrogens();\n    \n    // generate the script that allows to draw the single / double bonds\n    const script=[];\n    for (let bond=0; bond<molecule.getAllBonds(); bond++) {\n        const bondType = molecule.getBondType(bond) & 7;\n        const atom1 = molecule.getBondAtom(0,bond);\n        const atom2 = molecule.getBondAtom(1,bond);\n        if (bondType!==1) {\n          script.push('select atomno='+(atom1+1)+' or atomno='+(atom2+1));\n          script.push('bondorder '+bondType);\n        }\n    }\n\n    const jsmolScript = script.join('\\n');\n    \n    const nbAtoms = molecule.getAllAtoms();\n    \n    const molfileSubmitted = molecule.toMolfile();\n    \n    const response = await fetch(\"api/v1/ir\", {\n        method: \"post\",\n        headers: {\n        \"content-type\": \"application/json\",\n        },\n        body: JSON.stringify({\n            molFile: molfileSubmitted,\n            method: preferences.method,\n        }),\n    });\n    \n    const result = await response.json();\n\n    if (! result.intensities) {\n        UI.showNotification('Failed to predict: '+smiles);\n        return;\n    }\n\n    const atoms={};\n    const atomHighlights=[];\n\n    let modes = result.modes || [];\n    modes = modes.filter(mode => mode.modeType === \"vibration\");\n    \n    const strongest = modes.sort( (a,b) => b.intensity - a.intensity)[0];\n    for (let i=0; i<modes.length; i++) {\n        const mode = modes[i];\n        const modeID = 'M'+mode.number;\n        mode._highlight = [modeID];\n        \n        for (let atom of mode.mostContributingAtoms) {\n            const id = 'A'+String(i)+'-'+String(atom);\n            mode._highlight.push(id);\n            atomHighlights.push(id);\n            atoms[id]=[atom];\n        }\n        mode.displacements = {\n            type: 'mol3d',\n            value: mode.displacements,\n            _atoms: atoms,\n            _highlight: atomHighlights,\n            _script: jsmolScript,\n        }\n    }\n    \n    const predicted = {\n        x: result.wavenumbers,\n        y: result.intensities,\n        a: result.intensities.slice(0),\n        t: result.intensities.map((absorbance) => 10 ** -absorbance * 100)\n    };\n\n    const expandedMolfile= {\n        type: 'mol2d',\n        value: molfileSubmitted,\n        _atoms: atoms,\n        _highlight: atomHighlights,\n    };\n\n    const bonds = result.mostRelevantModesOfBonds;\n    for (const bond of bonds) {\n        bond.bondId = molecule.getBond(bond.startAtom, bond.endAtom);\n    }\n\n    return {\n        bonds,\n        molfile,\n        smiles,\n        expandedMolfile,\n        predicted,\n        modes,\n        method: preferences.method,\n        annotations: createAnnotations(modes),\n        strongest,\n    }\n}\n\nfunction createAnnotations(modes) {\n    const annotations=[];\n    modes = modes.sort( (a,b) => (b.wavenumber - a.wavenumber))\n    for (let i=0; i<modes.length; i++) {\n        const mode = modes[i];\n        const highlights = mode._highlight;\n        annotations.push({\n            position: [\n              {\n                x: mode.wavenumber - 10,\n                y: (10*(i%5)+1)+'px',\n              },\n              {\n                x: mode.wavenumber + 10,\n                y: (10*(i%5)+8)+'px',\n              }\n            ],\n            type: 'rect',\n            fillColor: 'orange',\n            strokeColor: 'transparent',\n            _highlight: highlights,\n            info: mode,\n        });\n        annotations.push({\n            position: [\n              {\n                x: mode.wavenumber,\n                y: (10*(i%5)+1)+'px',\n              },\n              {\n                x: mode.wavenumber,\n                y: (10*(i%5)+8)+'px',\n              }\n            ],\n            type: 'line',\n            strokeColor: 'green',\n            _highlight: highlights,\n        });\n    }\n    return annotations;\n}\n\n\n\nasync function selectSeries() {\n    const series = API.getData('series');\n    const selected = await UI.form(\n      `\n      <style>\n        #seriesForm {\n            font-size: 1.5em;\n        }\n        #seriesForm h1 {\n            font-size: 1.5em;\n            padding-top: 1em;\n            padding-bottom: 1em;\n        }\n        #seriesForm td, #seriesForm th {\n            text-align: left;\n            padding-top: 5px;\n            padding-bottom: 5px;\n        }\n        #seriesForm input[type=submit] {\n            margin-top: 10px;\n            margin-bottom: 5px;\n        }\n      </style>\n          <form id='seriesForm'>\n              <h1>Select a predefined collection of molecules</h1>\n              <table>\n                  {% for serie in series %}\n                      <tr>\n                      <th><input type=\"radio\" name=\"series\" value=\"{{loop.index0}}\">{{serie.name}}</th>\n                          <td>\n                            <i>{{serie.description}}</i>\n                          </td>\n                      </tr>\n                      {% endfor %}\n                </table>\n                  <input type=\"submit\" value=\"Load and predict molecules\" />\n          </form>\n`   ,\n        {},\n        { twig: {series}, dialog: {width: 800, height: 600} }\n    )\n    if (! selected) return;\n    return series[selected.series];\n}\n\nfunction getNumberOfElectrons(molecule) {\n    let mf = new MassTools.MF(molecule.getMolecularFormula().formula);\n    let electrons = 0;\n    const elements = mf.getElements();\n    for (const element of elements) {\n        electrons+=element.number * MassTools.elementsObject[element.symbol].number;\n    }\n    return electrons;\n}\n"]}],"libs":[[{"lib":"openchemlib/openchemlib-core","alias":"OCL"},{"lib":"src/util/ui","alias":"UI"},{"lib":"MassTools","alias":"MassTools"}]],"buttons":[[{"name":"predictFromMolfile","label":"Predict","hide":[],"disable":[]}]]}},"layers":{"Default layer":{"position":{"left":28,"top":41},"size":{"width":21,"height":6},"zIndex":0,"display":true,"title":"All the actions","bgColor":[255,255,255,0],"wrapper":false,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":0,"top":47},"size":{"width":55,"height":40},"zIndex":0,"display":false,"title":"All the actions","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Admin":{"position":{"left":0,"top":0},"size":{"width":84,"height":58},"zIndex":0,"display":true,"title":"All the actions","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Chart":{"position":{"left":30,"top":39},"size":{"width":21,"height":6},"zIndex":0,"display":false,"title":"All the actions","bgColor":[255,255,255,0],"wrapper":false,"created":true,"name":"Default layer"},"Series":{"position":{"left":30,"top":39},"size":{"width":21,"height":6},"zIndex":0,"display":false,"title":"All the actions","bgColor":[255,255,255,0],"wrapper":false,"created":true,"name":"Default layer"},"Shepherd":{"position":{"left":30,"top":39},"size":{"width":21,"height":6},"zIndex":0,"display":false,"title":"All the actions","bgColor":[255,255,255,0],"wrapper":false,"created":true,"name":"Default layer"},"TrackingInfo":{"position":{"left":28,"top":41},"size":{"width":21,"height":6},"zIndex":0,"display":false,"title":"All the actions","bgColor":[255,255,255,0],"wrapper":false,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":28,"top":41},"size":{"width":21,"height":6},"zIndex":0,"display":false,"title":"All the actions","bgColor":[255,255,255,0],"wrapper":false,"created":true,"name":"Default layer"}},"id":3,"vars_in":[{"rel":"inputValue","name":"loadMolfile"}],"actions_in":[{"rel":"execute","name":"predictFromMolfile"},{"rel":"execute","name":"loadSeries"},{"rel":"execute","name":"clearHistory"},{"rel":"execute","name":"clickedAnnotation"},{"rel":"execute","name":"loadMolfile"},{"rel":"execute","name":"bondClicked"},{"rel":"execute","name":"trackMove"},{"rel":"execute","name":"resetPreferences"}],"vars_out":[{"jpath":[]}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Open Preferences"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"All the actions","zindex":21},{"url":"modules/types/science/spectra/spectra_displayer/","configuration":{"sections":{"graph":[{"sections":{},"groups":{"graph":[{"url":[""],"zoom":["x"],"wheelAction":["zoomY"],"wheelbaseline":[0],"fullOut":["yAxis"],"legend":["bottom"],"legendOptions":[["isSerieHideable","isSerieSelectable"]],"mouseTracking":[["track"]],"trackingAxis":["x"],"selectScatter":[[]],"independantYZoom":[["yes"]]}]}}],"axis":[{"sections":{},"groups":{"xAxis":[{"checkboxes":[["display","flip","main","sec"]],"label":["Wavenumber (cm⁻¹)"],"beforeSpacing":["0"],"afterSpacing":[0],"min":[""],"max":[""],"nbTicksPrimary":[5],"axismodification":["none"]}],"yAxis":[{"checkboxes":[["display","main","sec"]],"label":["Intensity"],"beforeSpacing":["0.05"],"afterSpacing":["0.3"],"min":[""],"max":[""],"nbTicksPrimary":[5],"fitToAxisOnFromTo":[[]]}]}}],"series":[{"sections":{},"groups":{"series":[{"overflow":[[]],"stackVerticalSpacing":[0]}]}}],"variables":[{"sections":{},"groups":{"variables":[[{"variable":"chart","axis":"0","adaptTo":"none","plotcolor":[1,1,255,1],"strokewidth":"1","strokestyle":"1","plotcontinuous":"continuous","peakpicking":[],"markers":[],"markerShape":"1","markerSize":2,"normalize":"none","optimizeSlots":[],"tracking":["yes"]}]]}}],"misc":[{"sections":{},"groups":{"misc":[{"highlightOptions":["{height:'100%', fill: 'rgba(255,255,0,0.2)'}"]}]}}]},"groups":{}},"layers":{"Default layer":{"position":{"left":39,"top":5},"size":{"width":61,"height":43},"zIndex":0,"display":true,"title":"Click on a signal annotation to check the corresponding vibration","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":55,"top":1},"size":{"width":59,"height":33},"zIndex":0,"display":false,"title":"Click on a signal annotation to check the corresponding vibration","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Admin":{"position":{"left":0,"top":59},"size":{"width":59,"height":25},"zIndex":0,"display":true,"title":"Click on a signal annotation to check the corresponding vibration","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Chart":{"position":{"left":53,"top":5},"size":{"width":64,"height":41},"zIndex":0,"display":true,"title":"Click on a signal annotation to check the corresponding vibration","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Series":{"position":{"left":53,"top":5},"size":{"width":64,"height":41},"zIndex":0,"display":false,"title":"Click on a signal annotation to check the corresponding vibration","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Shepherd":{"position":{"left":53,"top":5},"size":{"width":64,"height":41},"zIndex":0,"display":false,"title":"Click on a signal annotation to check the corresponding vibration","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"TrackingInfo":{"position":{"left":0,"top":8},"size":{"width":61,"height":43},"zIndex":0,"display":true,"title":"Click on a signal annotation to check the corresponding vibration","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":0,"top":8},"size":{"width":63,"height":46},"zIndex":0,"display":true,"title":"Click on a signal annotation to check the corresponding vibration","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"}},"id":4,"vars_in":[{"rel":"annotations","name":"annotations"},{"rel":"chart","name":"chart"},{"rel":"annotations","name":"trackAnnotations"},{"rel":"annotations","name":"rangeAnnotations"}],"actions_in":[{"rel":"fullOut","name":"fullOut"},{"rel":"_editPreferences","name":"chartPreferences"}],"vars_out":[{"jpath":[]}],"actions_out":[{"event":"onShapeClick","rel":"shapeInfos","jpath":[],"name":"clickedAnnotation"},{"event":"onTrackMouse","rel":"dataAndEvent","jpath":[],"name":"trackMove"},{"event":"onTrackClick","rel":"dataAndEvent","jpath":[],"name":"trackClicked"}],"toolbar":{"custom":[[{"title":"Reset preferences","icon":"fa-dot-circle","action":"resetPreferences","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Print","Show fullscreen"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"Click on a signal annotation to check the corresponding vibration","zindex":1},{"url":"modules/types/client_interaction/code_editor/","configuration":{"sections":{},"groups":{"group":[{"mode":["html"],"outputType":[null],"btnvalue":["Send script"],"iseditable":[["editable"]],"hasButton":[["button"]],"variable":[[]],"storeOnChange":[["store"]],"debouncing":[0],"script":["<select name=\"method\">\n    <option value=\"GFNFF\">Force field (GFNFF)</option>\n    <option value=\"GFN2xTB\">semi-empirical quantum mechanics</option>\n</select>"]}],"ace":[{"useSoftTabs":[["yes"]],"tabSize":[4]}]}},"layers":{"Default layer":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":0,"top":1},"size":{"width":49,"height":13},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Chart":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Series":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Shepherd":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"TrackingInfo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"}},"id":5,"vars_in":[{}],"actions_in":[{}],"vars_out":[{"event":"onEditorChange","rel":"data","jpath":[],"name":"twigTemplate"}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Open Preferences"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"","zindex":1},{"url":"modules/types/display/template-twig/","configuration":{"sections":{},"groups":{"group":[{"selectable":[[]],"template":[""],"modifyInForm":[["yes"]],"debouncing":[0],"formOptions":[["keepFormValueIfDataUndefined"]]}]}},"layers":{"Default layer":{"position":{"left":1,"top":45},"size":{"width":34,"height":5},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":false,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":0,"top":15},"size":{"width":49,"height":10},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":68,"top":45},"size":{"width":30,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Chart":{"position":{"left":11,"top":42},"size":{"width":21,"height":6},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":false,"created":true,"name":"Default layer"},"Series":{"position":{"left":11,"top":42},"size":{"width":21,"height":6},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":false,"created":true,"name":"Default layer"},"Shepherd":{"position":{"left":11,"top":42},"size":{"width":21,"height":6},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":false,"created":true,"name":"Default layer"},"TrackingInfo":{"position":{"left":4,"top":44},"size":{"width":34,"height":5},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":false,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":4,"top":44},"size":{"width":34,"height":5},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":false,"created":true,"name":"Default layer"}},"id":6,"vars_in":[{"rel":"form","name":"preferences"},{"rel":"tpl","name":"twigTemplate"}],"actions_in":[{}],"vars_out":[{"jpath":[]}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Open Preferences"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"","zindex":3},{"url":"modules/types/edition/object_editor/","configuration":{"sections":{},"groups":{"group":[{"editable":["view"],"expanded":[[]],"storeObject":[[]],"displayValue":[[]],"searchBox":[["search"]],"sendButton":[[]],"output":["new"],"storedObject":["{}"]}]}},"layers":{"Default layer":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":130,"top":0},"size":{"width":40,"height":27},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Chart":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Series":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Shepherd":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"TrackingInfo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"}},"id":7,"vars_in":[{"rel":"value","name":"preferences"}],"actions_in":[{}],"vars_out":[{"jpath":[]}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Open Preferences"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"","zindex":1},{"url":"modules/types/edition/slick_grid/","configuration":{"sections":{},"groups":{"group":[{"slickCheck":[["enableCellNavigation","rowNumbering","forceFitColumns","highlightScroll","forgetLastActive","editable","filterColumns"]],"copyPaste":[[]],"copyPasteOptions":[["newRows"]],"autoColumns":[[]],"toolbar":[[]],"colorjpath":[[]],"slick.defaultColumnWidth":[null],"slick.rowHeight":[null],"slick.headerRowHeight":[30],"slick.selectionModel":["row"],"idProperty":[""],"filterType":["pref"],"filterRow":["// Documentation: https://github.com/NPellet/visualizer/blob/46b40ca86345f8fa313563bf9c6ecb80ba323101/src/modules/types/edition/slick_grid/view.js#L1695-L1735"],"customJpaths":["_highlight"]}],"cols":[[{"name":"ID","jpath":["number"],"editor":"none","forceType":"","formatter":"typerenderer","copyFormatter":"default","visibility":"both","rendererOptions":"","editorOptions":"","hideColumn":[]},{"name":"Intensity","jpath":["intensity"],"editor":"none","forceType":"","formatter":"typerenderer","copyFormatter":"default","visibility":"both","rendererOptions":"numeral: '0.000'","editorOptions":"","hideColumn":[]},{"name":"Wavenumber (cm⁻¹)","jpath":["wavenumber"],"editor":"none","forceType":"","formatter":"typerenderer","copyFormatter":"default","visibility":"both","rendererOptions":"numeral: '0000.0'","editorOptions":"","hideColumn":[]}]],"actionCols":[[{"backgroundColor":[255,255,255,0],"color":[0,0,0,1],"position":"end","clickMode":"text"}]],"groupings":[[{"getter":[]}]],"actionOutButtons":[[{}]],"data":[{"saveInView":[[]],"varname":[""],"data":["[]"]}]}},"layers":{"Default layer":{"position":{"left":39,"top":49},"size":{"width":61,"height":41},"zIndex":0,"display":true,"title":"List of modes (click on a row to load the corresponding animation)","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"List of modes (click on a row to load the corresponding animation)","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":62,"top":65},"size":{"width":64,"height":18},"zIndex":0,"display":true,"title":"List of modes (click on a row to load the corresponding animation)","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Admin"},"Chart":{"position":{"left":0,"top":47},"size":{"width":52,"height":38},"zIndex":0,"display":true,"title":"List of modes (click on a row to load the corresponding animation)","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Series":{"position":{"left":53,"top":47},"size":{"width":64,"height":38},"zIndex":0,"display":false,"title":"List of modes (click on a row to load the corresponding animation)","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Shepherd":{"position":{"left":53,"top":47},"size":{"width":64,"height":38},"zIndex":0,"display":false,"title":"List of modes (click on a row to load the corresponding animation)","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"TrackingInfo":{"position":{"left":39,"top":49},"size":{"width":61,"height":41},"zIndex":0,"display":false,"title":"List of modes (click on a row to load the corresponding animation)","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":39,"top":49},"size":{"width":61,"height":41},"zIndex":0,"display":false,"title":"List of modes (click on a row to load the corresponding animation)","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"}},"id":8,"vars_in":[{"rel":"list","name":"modes"}],"actions_in":[{"rel":"selectRow","name":"selectMode"}],"vars_out":[{"event":"onRowActive","rel":"row","jpath":["displacements"],"name":"displacements"},{"event":"onRowActive","rel":"row","jpath":[],"name":"selected"}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[[]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"List of modes (click on a row to load the corresponding animation)","zindex":1},{"url":"modules/types/science/chemistry/jsme/","configuration":{"sections":{},"groups":{"group":[{"prefs":[["nozoom","useopenchemlib","nocontextmenu","depict","exportSVG"]],"defaultaction":[null],"labelsize":[14],"bondwidth":[1],"highlightColor":["3"],"outputResult":[[]]}]}},"layers":{"Default layer":{"position":{"left":101,"top":49},"size":{"width":49,"height":41},"zIndex":0,"display":true,"title":"Click on a bond to see the most relevant vibration","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Click on a bond to see the most relevant vibration","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":87,"top":0},"size":{"width":42,"height":38},"zIndex":0,"display":true,"title":"Click on a bond to see the most relevant vibration","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Admin"},"Chart":{"position":{"left":118,"top":47},"size":{"width":60,"height":38},"zIndex":0,"display":true,"title":"Click on a bond to see the most relevant vibration","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Series":{"position":{"left":118,"top":47},"size":{"width":60,"height":38},"zIndex":0,"display":false,"title":"Click on a bond to see the most relevant vibration","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Shepherd":{"position":{"left":118,"top":47},"size":{"width":60,"height":38},"zIndex":0,"display":false,"title":"Click on a bond to see the most relevant vibration","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"TrackingInfo":{"position":{"left":101,"top":49},"size":{"width":49,"height":41},"zIndex":0,"display":false,"title":"Click on a bond to see the most relevant vibration","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":101,"top":49},"size":{"width":49,"height":41},"zIndex":0,"display":false,"title":"Click on a bond to see the most relevant vibration","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"}},"id":9,"vars_in":[{"rel":"mol","name":"expandedMolfile"}],"actions_in":[{}],"vars_out":[{"jpath":[]}],"actions_out":[{"event":"onBondClicked","rel":"bond","jpath":[],"name":"bondClicked"}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[[]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"Click on a bond to see the most relevant vibration","zindex":1},{"url":"modules/types/edition/slick_grid/","configuration":{"sections":{},"groups":{"group":[{"slickCheck":[["enableCellNavigation","rowNumbering","forceFitColumns","highlightScroll","forgetLastActive","editable"]],"copyPaste":[[]],"copyPasteOptions":[["newRows"]],"autoColumns":[["remove"]],"toolbar":[[]],"colorjpath":[[]],"slick.defaultColumnWidth":[null],"slick.rowHeight":["80"],"slick.headerRowHeight":[30],"slick.selectionModel":["row"],"idProperty":[""],"filterType":["pref"],"filterRow":["// Documentation: https://github.com/NPellet/visualizer/blob/46b40ca86345f8fa313563bf9c6ecb80ba323101/src/modules/types/edition/slick_grid/view.js#L1695-L1735"],"customJpaths":[""]}],"cols":[[{"name":"Structure","jpath":["molfile"],"editor":"none","forceType":"molfile2d","formatter":"typerenderer","copyFormatter":"default","visibility":"both","rendererOptions":"","editorOptions":"","width":258,"hideColumn":[]},{"name":"Method","jpath":["method"],"editor":"none","forceType":"","formatter":"typerenderer","copyFormatter":"default","visibility":"both","rendererOptions":"","editorOptions":"","width":121,"hideColumn":[]},{"name":"Color","jpath":["color"],"editor":"none","forceType":"color","formatter":"typerenderer","copyFormatter":"default","visibility":"both","rendererOptions":"","editorOptions":"","width":71,"hideColumn":[]}]],"actionCols":[[{"backgroundColor":[255,255,255,0],"color":[0,0,0,1],"position":"end","clickMode":"text"}]],"groupings":[[{"getter":[]}]],"actionOutButtons":[[{}]],"data":[{"saveInView":[[]],"varname":[""],"data":["[]"]}]}},"layers":{"Default layer":{"position":{"left":0,"top":49},"size":{"width":38,"height":41},"zIndex":0,"display":true,"title":"Click row to load modes, smiley to load collections","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":191,"top":2},"size":{"width":55,"height":54},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Admin"},"Chart":{"position":{"left":0,"top":5},"size":{"width":52,"height":41},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Series":{"position":{"left":0,"top":47},"size":{"width":52,"height":38},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Shepherd":{"position":{"left":0,"top":47},"size":{"width":52,"height":38},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"TrackingInfo":{"position":{"left":0,"top":49},"size":{"width":38,"height":41},"zIndex":0,"display":false,"title":"Click row to load modes, smiley to load collections","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":0,"top":49},"size":{"width":38,"height":41},"zIndex":0,"display":false,"title":"Click row to load modes, smiley to load collections","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"}},"id":10,"vars_in":[{"rel":"list","name":"history"}],"actions_in":[{"rel":"selectRow","name":"selectHistory"}],"vars_out":[{"event":"onRowActive","rel":"row","jpath":["expandedMolfile"],"name":"expandedMolfile"},{"event":"onRowActive","rel":"row","jpath":[],"name":"selectedIR"},{"event":"onRowActive","rel":"row","jpath":["modes"],"name":"modes"},{"event":"onRowActive","rel":"row","jpath":["annotations"],"name":"annotations"},{"event":"onRowActive","rel":"row","jpath":["bonds"],"name":"bonds"},{"event":"onRowActive","rel":"row","jpath":["strongest"],"name":"selected"},{"event":"onRowActive","rel":"row","jpath":["strongest","displacements"],"name":"displacements"}],"actions_out":[{"event":"onRowActive","rel":"row","jpath":[],"name":"loadMolfile"}],"toolbar":{"custom":[[{"title":"Clear history","icon":"fa-eraser","action":"clearHistory","position":"begin","color":[100,100,100,1]},{"title":"Load a demo molecule set","icon":"fa-laugh","action":"loadSeries","position":"begin","color":[166,28,0,1]}]],"common":[{"toolbar":[[]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"Click row to load modes, smiley to load collections","zindex":1},{"url":"modules/types/client_interaction/code_executor/","configuration":{"sections":{},"groups":{"group":[{"display":[["editor","buttons"]],"execOnLoad":[[]],"asyncAwait":[["top"]],"script":["let selectedIR = DataObject.resurrect(API.getData('selectedIR'));\nlet history = DataObject.resurrect(API.getData('history'));\nconst preferences = API.getData('preferences').resurrect();\nconst {xyMaxY, xDivide, xMaxValue, xGetFromToIndex} = SpectraProcessing;\n\nconst chart = {\n    series: [],\n    axes: {\n        x: {\n            label: 'Wavenumber (cm⁻¹)',\n        },\n        y: {\n            label: preferences.variables === 'a vs x' ? 'Intensity' : 'Transmittance (%)',\n        }\n    }\n};\n\nswitch (preferences.variables) {\n    case 'a vs x':\n        API.doAction('chartPreferences', {\n            \"wheelbaseline\": 0,\n        });\n        break;\n    default:\n        API.doAction('chartPreferences', {\n            \"wheelbaseline\": 100,\n        });\n}\n\nconst factor=preferences.variables==='a vs x'?1:-Math.log10(0.5);\n// need to take into account the preferences\n\nfor (let selected of history) {\n    const data = selected.predicted;\n    let {x, a} = data;\n    if (preferences.normalization.normalize) {\n        const from=Number(preferences.normalization.from);\n        const to=Number(preferences.normalization.to);\n        const {fromIndex, toIndex} = xGetFromToIndex(x, {from, to});\n        const maxValue = xMaxValue(a, {fromIndex, toIndex});\n        console.log({fromIndex, toIndex, maxValue})\n        if (maxValue) {\n            a = xDivide(a, (maxValue/factor));\n        }\n    }\n    \n    switch (preferences.variables) {\n        case 'a vs x':\n            data.y = a.slice(0);\n            break;\n        default:\n            data.y =a.map((absorbance) => 10 ** -absorbance * 100);\n    }\n\n\n    chart.series.push({\n        data,\n        name: selected.name || selected.smiles,\n        style: {\n            line: {\n                color: selected.color,\n                width: selectedIR && selected.color === selectedIR.color ? 3 : 1,\n            }\n        }\n    })\n}\n\nAPI.createData('chart', chart);\n"]}],"libs":[[{"lib":"SpectraProcessing","alias":"SpectraProcessing"}]],"buttons":[[{"name":"button1","label":"Execute","hide":[],"disable":[]}]]}},"layers":{"Default layer":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Update the chart each time it history or selected changes","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Update the chart each time it history or selected changes","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Update the chart each time it history or selected changes","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Admin"},"Chart":{"position":{"left":53,"top":47},"size":{"width":64,"height":38},"zIndex":0,"display":true,"title":"Update the chart each time it history or selected changes","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Chart"},"Series":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Update the chart each time it history or selected changes","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Shepherd":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Update the chart each time it history or selected changes","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"TrackingInfo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Update the chart each time it history or selected changes","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Update the chart each time it history or selected changes","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"}},"id":11,"vars_in":[{"rel":"inputValue","name":"selectedIR"},{"rel":"inputValue","name":"history"},{"rel":"inputValue","name":"preferences"}],"actions_in":[{}],"vars_out":[{"jpath":[]}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Open Preferences"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"Update the chart each time it history or selected changes","zindex":1},{"url":"modules/types/science/chemistry/ocl_editor/","configuration":{"sections":{},"groups":{"group":[{"prefs":[["svg","inPlace"]]}]}},"layers":{"Default layer":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Admin"},"Chart":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Chart"},"Series":{"position":{"left":94,"top":25},"size":{"width":49,"height":50},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"Shepherd":{"position":{"left":80,"top":25},"size":{"width":49,"height":50},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"TrackingInfo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"}},"id":12,"vars_in":[{"rel":"mol","name":"seriesMolfile"}],"actions_in":[{}],"vars_out":[{"jpath":[]}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Open Preferences"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"","zindex":1},{"url":"modules/types/edition/slick_grid/","configuration":{"sections":{},"groups":{"group":[{"slickCheck":[["enableCellNavigation","rowNumbering","forceFitColumns","highlightScroll","forgetLastActive","editable","enableAddRow"]],"copyPaste":[[]],"copyPasteOptions":[["newRows"]],"autoColumns":[["remove","reorder"]],"toolbar":[[]],"colorjpath":[[]],"slick.defaultColumnWidth":[null],"slick.rowHeight":[null],"slick.headerRowHeight":[30],"slick.selectionModel":["row"],"idProperty":[""],"filterType":["pref"],"filterRow":["if (this.event==='rowsSelected') {\n    if (this.rows.length===1) {\n        var item=this.rows[0].item;\n        if (! item.entries) {\n            item.entries=[];\n        }\n        if (! item.explanation) {\n            item.explanation='';\n        }\n    }\n}"],"customJpaths":["name"]}],"cols":[[{"name":"Name","jpath":["name"],"editor":"string","forceType":"","formatter":"typerenderer","copyFormatter":"default","visibility":"both","rendererOptions":"","editorOptions":"","hideColumn":[]},{"name":"Description","jpath":["description"],"editor":"string","forceType":"","formatter":"typerenderer","copyFormatter":"default","visibility":"both","rendererOptions":"","editorOptions":"","hideColumn":[]}]],"actionCols":[[{"backgroundColor":[255,255,255,0],"color":[0,0,0,1],"position":"end","clickMode":"text"}]],"groupings":[[{"getter":[]}]],"actionOutButtons":[[{}]],"data":[{"saveInView":[["yes"]],"varname":["series"],"data":["[{\"name\":\"Directing groups\",\"entries\":[{\"id\":\"1\",\"oclCode\":{\"type\":\"oclId\",\"value\":\"daDH@@RVU[f@@@@\",\"coordinates\":\"!BOg?PO]A\\\\Og?Po]B}Og|\"},\"name\":\"benzaldehyde\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n  9  9  0  0  0  0  0  0  0  0999 V2000\\n   10.8125  -11.6250   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   10.8125  -13.1250   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.1115  -13.8750   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.4106  -13.1250   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.4106  -11.6250   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.1115  -10.8750   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   14.7096  -10.8750   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   14.7096   -9.3750   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   16.0087  -11.6250   -0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  2  0  0  0  0\\n  2  3  1  0  0  0  0\\n  3  4  2  0  0  0  0\\n  4  5  1  0  0  0  0\\n  5  6  2  0  0  0  0\\n  6  1  1  0  0  0  0\\n  5  7  1  0  0  0  0\\n  7  8  2  0  0  0  0\\n  7  9  1  0  0  0  0\\nM  END\\n\"},{\"id\":\"2\",\"oclCode\":{\"type\":\"oclId\",\"value\":\"deTD@@iIYe^e```@@\"},\"name\":\"o-methoxybenzaldehyde\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n 11 11  0  0  0  0  0  0  0  0999 V2000\\n   11.3082  -13.9063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   11.3082  -15.4063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.6072  -16.1563    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9062  -15.4063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9062  -13.9063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.6072  -13.1562    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.2053  -13.1562    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.2053  -11.6562    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.6072  -11.6562   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   11.3082  -10.9062   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   16.5043  -13.9063    0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  2  0  0  0  0\\n  2  3  1  0  0  0  0\\n  3  4  2  0  0  0  0\\n  4  5  1  0  0  0  0\\n  5  6  2  0  0  0  0\\n  6  1  1  0  0  0  0\\n  5  7  1  0  0  0  0\\n  7  8  2  0  0  0  0\\n  6  9  1  0  0  0  0\\n  9 10  1  0  0  0  0\\n  7 11  1  0  0  0  0\\nM  END\\n\"},{\"id\":\"3\",\"oclCode\":{\"type\":\"oclId\",\"value\":\"deTD@@yIYVvE`BH@@\"},\"name\":\"m-methoxybenzaldehyde\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n 11 11  0  0  0  0  0  0  0  0999 V2000\\n   11.3082  -13.9063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   11.3082  -15.4063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.6072  -16.1563    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9062  -15.4063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9062  -13.9063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.6072  -13.1562    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.2053  -13.1562    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.2053  -11.6562    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   10.0091  -13.1563   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n    8.7101  -13.9063   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   16.5043  -13.9063    0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  2  0  0  0  0\\n  2  3  1  0  0  0  0\\n  3  4  2  0  0  0  0\\n  4  5  1  0  0  0  0\\n  5  6  2  0  0  0  0\\n  6  1  1  0  0  0  0\\n  5  7  1  0  0  0  0\\n  7  8  2  0  0  0  0\\n  1  9  1  0  0  0  0\\n  9 10  1  0  0  0  0\\n  7 11  1  0  0  0  0\\nM  END\\n\"},{\"id\":\"4\",\"oclCode\":{\"type\":\"oclId\",\"value\":\"deTD@@EIYWVy`@h@@\"},\"name\":\"p-methoxybenzaldehyde\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n 11 11  0  0  0  0  0  0  0  0999 V2000\\n   11.3082  -13.9063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   11.3082  -15.4063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.6072  -16.1563    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9062  -15.4063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9062  -13.9063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.6072  -13.1562    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.2053  -13.1562    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.2053  -11.6562    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   10.0091  -16.1563   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n    8.7101  -15.4063   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   16.5043  -13.9063    0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  2  0  0  0  0\\n  2  3  1  0  0  0  0\\n  3  4  2  0  0  0  0\\n  4  5  1  0  0  0  0\\n  5  6  2  0  0  0  0\\n  6  1  1  0  0  0  0\\n  5  7  1  0  0  0  0\\n  7  8  2  0  0  0  0\\n  2  9  1  0  0  0  0\\n  9 10  1  0  0  0  0\\n  7 11  1  0  0  0  0\\nM  END\\n\"},{\"id\":\"5\",\"oclCode\":{\"type\":\"oclId\",\"value\":\"dmvLAHAEbTyInYTYZ@`P@@\"},\"name\":\"o-nitrobenzaldehyde\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n 12 12  0  0  0  0  0  0  0  0999 V2000\\n   11.3082  -13.9063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   11.3082  -15.4063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.6072  -16.1563    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9062  -15.4063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9062  -13.9063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.6072  -13.1562    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.2053  -13.1562    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.2053  -11.6562    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.6072  -11.6562   -0.0000 N   0  0  0  0  0  0  0  0  0  0  0  0\\n   11.3082  -10.9062   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9062  -10.9062   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   16.5043  -13.9063    0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  2  0  0  0  0\\n  2  3  1  0  0  0  0\\n  3  4  2  0  0  0  0\\n  4  5  1  0  0  0  0\\n  5  6  2  0  0  0  0\\n  6  1  1  0  0  0  0\\n  5  7  1  0  0  0  0\\n  7  8  2  0  0  0  0\\n  6  9  1  0  0  0  0\\n  9 10  2  0  0  0  0\\n  9 11  1  0  0  0  0\\n  7 12  1  0  0  0  0\\nM  CHG  2   9   1  11  -1\\nM  END\\n\"},{\"id\":\"6\",\"oclCode\":{\"type\":\"oclId\",\"value\":\"dmvLAHAEbT{Hihdh^Eh@I@@\"},\"name\":\"m-nitrobenzaldehyde\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n 12 12  0  0  0  0  0  0  0  0999 V2000\\n   11.3082  -13.9063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   11.3082  -15.4063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.6072  -16.1563    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9062  -15.4063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9062  -13.9063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.6072  -13.1562    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.2053  -13.1562    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.2053  -11.6562    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   10.0091  -13.1563   -0.0000 N   0  0  0  0  0  0  0  0  0  0  0  0\\n    8.7101  -13.9063   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   10.0091  -11.6563   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   16.5043  -13.9063    0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  2  0  0  0  0\\n  2  3  1  0  0  0  0\\n  3  4  2  0  0  0  0\\n  4  5  1  0  0  0  0\\n  5  6  2  0  0  0  0\\n  6  1  1  0  0  0  0\\n  5  7  1  0  0  0  0\\n  7  8  2  0  0  0  0\\n  1  9  1  0  0  0  0\\n  9 10  1  0  0  0  0\\n  9 11  2  0  0  0  0\\n  7 12  1  0  0  0  0\\nM  CHG  2   9   1  10  -1\\nM  END\\n\"},{\"id\":\"7\",\"oclCode\":{\"type\":\"oclId\",\"value\":\"dmvLAHAEbTyInUwaZ@BP@@\"},\"name\":\"p-nitrobenzaldehyde\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n 12 12  0  0  0  0  0  0  0  0999 V2000\\n   11.3082  -13.9063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   11.3082  -15.4063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.6072  -16.1563    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9062  -15.4063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9062  -13.9063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.6072  -13.1562    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.2053  -13.1562    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.2053  -11.6562    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   10.0091  -16.1563   -0.0000 N   0  0  0  0  0  0  0  0  0  0  0  0\\n    8.7101  -15.4063   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   10.0091  -17.6563   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   16.5043  -13.9063    0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  2  0  0  0  0\\n  2  3  1  0  0  0  0\\n  3  4  2  0  0  0  0\\n  4  5  1  0  0  0  0\\n  5  6  2  0  0  0  0\\n  6  1  1  0  0  0  0\\n  5  7  1  0  0  0  0\\n  7  8  2  0  0  0  0\\n  2  9  1  0  0  0  0\\n  9 10  1  0  0  0  0\\n  9 11  2  0  0  0  0\\n  7 12  1  0  0  0  0\\nM  CHG  2   9   1  10  -1\\nM  END\\n\"}],\"explanation\":\"<p>Using the carbonyl stretching frequency as probe for the directing effect of substituents on aromatic rings</p>\"},{\"description\":\"\",\"entries\":[{\"id\":\"3\",\"oclCode\":{\"type\":\"oclId\",\"value\":\"gCaHDIAIi`@\"},\"name\":\"Acyl fluoride\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n  4  3  0  0  0  0  0  0  0  0999 V2000\\n   12.6072  -15.0313    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9062  -14.2812    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9062  -12.7812    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.2053  -15.0313    0.0000 F   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  1  0  0  0  0\\n  2  3  2  0  0  0  0\\n  2  4  1  0  0  0  0\\nM  END\\n\"},{\"id\":\"4\",\"oclCode\":{\"type\":\"oclId\",\"value\":\"gCaHDHaIi`@\"},\"name\":\"Acyl chloride\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n  4  3  0  0  0  0  0  0  0  0999 V2000\\n   12.6072  -15.0313    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9062  -14.2812    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9062  -12.7812    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.2053  -15.0313    0.0000 Cl  0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  1  0  0  0  0\\n  2  3  2  0  0  0  0\\n  2  4  1  0  0  0  0\\nM  END\\n\"},{\"id\":\"2\",\"oclCode\":{\"type\":\"oclId\",\"value\":\"gCa@@dsP@\"},\"name\":\"Acetone\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n  4  3  0  0  0  0  0  0  0  0999 V2000\\n   12.6072  -15.0313    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9062  -14.2812    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9062  -12.7812    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.2053  -15.0313    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  1  0  0  0  0\\n  2  3  2  0  0  0  0\\n  2  4  1  0  0  0  0\\nM  END\\n\"},{\"id\":\"1\",\"oclCode\":{\"type\":\"oclId\",\"value\":\"eMHAIX@\",\"coordinates\":\"!BWg?`wP\"},\"name\":\"Acetaldehyde\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n  4  3  0  0  0  0  0  0  0  0999 V2000\\n    6.6251   -9.3752   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n    7.9242   -8.6252   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n    7.9242   -7.1252   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n    9.2232   -9.3752   -0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  1  0  0  0  0\\n  2  3  2  0  0  0  0\\n  2  4  1  0  0  0  0\\nM  END\\n\"},{\"id\":\"5\",\"oclCode\":{\"type\":\"oclId\",\"value\":\"gJP`@dfVh@\"},\"name\":\"Methyl acetate\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n  5  4  0  0  0  0  0  0  0  0999 V2000\\n   11.9577  -15.0313    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.2567  -14.2812    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.2567  -12.7812    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   14.5558  -15.0313    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.8548  -14.2813   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  1  0  0  0  0\\n  2  3  2  0  0  0  0\\n  2  4  1  0  0  0  0\\n  4  5  1  0  0  0  0\\nM  END\\n\"},{\"id\":\"6\",\"oclCode\":{\"type\":\"oclId\",\"value\":\"gGY@DDfYj`@\"},\"name\":\"N,N-dimethylacetamide\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n  6  5  0  0  0  0  0  0  0  0999 V2000\\n   11.9577  -15.0313    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.2567  -14.2812    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.2567  -12.7812    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   14.5558  -15.0313    0.0000 N   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.8548  -14.2813    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   14.5557  -16.5313   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  1  0  0  0  0\\n  2  3  2  0  0  0  0\\n  2  4  1  0  0  0  0\\n  4  5  1  0  0  0  0\\n  4  6  1  0  0  0  0\\nM  END\\n\"}],\"explanation\":\"<p>Using the carbonyl stretching frequency as probe for the inductive and mesomeric effect</p>\",\"name\":\"Inductive / mesomeric effect\"},{\"description\":\"\",\"entries\":[{\"id\":\"1\",\"oclCode\":{\"type\":\"oclId\",\"value\":\"gGQ@@drmT@@\",\"coordinates\":\"!B_`BH?M_|bGwW_P\"},\"name\":\"pentan-3-one\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n  6  5  0  0  0  0  0  0  0  0999 V2000\\n    7.3127   -9.0627   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n    8.6117   -8.3127   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n    9.9107   -9.0627   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   11.2097   -8.3127   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.5088   -9.0627   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n    9.9107  -10.5627   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  1  0  0  0  0\\n  2  3  1  0  0  0  0\\n  3  4  1  0  0  0  0\\n  4  5  1  0  0  0  0\\n  3  6  2  0  0  0  0\\nM  END\\n\"},{\"id\":\"2\",\"oclCode\":{\"type\":\"oclId\",\"value\":\"gGQ@@drmL@@\"},\"name\":\"pent-1-en-3-one\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n  6  5  0  0  0  0  0  0  0  0999 V2000\\n   11.3082  -13.5312    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.6072  -12.7812    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9063  -13.5312    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.2053  -12.7812    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   16.5043  -13.5312    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9063  -15.0313    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  2  0  0  0  0\\n  2  3  1  0  0  0  0\\n  3  4  1  0  0  0  0\\n  4  5  1  0  0  0  0\\n  3  6  2  0  0  0  0\\nM  END\\n\"},{\"id\":\"3\",\"oclCode\":{\"type\":\"oclId\",\"value\":\"gGQ@@drmJ@@\"},\"name\":\"pent-1,4-diene-3-one\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n  6  5  0  0  0  0  0  0  0  0999 V2000\\n   11.3082  -13.5312    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.6072  -12.7812    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9063  -13.5312    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.2053  -12.7812    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   16.5043  -13.5312    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9063  -15.0313    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  2  0  0  0  0\\n  2  3  1  0  0  0  0\\n  3  4  1  0  0  0  0\\n  4  5  2  0  0  0  0\\n  3  6  2  0  0  0  0\\nM  END\\n\"}],\"explanation\":\"<p>Using the carbonyl stretching frequency as probe for the mesomeric effect</p>\",\"name\":\"Mesomeric effect\"},{\"name\":\"Gross selection rule\",\"entries\":[{\"name\":\"carbon dioxide\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n  3  2  0  0  0  0  0  0  0  0999 V2000\\n   14.0133  -14.0332   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.7961  -12.9288   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.0164  -14.9462   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  2  0  0  0  0\\n  1  3  2  0  0  0  0\\nM  END\\n\"},{\"name\":\"water\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n  3  2  0  0  0  0  0  0  0  0999 V2000\\n   13.8739  -13.4533   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.2363  -14.2967   -0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.5762  -13.9723   -0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  1  0  0  0  0\\n  1  3  1  0  0  0  0\\nM  END\\n\"},{\"name\":\"carbonyl sulfide \",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n  3  2  0  0  0  0  0  0  0  0999 V2000\\n   13.8535  -13.8266   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.8809  -12.8434   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   14.9316  -15.0316   -0.0000 S   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  2  0  0  0  0\\n  1  3  2  0  0  0  0\\nM  END\\n\"},{\"name\":\"nitrogen\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n  2  1  0  0  0  0  0  0  0  0999 V2000\\n   13.2705  -14.2730   -0.0000 N   0  0  0  0  0  0  0  0  0  0  0  0\\n   14.5420  -13.4770   -0.0000 N   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  3  0  0  0  0\\nM  END\\n\"},{\"name\":\"methane \",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n  5  4  0  0  0  0  0  0  0  0999 V2000\\n   13.9063  -13.8750   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9063  -12.3750   -0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.2053  -14.6250   -0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9063  -15.3750   -0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.6072  -14.6250   -0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  1  0  0  0  0\\n  1  3  1  0  0  0  0\\n  1  4  1  0  0  0  0\\n  1  5  1  0  0  0  0\\nM  END\\n\"},{\"name\":\"chloroflourobromoiodomethane\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n  5  4  0  0  0  0  0  0  0  0999 V2000\\n   13.9375  -12.9375   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.2365  -13.6875   -0.0000 Cl  0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9375  -11.4375   -0.0000 I   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9375  -14.4375   -0.0000 Br  0  0  0  0  0  0  0  0  0  0  0  0\\n   12.6385  -13.6875   -0.0000 F   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  1  0  0  0  0\\n  1  3  1  0  0  0  0\\n  1  4  1  0  0  0  0\\n  1  5  1  0  0  0  0\\nM  END\\n\"}],\"explanation\":\"<p>Symmetry dictates what normal modes are IR active. Can you predict how many IR active modes these molecules will have?</p>\"},{\"name\":\"Ring strain\",\"entries\":[{\"name\":\"cyclopropanone\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n  4  4  0  0  0  0  0  0  0  0999 V2000\\n   15.2052  -14.2120   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   16.7052  -14.2120   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.9552  -12.9130   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9063  -14.9620   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  1  0  0  0  0\\n  2  3  1  0  0  0  0\\n  3  1  1  0  0  0  0\\n  1  4  2  0  0  0  0\\nM  END\\n\"},{\"name\":\"cyclobutanone\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n  5  5  0  0  0  0  0  0  0  0999 V2000\\n   15.0779  -13.9668   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.0779  -15.3729   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   16.4840  -15.3729   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   16.4840  -13.9668   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9063  -12.5021   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  1  0  0  0  0\\n  2  3  1  0  0  0  0\\n  3  4  1  0  0  0  0\\n  4  1  1  0  0  0  0\\n  1  5  2  0  0  0  0\\nM  END\\n\"},{\"name\":\"cyclopentanone\",\"molfile\":\"\\nActelion Java MolfileCreator 2.0\\n\\n  0  0  0  0  0  0              0 V3000\\nM  V30 BEGIN CTAB\\nM  V30 COUNTS 9 8 0 0 0\\nM  V30 BEGIN ATOM\\nM  V30 1 C 12.6067 -14.3122 0 0\\nM  V30 2 C 13.9062 -13.5627 0 0\\nM  V30 3 O 13.9062 -12.0625 0 0\\nM  V30 4 C 15.2057 -14.3122 0 0\\nM  V30 5 C 16.5051 -13.5627 0 0\\nM  V30 6 C 16.5051 -12.0625 0 0\\nM  V30 7 C 12.6067 -15.8124 0 0\\nM  V30 8 C 11.3083 -15.0628 0 0\\nM  V30 9 C 11.3083 -13.5627 0 0\\nM  V30 END ATOM\\nM  V30 BEGIN BOND\\nM  V30 1 1 1 2\\nM  V30 2 2 2 3\\nM  V30 3 1 2 4\\nM  V30 4 2 4 5\\nM  V30 5 1 5 6\\nM  V30 6 1 1 7\\nM  V30 7 1 1 8\\nM  V30 8 1 1 9\\nM  V30 END BOND\\nM  V30 END CTAB\\nM  END\\n\"},{\"name\":\"cyclohexanone\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n  7  7  0  0  0  0  0  0  0  0999 V2000\\n   12.6072  -13.9375   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.6072  -15.4375   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9063  -16.1875   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.2053  -15.4375   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.2053  -13.9375   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9063  -13.1875   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9063  -11.6875   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  1  0  0  0  0\\n  2  3  1  0  0  0  0\\n  3  4  1  0  0  0  0\\n  4  5  1  0  0  0  0\\n  5  6  1  0  0  0  0\\n  6  1  1  0  0  0  0\\n  6  7  2  0  0  0  0\\nM  END\\n\"},{\"name\":\"cycloheptanone\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n  8  8  0  0  0  0  0  0  0  0999 V2000\\n   13.0671  -13.9187   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.0671  -15.4187   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   14.2399  -16.3539   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.7023  -16.0202   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   16.3532  -14.6687   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.7023  -13.3172   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   14.2399  -12.9835   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9063  -11.5211   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  1  0  0  0  0\\n  2  3  1  0  0  0  0\\n  3  4  1  0  0  0  0\\n  4  5  1  0  0  0  0\\n  5  6  1  0  0  0  0\\n  6  7  1  0  0  0  0\\n  7  1  1  0  0  0  0\\n  7  8  2  0  0  0  0\\nM  END\\n\"},{\"name\":\"cyclooctanone\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n  9  9  0  0  0  0  0  0  0  0999 V2000\\n   13.0786  -13.8866   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9917  -12.6966   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.4789  -12.5008   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   16.6689  -13.4139   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   16.8647  -14.9011   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.9515  -16.0911   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   14.4644  -16.2869   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.2743  -15.3738   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   11.9753  -16.1238   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  1  0  0  0  0\\n  2  3  1  0  0  0  0\\n  3  4  1  0  0  0  0\\n  4  5  1  0  0  0  0\\n  5  6  1  0  0  0  0\\n  6  7  1  0  0  0  0\\n  1  8  1  0  0  0  0\\n  8  7  1  0  0  0  0\\n  8  9  2  0  0  0  0\\nM  END\\n\"}],\"explanation\":\"<p>Use the carbonyl stretching frequency as probe for ring strain. How do you expect the carbonyl frequency to change for increasing ring size?</p>\"},{\"name\":\"Steric effect\",\"entries\":[{\"name\":\"(Z)-2,2-dimethylhex-4-en-3-one\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n  9  8  0  0  0  0  0  0  0  0999 V2000\\n   12.6067  -14.3123    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9063  -13.5627    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9063  -12.0625    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.2056  -14.3123    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   16.5050  -13.5627    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   16.5050  -12.0625    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.6067  -15.8125    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   11.3083  -15.0629    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   11.3083  -13.5627    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  1  0  0  0  0\\n  2  3  2  0  0  0  0\\n  2  4  1  0  0  0  0\\n  4  5  2  0  0  0  0\\n  5  6  1  0  0  0  0\\n  1  7  1  0  0  0  0\\n  1  8  1  0  0  0  0\\n  1  9  1  0  0  0  0\\nM  END\\n\"},{\"name\":\"(Z)-2,2,6,6-tetramethylhept-4-en-3-one\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n 12 11  0  0  0  0  0  0  0  0999 V2000\\n   13.9063  -16.1875    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.2055  -15.4381    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.6079  -15.4381    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.6079  -13.9381    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.9063  -13.1875    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   11.3086  -13.1875    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   10.0093  -13.9381    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   10.0093  -12.4380    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   11.3086  -11.6875    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.2055  -13.9381    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   16.5048  -14.6875    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   16.5048  -16.1875    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  1  0  0  0  0\\n  1  3  2  0  0  0  0\\n  3  4  1  0  0  0  0\\n  4  5  2  0  0  0  0\\n  4  6  1  0  0  0  0\\n  6  7  1  0  0  0  0\\n  6  8  1  0  0  0  0\\n  6  9  1  0  0  0  0\\n  2 10  1  0  0  0  0\\n  2 11  1  0  0  0  0\\n  2 12  1  0  0  0  0\\nM  END\\n\"},{\"name\":\"(Z)-6,6,6-trichloro-2,2-dimethylhex-4-en-3-one\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n 12 11  0  0  0  0  0  0  0  0999 V2000\\n   11.9641  -15.4166    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.2508  -16.1870    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   11.9881  -13.9165    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.2989  -13.1880    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   14.5857  -13.9585    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.3229  -11.6880    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.3470  -10.1881    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   12.0362  -10.9166    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   14.6338  -10.9584    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   14.5376  -16.9584    0.0000 Cl  0  0  0  0  0  0  0  0  0  0  0  0\\n   14.5617  -15.4584    0.0000 Cl  0  0  0  0  0  0  0  0  0  0  0  0\\n   13.2268  -17.6869    0.0000 Cl  0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  1  0  0  0  0\\n  1  3  2  0  0  0  0\\n  3  4  1  0  0  0  0\\n  4  5  2  0  0  0  0\\n  4  6  1  0  0  0  0\\n  6  7  1  0  0  0  0\\n  6  8  1  0  0  0  0\\n  6  9  1  0  0  0  0\\n  2 10  1  0  0  0  0\\n  2 11  1  0  0  0  0\\n  2 12  1  0  0  0  0\\nM  END\\n\"},{\"name\":\"(Z)-2,2-dimethyl-6,6,6-triphenylhex-4-en-3-one\",\"molfile\":\"\\nActelion Java MolfileCreator 2.0\\n\\n  0  0  0  0  0  0              0 V3000\\nM  V30 BEGIN CTAB\\nM  V30 COUNTS 27 29 0 0 0\\nM  V30 BEGIN ATOM\\nM  V30 1 C 16.4511 -14.1081 0 0\\nM  V30 2 C 16.4511 -12.6387 0 0\\nM  V30 3 C 15.1786 -11.9035 0 0\\nM  V30 4 O 13.9062 -12.6387 0 0\\nM  V30 5 C 14.4146 -15.2836 0 0\\nM  V30 6 C 15.3591 -16.4086 0 0\\nM  V30 7 C 13.47 -16.4086 0 0\\nM  V30 8 C 13.1421 -14.5484 0 0\\nM  V30 9 C 11.8697 -15.2836 0 0\\nM  V30 10 C 10.5972 -14.5484 0 0\\nM  V30 11 C 10.5972 -13.079 0 0\\nM  V30 12 C 11.8697 -12.3448 0 0\\nM  V30 13 C 13.1421 -13.079 0 0\\nM  V30 14 C 16.8068 -16.1539 0 0\\nM  V30 15 C 17.7514 -17.28 0 0\\nM  V30 16 C 17.2482 -18.6607 0 0\\nM  V30 17 C 15.8015 -18.9154 0 0\\nM  V30 18 C 14.8569 -17.7893 0 0\\nM  V30 19 C 13.9732 -17.7893 0 0\\nM  V30 20 C 13.0287 -18.9154 0 0\\nM  V30 21 C 11.5809 -18.6607 0 0\\nM  V30 22 C 11.0788 -17.28 0 0\\nM  V30 23 C 12.0233 -16.1539 0 0\\nM  V30 24 C 15.1786 -10.4341 0 0\\nM  V30 25 C 15.1786 -8.9595 0 0\\nM  V30 26 C 13.9062 -9.6999 0 0\\nM  V30 27 C 16.4511 -9.6999 0 0\\nM  V30 END ATOM\\nM  V30 BEGIN BOND\\nM  V30 1 2 1 2\\nM  V30 2 1 2 3\\nM  V30 3 2 3 4\\nM  V30 4 1 5 6\\nM  V30 5 1 5 7\\nM  V30 6 1 5 8\\nM  V30 7 2 8 9\\nM  V30 8 1 9 10\\nM  V30 9 2 10 11\\nM  V30 10 1 11 12\\nM  V30 11 2 12 13\\nM  V30 12 1 13 8\\nM  V30 13 2 6 14\\nM  V30 14 1 14 15\\nM  V30 15 2 15 16\\nM  V30 16 1 16 17\\nM  V30 17 2 17 18\\nM  V30 18 1 18 6\\nM  V30 19 2 7 19\\nM  V30 20 1 19 20\\nM  V30 21 2 20 21\\nM  V30 22 1 21 22\\nM  V30 23 2 22 23\\nM  V30 24 1 23 7\\nM  V30 25 1 5 1\\nM  V30 26 1 3 24\\nM  V30 27 1 24 25\\nM  V30 28 1 24 26\\nM  V30 29 1 24 27\\nM  V30 END BOND\\nM  V30 END CTAB\\nM  END\\n\"}],\"explanation\":\"<p>Steric crowding can change the geometry of a molecule. This can have an impact on the strength of the mesomeric effect.</p><p>We can probe the strength of this effect using the carbonyl stretching frequency.</p>\"},{\"name\":\"Theory vs. experiment\",\"entries\":[{\"name\":\"benzamide (1661 cm⁻¹)\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n  9  9  0  0  0  0  0  0  0  0999 V2000\\n    1.3596  -13.9375   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n    1.3596  -15.4375   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n    2.6586  -16.1875   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n    3.9576  -15.4375   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n    3.9576  -13.9375   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n    2.6586  -13.1875   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n    5.2566  -13.1875   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n    6.5557  -13.9375   -0.0000 N   0  0  0  0  0  0  0  0  0  0  0  0\\n    5.2566  -11.6875   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  2  0  0  0  0\\n  2  3  1  0  0  0  0\\n  3  4  2  0  0  0  0\\n  4  5  1  0  0  0  0\\n  5  6  2  0  0  0  0\\n  6  1  1  0  0  0  0\\n  5  7  1  0  0  0  0\\n  7  8  1  0  0  0  0\\n  7  9  2  0  0  0  0\\nM  END\\n\"},{\"name\":\"salicylic acid (1662 cm⁻¹)\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n 10 10  0  0  0  0  0  0  0  0999 V2000\\n    6.6587  -13.9375   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n    6.6587  -15.4375   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n    7.9577  -16.1875   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n    9.2568  -15.4375   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n    9.2568  -13.9375   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n    7.9577  -13.1875   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n    7.9577  -11.6875   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   10.5558  -13.1875   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   11.8549  -13.9375   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   10.5558  -11.6875   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  2  0  0  0  0\\n  2  3  1  0  0  0  0\\n  3  4  2  0  0  0  0\\n  4  5  1  0  0  0  0\\n  5  6  2  0  0  0  0\\n  6  1  1  0  0  0  0\\n  6  7  1  0  0  0  0\\n  5  8  1  0  0  0  0\\n  8  9  1  0  0  0  0\\n  8 10  2  0  0  0  0\\nM  END\\n\"},{\"name\":\"methyl 2-methylbenzoate (1737 cm⁻¹)\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n 11 11  0  0  0  0  0  0  0  0999 V2000\\n   13.2687  -11.7237   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.2569  -13.2114   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   14.5438  -13.9552   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   11.9463  -13.9552   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.8308  -13.1996   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   10.6357  -13.1996   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   11.9345  -15.4429   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n    9.3251  -13.9434   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   10.6239  -11.6883   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   10.6239  -16.1867   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n    9.3133  -15.4311   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  2  0  0  0  0\\n  2  3  1  0  0  0  0\\n  2  4  1  0  0  0  0\\n  3  5  1  0  0  0  0\\n  4  6  2  0  0  0  0\\n  4  7  1  0  0  0  0\\n  6  8  1  0  0  0  0\\n  6  9  1  0  0  0  0\\n  7 10  2  0  0  0  0\\n  8 11  2  0  0  0  0\\n 10 11  1  0  0  0  0\\nM  END\\n\"},{\"name\":\"N,N-dimethylbenzamide (1626 cm⁻¹)\",\"molfile\":\"\\nActelion Java MolfileCreator 1.0\\n\\n 11 11  0  0  0  0  0  0  0  0999 V2000\\n   13.2996  -16.2109    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\\n   13.2878  -14.7032    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   11.9803  -13.9376    0.0000 N   0  0  0  0  0  0  0  0  0  0  0  0\\n   14.5718  -13.9376    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   11.9685  -12.4297    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   10.6729  -14.6796    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.8557  -14.6796    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   14.5600  -12.4297    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   17.1396  -13.9139    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   15.8439  -11.6641    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n   17.1278  -12.4062    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\\n  1  2  2  0  0  0  0\\n  2  3  1  0  0  0  0\\n  2  4  1  0  0  0  0\\n  3  5  1  0  0  0  0\\n  3  6  1  0  0  0  0\\n  4  7  2  0  0  0  0\\n  4  8  1  0  0  0  0\\n  7  9  1  0  0  0  0\\n  8 10  2  0  0  0  0\\n  9 11  2  0  0  0  0\\n 10 11  1  0  0  0  0\\nM  END\\n\"}],\"explanation\":\"<p>Clearly, also theory has its limitations. You can use this collection to explore some of the limitations.</p><p>Experimental shifts taken from the SDBS database.</p>\"}]"]}]}},"layers":{"Default layer":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Series of molecule","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Series of molecule","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Series of molecule","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Admin"},"Chart":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Series of molecule","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Chart"},"Series":{"position":{"left":6,"top":0},"size":{"width":41,"height":75},"zIndex":0,"display":true,"title":"Series of molecule","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"Shepherd":{"position":{"left":6,"top":0},"size":{"width":28,"height":75},"zIndex":0,"display":false,"title":"Series of molecule","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"TrackingInfo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Series of molecule","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Series of molecule","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"}},"id":13,"vars_in":[{"rel":"list","name":"series"}],"actions_in":[{}],"vars_out":[{"event":"onRowActive","rel":"row","jpath":["entries"],"name":"entries"},{"event":"onRowActive","rel":"row","jpath":["explanation"],"name":"explanation"}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Open Preferences"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"Series of molecule","zindex":1},{"url":"modules/types/edition/slick_grid/","configuration":{"sections":{},"groups":{"group":[{"slickCheck":[["enableCellNavigation","rowNumbering","forceFitColumns","highlightScroll","forgetLastActive","editable","enableAddRow"]],"copyPaste":[[]],"copyPasteOptions":[["newRows"]],"autoColumns":[["remove","reorder"]],"toolbar":[[]],"colorjpath":[[]],"slick.defaultColumnWidth":[null],"slick.rowHeight":["80"],"slick.headerRowHeight":[30],"slick.selectionModel":["row"],"idProperty":[""],"filterType":["pref"],"filterRow":["if (this.event==='rowsSelected') {\n    if (this.rows.length===1) {\n        var item=this.rows[0].item;\n        if (! item.molfile) {\n            item.molfile='';\n        }\n    }\n}"],"customJpaths":["id,oclCode,name,molfile"]}],"cols":[[{"name":"id","jpath":["id"],"editor":"string","forceType":"","formatter":"typerenderer","copyFormatter":"default","visibility":"both","rendererOptions":"","editorOptions":"","hideColumn":[],"width":58},{"name":"Name","jpath":["name"],"editor":"string","forceType":"","formatter":"typerenderer","copyFormatter":"default","visibility":"both","rendererOptions":"","editorOptions":"","hideColumn":[],"width":189},{"name":"Molecule","jpath":["molfile"],"editor":"none","forceType":"molfile2d","formatter":"typerenderer","copyFormatter":"default","visibility":"both","rendererOptions":"","editorOptions":"","hideColumn":[],"width":124}]],"actionCols":[[{"backgroundColor":[255,255,255,0],"color":[0,0,0,1],"position":"end","clickMode":"text"}]],"groupings":[[{"getter":[]}]],"actionOutButtons":[[{}]],"data":[{"saveInView":[[]],"varname":[""],"data":["[]"]}]}},"layers":{"Default layer":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Admin"},"Chart":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Chart"},"Series":{"position":{"left":48,"top":25},"size":{"width":44,"height":50},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"Shepherd":{"position":{"left":35,"top":25},"size":{"width":44,"height":50},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"TrackingInfo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"}},"id":14,"vars_in":[{"rel":"list","name":"entries"}],"actions_in":[{}],"vars_out":[{"event":"onRowActive","rel":"row","jpath":["molfile"],"name":"seriesMolfile"},{"jpath":[]}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Open Preferences"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"","zindex":1},{"url":"modules/types/edition/quill_editor/","configuration":{"sections":{},"groups":{"group":[{"editable":[["isEditable"]],"toolbarMode":["all"],"debouncing":[0],"storeInView":[["yes"]],"modifyVarIn":[["yes"]],"className":["quill"],"css":[".quill {}"]}]}},"layers":{"Default layer":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Admin"},"Chart":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Chart"},"Series":{"position":{"left":48,"top":0},"size":{"width":95,"height":24},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"Shepherd":{"position":{"left":35,"top":0},"size":{"width":94,"height":24},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"TrackingInfo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"}},"id":15,"vars_in":[{"rel":"html","name":"explanation"}],"actions_in":[{}],"vars_out":[{"jpath":[]}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Open Preferences"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"","richtext":{"ops":[{"insert":"\n"}]},"zindex":1},{"url":"modules/types/client_interaction/code_editor/","configuration":{"sections":{},"groups":{"group":[{"mode":["html"],"outputType":[null],"btnvalue":["Send script"],"iseditable":[["editable"]],"hasButton":[["button"]],"variable":[[]],"storeOnChange":[["store"]],"debouncing":[0],"script":["<style>\n    \n</style>\n<div id=\"seriesPreferences\">\n    Select a predefined collection of molecules: \n    <select name=\"name\">\n        <option value=\"\"></option>\n        {% for serie in series %}\n        <option value=\"{{serie.name}}\">{{serie.name}}</option>\n        {% endfor %}\n    </select>\n</div>"]}],"ace":[{"useSoftTabs":[["yes"]],"tabSize":[4]}]}},"layers":{"Default layer":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Admin"},"Chart":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Chart"},"Series":{"position":{"left":145,"top":0},"size":{"width":41,"height":40},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"Shepherd":{"position":{"left":130,"top":0},"size":{"width":57,"height":40},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"TrackingInfo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"}},"id":16,"vars_in":[{}],"actions_in":[{}],"vars_out":[{"event":"onEditorChange","rel":"data","jpath":[],"name":"seriesTemplate"}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Open Preferences"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"","zindex":1},{"url":"modules/types/display/single_value/","configuration":{"sections":{},"groups":{"group":[{"append":[[]],"maxEntries":[1],"editable":[[]],"editSearchRegexp":[null],"editReplace":[null],"debounce":[0],"defaultvalue":[null],"font":[null],"fontcolor":[[0,0,0,1]],"fontsize":[null],"align":[null],"valign":[null],"rendererOptions":[""],"forceType":["html"],"sprintf":[null],"sprintfOrder":[null],"preformatted":[[]]}]}},"layers":{"Default layer":{"position":{"left":53,"top":0},"size":{"width":97,"height":4},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":false,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Admin"},"Chart":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Chart"},"Series":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"Shepherd":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"TrackingInfo":{"position":{"left":53,"top":0},"size":{"width":64,"height":4},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":false,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":53,"top":0},"size":{"width":97,"height":4},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":false,"created":true,"name":"Default layer"}},"id":17,"vars_in":[{"rel":"value","name":"explanation"}],"actions_in":[{}],"vars_out":[],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Open Preferences"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"","zindex":1},{"url":"modules/types/client_interaction/code_executor/","configuration":{"sections":{},"groups":{"group":[{"display":[["editor","buttons"]],"execOnLoad":[[]],"asyncAwait":[["top"]],"script":["const entries = API.getData('entries');\n\nfor (let entry of entries) {\n    console.log(escape(entry.oclCode.coordinates))\n}"]}],"libs":[[{}]],"buttons":[[{"name":"button1","label":"Execute","hide":[],"disable":[]}]]}},"layers":{"Default layer":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Admin"},"Chart":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Chart"},"Series":{"position":{"left":145,"top":41},"size":{"width":44,"height":14},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"Shepherd":{"position":{"left":189,"top":36},"size":{"width":44,"height":23},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"TrackingInfo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"}},"id":18,"vars_in":[{}],"actions_in":[{}],"vars_out":[{"jpath":[]}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Open Preferences"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"","zindex":1},{"url":"modules/types/client_interaction/code_executor/","configuration":{"sections":{},"groups":{"group":[{"display":[["editor","buttons"]],"execOnLoad":[[]],"asyncAwait":[["top"]],"script":["const oclCode = API.getData('oclCode').resurrect();\n\nconsole.log(oclCode);\n\nconst molecule = OCL.Molecule.fromIDCode(oclCode.value, oclCode.coordinates);\n\nmolecule.addImplicitHydrogens();\n\nconsole.log(molecule.toMolfile());"]}],"libs":[[{"lib":"openchemlib/openchemlib-core","alias":"OCL"}]],"buttons":[[{"name":"button1","label":"Execute","hide":[],"disable":[]}]]}},"layers":{"Default layer":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Admin"},"Chart":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Chart"},"Series":{"position":{"left":145,"top":56},"size":{"width":45,"height":19},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"Shepherd":{"position":{"left":131,"top":58},"size":{"width":64,"height":30},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"TrackingInfo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"}},"id":19,"vars_in":[{}],"actions_in":[{}],"vars_out":[{"jpath":[]}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Open Preferences"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"","zindex":1},{"url":"modules/types/client_interaction/code_executor/","configuration":{"sections":{},"groups":{"group":[{"display":[["editor","buttons"]],"execOnLoad":[["yes"]],"asyncAwait":[["top"]],"script":["return;\nconst tour = new Shepherd.Tour({\n  defaultStepOptions: {\n    cancelIcon: {\n      enabled: true,\n    },\n    classes: \"class-1 class-2\",\n    scrollTo: { behavior: \"smooth\", block: \"center\" },\n  },\n});\n\ntour.addStep({\n  title: \"Let's make molecules vibrate\",\n  text: `This tools allows you to predict IR spectra using semi-empirical quantum chemistry techniques.\\\n  But bot only that. It also animates the vibrations and links them to the structure in an interactive way.\\\n  Additionally, we provide collections that illustrate important electronic effects (e.g., inductive, mesomeric effect).\\\n  Note that the vibrational frequencies and intensities are most useful for relative comparisons and often show (for various reasons) discrepancies w.r.t. the experimental ones.`,\n  //   attachTo: {\n  //     element: '2',\n  //     on: 'bottom'\n  //   },\n  buttons: [\n    // {\n    //   action() {\n    //     return this.back();\n    //   },\n    //   classes: \"shepherd-button-secondary\",\n    //   text: \"Back\",\n    // },\n    {\n      action() {\n        return this.next();\n      },\n      text: \"Next\",\n    },\n  ],\n  id: \"hello\",\n});\n\ntour.addStep({\n  title: \"Adding a structure\",\n  text: `To get started, you can draw a structure using the structure editor.\\\n    If you already have a structural drawing, you can copy it as SMILES (CMD+SHIFT+C) or Molfile (CMD+SHIFT+O) and paste it using the third icon in the toolbar in the header.\\\n    Once you're done with drawing you can select the level of theory for the simulation and submit the simulation by clicking on the \"Run prediction\" button.\n    The prediction might take a few seconds, but after it, you'll see the spectrum and a table with all modes.\n    <img  width=\"360\" src=\"https://raw.githubusercontent.com/cheminfo/eln-docs/main/docs/30_structural_analysis/ir-prediction/images/draw_mol_cropped.gif\" /> \n    `,\n  attachTo: {\n    element: \".ci-module-ocl_editor\",\n    on: \"bottom\",\n  },\n  buttons: [\n    {\n      action() {\n        return this.back();\n      },\n      classes: \"shepherd-button-secondary\",\n      text: \"Back\",\n    },\n    {\n      action() {\n        return this.next();\n      },\n      text: \"Next\",\n    },\n  ],\n  id: \"drawstructure\",\n});\n\ntour.addStep({\n  title: \"Loading a set\",\n  text: `If you have no particular molecule in mind-or want to explore some electronic effects-you can load curated sets of molecules by clicking on this button.\\\n    It will open a popup menu in which the available sets are described and you can select the one that interests you most.\\\n    All structures from the set you selected will be simulated and appear in the graph.\n     <img  width=\"360\" src=\"https://raw.githubusercontent.com/cheminfo/eln-docs/main/docs/30_structural_analysis/ir-prediction/images/predefined_set_optimized.gif\" /> \n    `,\n  attachTo: {\n    element:\n      \"#module-12 > div.ci-module-header.ui-draggable-handle > div.ci-module-header-toolbar > ul > li:nth-child(2) > span\",\n    on: \"bottom\",\n  },\n  buttons: [\n    {\n      action() {\n        return this.back();\n      },\n      classes: \"shepherd-button-secondary\",\n      text: \"Back\",\n    },\n    {\n      action() {\n        return this.next();\n      },\n      text: \"Next\",\n    },\n  ],\n  id: \"loadset\",\n});\n\ntour.addStep({\n  title: \"Toggling between molecules\",\n  text: `To see trends you need to compare spectra of multiple molecules. This table will collect all molecules for which you submitted a simulation.\\\n    Note that you also have a column for the calculation method as the absorption frequencies might vary slightly between the methods.\\\n    By selecting a row you can select which molecule's modes are loaded and for which molecule the animations will be shown. \\\n    If you no longer like a molecule you can delete it by clicking on the trash bin.\n    `,\n  attachTo: {\n    element: \"#module-12\",\n    on: \"bottom\",\n  },\n  buttons: [\n    {\n      action() {\n        return this.back();\n      },\n      classes: \"shepherd-button-secondary\",\n      text: \"Back\",\n    },\n    {\n      action() {\n        return this.next();\n      },\n      text: \"Next\",\n    },\n  ],\n  id: \"moleculeToggle\",\n});\n\ntour.addStep({\n  title: \"Interacting with the spectrum\",\n  text: `In the spectrum you can zoom in a region with click and drag and if you click on some bar it will open the corresponding mode. \n  <img  width=\"360\" src=\"https://raw.githubusercontent.com/cheminfo/eln-docs/main/docs/30_structural_analysis/ir-prediction/images/ir_graph.gif\" /> \n    `,\n  attachTo: {\n    element: \"#module-4\",\n    on: \"bottom\",\n  },\n  buttons: [\n    {\n      action() {\n        return this.back();\n      },\n      classes: \"shepherd-button-secondary\",\n      text: \"Back\",\n    },\n    {\n      action() {\n        return this.next();\n      },\n      text: \"Next\",\n    },\n  ],\n  id: \"graphInteract\",\n});\n\ntour.addStep({\n  title: \"Selecting modes\",\n  text: `In this table, you will find all 3N modes of the molecule. Note that this also includes translational and rotational modes, which are highlighted in a different color.\\ \n    If you hover over a row, the most relevant atoms for this mode will be highlighted. By clicking on a row, you can change the mode that is animated.\n    <img  width=\"360\" src=\"https://raw.githubusercontent.com/cheminfo/eln-docs/main/docs/30_structural_analysis/ir-prediction/images/mode_table_optimized.gif\" /> \n    `,\n  attachTo: {\n    element: \"#module-8\",\n    on: \"bottom\",\n  },\n  buttons: [\n    {\n      action() {\n        return this.back();\n      },\n      classes: \"shepherd-button-secondary\",\n      text: \"Back\",\n    },\n    {\n      action() {\n        return this.next();\n      },\n      text: \"Next\",\n    },\n  ],\n  id: \"modesTable\",\n});\n\ntour.addStep({\n  title: \"Watching the vibrations\",\n  text: `In this window you will see the animation of the vibration. \n    With a right click, you can open the options of the JSMol visualizer.\n    `,\n  attachTo: {\n    element: \"#module-1\",\n    on: \"bottom\",\n  },\n  buttons: [\n    {\n      action() {\n        return this.back();\n      },\n      classes: \"shepherd-button-secondary\",\n      text: \"Back\",\n    },\n    {\n      action() {\n        return this.next();\n      },\n      text: \"Next\",\n    },\n  ],\n  id: \"jsMol\",\n});\n\ntour.addStep({\n  title: \"Where do I see this bond in the spectrum?\",\n  text: `This window will show the 2D drawing of your molecule. In contrast to the other editor, this drawing is coupled to the table and the animation. \n    By clicking on a bond, for example, you can bring up the most relevant mode for this bond in the animation, table, and spectrum.\n    <img  width=\"360\" src=\"https://raw.githubusercontent.com/cheminfo/eln-docs/main/docs/30_structural_analysis/ir-prediction/images/crop_bond_clicked.gif\" /> \n    `,\n  attachTo: {\n    element: \"#module-9\",\n    on: \"bottom\",\n  },\n  buttons: [\n    {\n      action() {\n        return this.back();\n      },\n      classes: \"shepherd-button-secondary\",\n      text: \"Back\",\n    },\n    {\n      action() {\n        return this.next();\n      },\n      text: \"Next\",\n    },\n  ],\n  id: \"twoDDrawing\",\n});\n\ntour.addStep({\n  title: \"Help! That was too much information!\",\n  text: `If you want to look up certain functionalities or learn a bit about the theoretical background, you can open the help menu.\n    <img  width=\"360\" src=\"https://raw.githubusercontent.com/cheminfo/eln-docs/main/docs/30_structural_analysis/ir-prediction/images/ir_open_help.gif\" /> \n  `,\n  attachTo: {\n    element: \"#modules-grid > div:nth-child(1)\",\n    on: \"bottom\",\n  },\n  buttons: [\n    {\n      action() {\n        return this.back();\n      },\n      classes: \"shepherd-button-secondary\",\n      text: \"Back\",\n    },\n    {\n      action() {\n        return this.next();\n      },\n      text: \"Complete\",\n    },\n  ],\n  id: \"help\",\n});\n\n// Initiate the tour\nif(!localStorage.getItem('ir-shepherd-tour')) {\n    tour.start();\n    localStorage.setItem('ir-shepherd-tour', 'yes');\n}\n"]}],"libs":[[{"lib":"src/util/ui","alias":"UI"},{"lib":"Shepherd","alias":"Shepherd"}]],"buttons":[[{"name":"button1","label":"Execute","hide":[],"disable":[]}]]}},"layers":{"Default layer":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Admin"},"Chart":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Chart"},"Series":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"Shepherd":{"position":{"left":165,"top":1},"size":{"width":53,"height":73},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"SeriesDialog"},"TrackingInfo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"}},"id":20,"vars_in":[{}],"actions_in":[{}],"vars_out":[{"jpath":[]}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Open Preferences"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"","zindex":1},{"url":"modules/types/edition/slick_grid/","configuration":{"sections":{},"groups":{"group":[{"slickCheck":[["enableCellNavigation","rowNumbering","forceFitColumns","highlightScroll","forgetLastActive"]],"copyPaste":[[]],"copyPasteOptions":[["newRows"]],"autoColumns":[[]],"toolbar":[[]],"colorjpath":[[]],"slick.defaultColumnWidth":[null],"slick.rowHeight":[null],"slick.headerRowHeight":[30],"slick.selectionModel":["row"],"idProperty":[""],"filterType":["pref"],"filterRow":["// Documentation: https://github.com/NPellet/visualizer/blob/46b40ca86345f8fa313563bf9c6ecb80ba323101/src/modules/types/edition/slick_grid/view.js#L1695-L1735"],"customJpaths":[""]}],"cols":[[{"name":"Start atom","jpath":["startAtom"],"editor":"none","forceType":"","formatter":"typerenderer","copyFormatter":"default","visibility":"both","rendererOptions":"","editorOptions":"","hideColumn":[]},{"name":"End atom","jpath":["endAtom"],"editor":"none","forceType":"","formatter":"typerenderer","copyFormatter":"default","visibility":"both","rendererOptions":"","editorOptions":"","hideColumn":[]},{"name":"Mode","jpath":["mode"],"editor":"none","forceType":"","formatter":"typerenderer","copyFormatter":"default","visibility":"both","rendererOptions":"","editorOptions":"","hideColumn":[]},{"name":"Displacement","jpath":["displacement"],"editor":"none","forceType":"","formatter":"typerenderer","copyFormatter":"default","visibility":"both","rendererOptions":"","editorOptions":"","hideColumn":[]},{"name":"Bond ID","jpath":["bondId"],"editor":"none","forceType":"","formatter":"typerenderer","copyFormatter":"default","visibility":"both","rendererOptions":"","editorOptions":"","hideColumn":[]}]],"actionCols":[[{"backgroundColor":[255,255,255,0],"color":[0,0,0,1],"position":"end","clickMode":"text"}]],"groupings":[[{"getter":[]}]],"actionOutButtons":[[{}]],"data":[{"saveInView":[[]],"varname":[""],"data":["[]"]}]}},"layers":{"Default layer":{"position":{"left":179,"top":5},"size":{"width":35,"height":43},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":86,"top":42},"size":{"width":20,"height":20},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Admin"},"Chart":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Chart"},"Series":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"Shepherd":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"SeriesDialog"},"TrackingInfo":{"position":{"left":179,"top":5},"size":{"width":35,"height":43},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":179,"top":5},"size":{"width":35,"height":43},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"}},"id":21,"vars_in":[{"rel":"list","name":"bonds"}],"actions_in":[{}],"vars_out":[{"jpath":[]}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Open Preferences"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"","zindex":1},{"url":"modules/types/edition/quill_editor/","configuration":{"sections":{},"groups":{"group":[{"editable":[["isEditable"]],"toolbarMode":["all"],"debouncing":[0],"storeInView":[["yes"]],"modifyVarIn":[["yes"]],"className":["quill"],"css":[".quill {}"]}]}},"layers":{"Default layer":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Admin"},"Chart":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Chart"},"Series":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"Shepherd":{"position":{"left":72,"top":0},"size":{"width":85,"height":75},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Shepherd"},"TrackingInfo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"}},"id":22,"vars_in":[{"rel":"html","name":"stepDescription"}],"actions_in":[{}],"vars_out":[{"jpath":[]}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Open Preferences"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"","richtext":{"ops":[{"insert":"\n"}]},"zindex":1},{"url":"modules/types/edition/slick_grid/","configuration":{"sections":{},"groups":{"group":[{"slickCheck":[["enableCellNavigation","rowNumbering","forceFitColumns","highlightScroll","forgetLastActive","editable","enableAddRow"]],"copyPaste":[[]],"copyPasteOptions":[["newRows"]],"autoColumns":[["remove","reorder"]],"toolbar":[[]],"colorjpath":[[]],"slick.defaultColumnWidth":[null],"slick.rowHeight":[null],"slick.headerRowHeight":[30],"slick.selectionModel":["row"],"idProperty":[""],"filterType":["pref"],"filterRow":["if (this.event==='rowsSelected') {\n    if (this.rows.length===1) {\n        var item=this.rows[0].item;\n        if (! item.description) {\n            item.description='';\n        }\n    }\n}"],"customJpaths":["selector,anchor,title,description"]}],"cols":[[{"name":"CSS selector","jpath":["selector"],"editor":"string","forceType":"","formatter":"typerenderer","copyFormatter":"default","visibility":"both","rendererOptions":"","editorOptions":"","hideColumn":[]},{"name":"Anchor","jpath":["anchor"],"editor":"string","forceType":"","formatter":"typerenderer","copyFormatter":"default","visibility":"both","rendererOptions":"","editorOptions":"","hideColumn":[]},{"name":"title","jpath":["title"],"editor":"string","forceType":"","formatter":"typerenderer","copyFormatter":"default","visibility":"both","rendererOptions":"","editorOptions":"","hideColumn":[]}]],"actionCols":[[{"backgroundColor":[255,255,255,0],"color":[0,0,0,1],"position":"end","clickMode":"text"}]],"groupings":[[{"getter":[]}]],"actionOutButtons":[[{}]],"data":[{"saveInView":[[]],"varname":[""],"data":["[]"]}]}},"layers":{"Default layer":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Admin"},"Chart":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Chart"},"Series":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"Shepherd":{"position":{"left":8,"top":0},"size":{"width":63,"height":31},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Shepherd"},"TrackingInfo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"}},"id":23,"vars_in":[{"rel":"list","name":"guidedTour"}],"actions_in":[{}],"vars_out":[{"event":"onRowActive","rel":"row","jpath":["description"],"name":"stepDescription"}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Open Preferences"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"","zindex":1},{"url":"modules/types/client_interaction/code_executor/","configuration":{"sections":{},"groups":{"group":[{"display":[["editor","buttons"]],"execOnLoad":[["yes"]],"asyncAwait":[["top"]],"script":["if (! this.button && ! this.action) {\n    this.action = {\n        name: 'reloadGuidedTour',\n    }\n}\n\n\nif (this.button) {\n    this.action = {\n        name: this.button,\n    }\n}\n\nconsole.log(this.action.name);\n\nswitch (this.action.name) {\n    case 'saveGuidedTour': {\n        const guidedTour = JSON.stringify(API.getData('guidedTour'));\n        \n        const cdb = new CDB();\n        \n        let attachements = await cdb.upload({\n            data: guidedTour,\n            name: 'guidedTour.json',\n            contentType: 'application/json'\n        });\n        \n        UI.showNotification('saved', 'info');\n        break;\n    }\n    case 'reloadGuidedTour': {\n        const cdb = new CDB();\n        let guidedTour;\n        try {\n            guidedTour = await cdb.get('guidedTour.json');\n        } catch (e) {\n            console.log('Offline version');\n            guidedTour = await (await fetch('https://couch.cheminfo.org/cheminfo-public/10b6a7229db7dd815afcc75e77c2d6cd/guidedTour.json')).json();\n        }\n        API.createData('guidedTour', guidedTour);\n\n        if(localStorage.getItem('ir-shepherd-tour')) {\n            return;\n        }\n        \n        localStorage.setItem('ir-shepherd-tour', 'yes');\n        runGuidedTour(guidedTour);\n        break;\n    }\n    case 'runGuidedTour': {\n        const guidedTour = API.getData('guidedTour').resurrect();\n        runGuidedTour(guidedTour);\n    }\n}\n\nfunction runGuidedTour(guidedTour) {\n    const tour = new Shepherd.Tour({\n    defaultStepOptions: {\n        cancelIcon: {\n          enabled: true,\n        },\n        classes: \"class-1 class-2\",\n        scrollTo: { behavior: \"smooth\", block: \"center\" },\n      },\n    });\n    \n    for (let i=0; i<guidedTour.length; i++) {\n        const data = guidedTour[i];\n        const step = {\n            title: data.title,\n            text: data.description,\n            buttons: [],\n        };\n        if (i!==0) {\n            step.buttons.push( {\n              action() {return this.back();},\n              text: \"Back\",\n            })\n        }\n        if (i!==guidedTour.length-1) {\n            step.buttons.push( {\n              action() {return this.next();},\n              text: \"Next\",\n            })\n        } else {\n            step.buttons.push( {\n              action() {return this.next();},\n              text: \"Complete\",\n            })\n        }\n        \n        if (data.selector) {\n            step.attachTo = {\n                element: data.selector,\n                on: data.anchor || \"bottom\",\n            }\n        }\n        \n        tour.addStep(step);\n    }\n    \n    tour.start();\n}"]}],"libs":[[{"lib":"src/util/couchdbAttachments","alias":"CDB"},{"lib":"src/util/ui","alias":"UI"},{"lib":"Shepherd","alias":"Shepherd"}]],"buttons":[[{"name":"saveGuidedTour","label":"saveGuidedTour","hide":[],"disable":[]},{"name":"reloadGuidedTour","label":"reloadGuidedTour","hide":[],"disable":[]},{"name":"runGuidedTour","label":"runGuidedTour","hide":[],"disable":[]}]]}},"layers":{"Default layer":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Admin"},"Chart":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Chart"},"Series":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"Shepherd":{"position":{"left":5,"top":35},"size":{"width":62,"height":34},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Shepherd"},"TrackingInfo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"}},"id":24,"vars_in":[{}],"actions_in":[{"rel":"execute","name":"reloadGuidedTour"},{"rel":"execute","name":"runGuidedTour"}],"vars_out":[{"jpath":[]}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Open Preferences"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"","zindex":1},{"url":"modules/types/client_interaction/code_executor/","configuration":{"sections":{},"groups":{"group":[{"display":[["editor","buttons"]],"execOnLoad":[["yes"]],"asyncAwait":[["top"]],"script":["const displayTwigPreferences=`\n    <style>\n        #twigPreferences * {\n            font-size: 1em;\n            padding: 0px;\n        }\n    </style>\n    <div id=\"twigPreferences\">\n    Variables: \n    <select name='variables'>\n        <option value=\"a vs x\">Absorbance vs wavenumber</option>\n        <option value=\"t vs x\">Transmittance vs wavenumber</option>\n    </select> - \n    Tracking info: <input type=\"checkbox\" name=\"display.trackingInfo\"> -\n    Normalization: <input type=\"checkbox\" name=\"normalization.normalize\">\n    <input type=\"text\" name=\"normalization.from\" style=\"width: 50px\" placeholder=\"from\"> - \n    <input type=\"text\" name=\"normalization.to\" style=\"width: 50px\" placeholder=\"to\">\n    </div>\n`\n\nAPI.createData('displayTwigPreferences', displayTwigPreferences);"]}],"libs":[[{"lib":"vh/eln/sample/compare/viewsPreferences","alias":"Prefs"}]],"buttons":[[{"name":"button1","label":"Execute","hide":[],"disable":[]}]]}},"layers":{"Default layer":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":61,"top":0},"size":{"width":68,"height":36},"zIndex":0,"display":true,"title":"Display twig","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Admin"},"Chart":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Chart"},"Series":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"Shepherd":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Shepherd"},"TrackingInfo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"}},"id":25,"vars_in":[{}],"actions_in":[{}],"vars_out":[{"jpath":[]}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Open Preferences"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"Display twig","zindex":1},{"url":"modules/types/display/template-twig/","configuration":{"sections":{},"groups":{"group":[{"selectable":[[]],"template":[""],"modifyInForm":[["yes"]],"debouncing":[0],"formOptions":[["keepFormValueIfDataUndefined"]]}]}},"layers":{"Default layer":{"position":{"left":40,"top":8},"size":{"width":60,"height":2},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":false,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":61,"top":37},"size":{"width":68,"height":10},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Admin"},"Chart":{"position":{"left":54,"top":0},"size":{"width":63,"height":5},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Chart"},"Series":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"Shepherd":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Shepherd"},"TrackingInfo":{"position":{"left":47,"top":8},"size":{"width":54,"height":3},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":false,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":0,"top":0},"size":{"width":63,"height":7},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"}},"id":26,"vars_in":[{"rel":"tpl","name":"displayTwigPreferences"},{"rel":"form","name":"preferences"}],"actions_in":[{}],"vars_out":[{"jpath":[]}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Open Preferences"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"","zindex":33},{"url":"modules/types/display/template-twig/","configuration":{"sections":{},"groups":{"group":[{"selectable":[[]],"template":["<a href=\"https://docs.c6h6.org/docs/eln/uuid/10b6a7229db7dd815afcc75e77c2d6cd\" style=\"font-size: 20px; text-decoration: none\" target=\"_blank\">Click to access the documentation.</a>"],"modifyInForm":[[]],"debouncing":[0],"formOptions":[["keepFormValueIfDataUndefined"]]}]}},"layers":{"Default layer":{"position":{"left":1,"top":1},"size":{"width":32,"height":6},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":false,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Admin"},"Chart":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Chart"},"Series":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"Shepherd":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Shepherd"},"TrackingInfo":{"position":{"left":1,"top":1},"size":{"width":32,"height":6},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":false,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":1,"top":1},"size":{"width":32,"height":6},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":false,"created":true,"name":"Default layer"}},"id":27,"vars_in":[{}],"actions_in":[{}],"vars_out":[{"jpath":[]}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Open Preferences"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"","zindex":1},{"url":"modules/types/client_interaction/code_executor/","configuration":{"sections":{},"groups":{"group":[{"display":[["buttons"]],"execOnLoad":[[]],"asyncAwait":[["top"]],"script":["var button=getButton();\n\nswitch (button) {\n    case 'rerun':\n        API.doAction('runGuidedTour');\n        break;\n}"]}],"libs":[[{}]],"buttons":[[{"name":"rerun","label":"Rerun tour","hide":[],"disable":[]}]]}},"layers":{"Default layer":{"position":{"left":39,"top":0},"size":{"width":62,"height":4},"zIndex":0,"display":true,"title":"","bgColor":[255,255,255,0],"wrapper":false,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Admin"},"Chart":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Chart"},"Series":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"Shepherd":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Shepherd"},"TrackingInfo":{"position":{"left":39,"top":0},"size":{"width":62,"height":4},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":false,"created":true,"name":"Default layer"},"FromTo":{"position":{"left":39,"top":0},"size":{"width":62,"height":4},"zIndex":0,"display":false,"title":"","bgColor":[255,255,255,0],"wrapper":false,"created":true,"name":"Default layer"}},"id":28,"vars_in":[{}],"actions_in":[{}],"vars_out":[{"jpath":[]}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Open Preferences"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"","zindex":1},{"url":"modules/types/client_interaction/code_executor/","configuration":{"sections":{},"groups":{"group":[{"display":[["editor","buttons"]],"execOnLoad":[[]],"asyncAwait":[["top"]],"script":["const preferences = API.getData('preferences').resurrect();\n\nif (! API.getData('chart') || ! preferences.display.trackingInfo) {\n    API.createData('trackAnnotations', []);\n    return;\n}\n\nconst series = API.getData('chart').resurrect().series;\nif (! series || series.length===0) {\n    API.createData('trackAnnotations', []);\n    return;\n}\n\n\nconst index = this.action.value.data && this.action.value.data.chart && this.action.value.data.chart.indexClosest;\n\nif (index===undefined || series[0].data.x[index]===undefined) {\n    API.createData('trackAnnotations', []);\n    return;\n}\n\n\n\nlet annotations = [];\n\nlet line = 5;\n\n// header containing X coordinate\nannotations.push({\ntype: 'line',\nposition: [\n  { x: `${70}px`, y: `${15 + 15 * line}px` },\n  { x: `${85}px`, y: `${15 + 15 * line}px` },\n],\nstrokeWidth: 0.0000001,\nlabel: {\n  size: 16,\n  text: `x: ${series[0].data.x[index].toPrecision(6)}`,\n  position: { x: `${70}px`, y: `${20 + 15 * line}px` },\n},\n});\nline++;\n\nlet peaks = [];\nfor (const serie of series) {\npeaks.push({\n  id: 0,\n  meta: {\n      color: serie.style.line.color\n  },\n  y: serie.data.y[index],\n});\n}\n\npeaks = peaks.sort((a, b) => b.y - a.y);\n\nfor (let { id, meta, y } of peaks) {\n    annotations.push({\n      type: 'line',\n      position: [\n        { x: `${70}px`, y: `${15 + 15 * line}px` },\n        { x: `${85}px`, y: `${15 + 15 * line}px` },\n      ],\n      strokeColor: meta.color,\n      strokeWidth: 2,\n      label: {\n        text: y.toPrecision(4),\n        position: { x: `${90}px`, y: `${20 + 15 * line}px` },\n      },\n    });\n    line++;\n}\n\nAPI.createData('trackAnnotations', annotations);\n\n\n"]}],"libs":[[{}]],"buttons":[[{"name":"button1","label":"Execute","hide":[],"disable":[]}]]}},"layers":{"Default layer":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Calculate tracking info","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Calculate tracking info","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Calculate tracking info","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Admin"},"Chart":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Calculate tracking info","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Chart"},"Series":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Calculate tracking info","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"Shepherd":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Calculate tracking info","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Shepherd"},"TrackingInfo":{"position":{"left":67,"top":0},"size":{"width":100,"height":82},"zIndex":0,"display":true,"title":"Calculate tracking info","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"TrackingInfo"},"FromTo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Calculate tracking info","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"}},"id":29,"vars_in":[{}],"actions_in":[{"rel":"execute","name":"trackMove"}],"vars_out":[{"jpath":[]}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Open Preferences"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"Calculate tracking info"},{"url":"modules/types/client_interaction/code_executor/","configuration":{"sections":{},"groups":{"group":[{"display":[["editor","buttons"]],"execOnLoad":[[]],"asyncAwait":[["top"]],"script":["const event = this.action.value.event;\nconst data = this.action.value.data;\n\nif (\n  ! event.altKey ||\n  event.shiftKey ||\n  event.ctrlKey\n) {\n  return;\n}\n\nlet track;\nif (data) {\n  let firstChart = Object.keys(data)[0];\n  if (firstChart) {\n    track = data[firstChart];\n  }\n}\n\nif (!track) return;\n\nlet currentRange = API.cache('currentRange')\n\nswitch (this.action.name) {\n  case 'trackClicked':\n    updateRange(track);\n    break;\n  case 'trackMove':\n    updateAnnotations(track);\n    break;\n  default:\n}\n\nfunction updateRange(track) {\n    if (currentRange) {\n      currentRange.to = track.xClosest;\n      checkFromTo(currentRange);\n      console.log(currentRange);\n      const preferences=API.getData('preferences');\n      preferences.normalization.from=currentRange.from;\n      preferences.normalization.to=currentRange.to;\n      preferences.normalization.normalize=true;\n      preferences.triggerChange();\n      API.cache('currentRange', undefined);\n    } else {\n      API.cache('currentRange', {\n          from: track.xClosest,\n      })\n    }\n    updateAnnotations();\n}\n\nfunction updateAnnotations(track) {\n    const annotations=[];\n    if (track && currentRange && !currentRange.to) {\n      annotations.push({\n        position: [\n          { x: currentRange.from, y: '15px' },\n          { x: track.xClosest, y: '1000px' }\n        ],\n        type: 'rect',\n        fillColor: 'rgba(0,255,0,0.2)',\n        strokeColor: 'green'\n      });\n    }\n    API.createData('rangeAnnotations', annotations);\n}\n\nfunction checkFromTo(range) {\n  if (range.to === undefined) return;\n  if (range.from > range.to) [range.from, range.to] = [range.to, range.from];\n}"]}],"libs":[[{}]],"buttons":[[{"name":"button1","label":"Execute","hide":[],"disable":[]}]]}},"layers":{"Default layer":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Draw a range to define from / to","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Default layer"},"Preferences":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Draw a range to define from / to","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Preferences"},"Admin":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Draw a range to define from / to","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Admin"},"Chart":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Draw a range to define from / to","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Chart"},"Series":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Draw a range to define from / to","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Series"},"Shepherd":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Draw a range to define from / to","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"Shepherd"},"TrackingInfo":{"position":{"left":0,"top":0},"size":{"width":20,"height":20},"zIndex":0,"display":false,"title":"Draw a range to define from / to","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"TrackingInfo"},"FromTo":{"position":{"left":71,"top":5},"size":{"width":79,"height":63},"zIndex":0,"display":true,"title":"Draw a range to define from / to","bgColor":[255,255,255,0],"wrapper":true,"created":true,"name":"FromTo"}},"id":30,"vars_in":[{}],"actions_in":[{"rel":"execute","name":"trackClicked"},{"rel":"execute","name":"trackMove"}],"vars_out":[{"jpath":[]}],"actions_out":[{"jpath":[]}],"toolbar":{"custom":[[{"title":"","icon":"","action":"","position":"begin","color":[100,100,100,1]}]],"common":[{"toolbar":[["Open Preferences"]]}]},"css":[{"fontSize":[""],"fontFamily":[""]}],"title":"Draw a range to define from / to"}],"variables":[{"jpath":[""]}],"aliases":[{"path":"../../github/cheminfo-js/visualizer-helper/eeeb7de52e1f111f9993a90e6ffb2223e9812d9a","alias":"vh"},{"path":"http://localhost:9898/cheminfo-js/visualizer-helper/","alias":"vhxx"},{"path":"../../lib/shepherdjs/v8.3.1/shepherd.min","alias":"Shepherd"},{"path":"../../lib/mass-tools/2.0.0/mass-tools","alias":"MassTools"},{"path":"../../lib/ml-spectra-processing/6.8.0/ml-spectra-processing","alias":"SpectraProcessing"}],"configuration":{"title":"Infrared spectra prediction"},"actionscripts":[{"sections":{},"groups":{"action":[{"name":[null],"script":[null]}]}}],"init_script":[{"sections":{},"groups":{"general":[{"script":["const link = document.createElement('link'); \nlink.rel = 'stylesheet';\nlink.type = 'text/css';\nlink.href = 'https://direct.lactame.com/lib/shepherdjs/v8.3.1/style.css'; \n\ndocument.getElementsByTagName('HEAD')[0].appendChild(link); \n\nconst Track = await API.require('vh/util/track');\n\nconst defaultPreferences={\n    version: 1,\n    method: \"GFN2xTB\",\n    variables: \"t vs x\",\n    display: {\n        trackingInfo: false\n    },\n    normalization: {\n        normalize: false,\n        from: 500,\n        to: 4000,\n    }\n};\n\nawait Track('ir-spectra-prediction', defaultPreferences, {\n    varName:'preferences'\n});\nconst preferences = API.getData('preferences');\nif (preferences.version < defaultPreferences.version) {\n    preferences.resetValue();\n}\n\nvar [Sample]=await API.require(['vh/eln/Sample'])\n\nif (typeof IframeBridge !== 'undefined') {\n    IframeBridge.onMessage(onMessage);\n    IframeBridge.ready();\n    async function onMessage(data) {\n        if (data.type === 'tab.data') {\n            if (data.message && data.message.uuid) {\n                let sample = new Sample(data.message.couchDB, data.message.uuid, {\n                    track:false\n                });\n                await sample.waitSampleLoaded();\n            } else {\n                let {extSample} = await API.require('vh/eln/SampleFactory');\n                let sample=await extSample({trackId: 'defaultSample'});\n            }\n        }\n        if (data.type === 'tab.focus') {};\n    }\n} else {\n    let {extSample} = await API.require('vh/eln/SampleFactory');\n    let sample = await extSample( {trackId: 'defaultSample'} );\n}\n\nAPI.createData('history', []);\n\n\nAPI.createData('guidedTour', []);\n\n\n// API.require('vh/util/docs').then( Docs => {\n//     Docs.addPageHelp({iconSize:'fa-4x', _id: \"10b6a7229db7dd815afcc75e77c2d6cd\"});\n// });\n\nAPI.cache('colors', [\n  '#C10020',\n  '#007D34',\n  '#803E75',\n  '#232C16',\n  '#F4C800',\n  '#00538A',\n  '#B32851',\n  '#7F180D',\n  '#A6BDD7',\n  '#CEA262',\n  '#817066',\n  '#FF6800',\n  '#F6768E',\n  '#FF7A5C',\n  '#53377A',\n  '#FFB300',\n  '#FF8E00',\n  '#93AA00',\n  '#593315',\n  '#F13A13',\n  ]\n);\n\n"]}]}}],"custom_filters":[{"sections":{"modules":[{"sections":{},"groups":{"modules":[[{}]]}}],"filtersLib":[{"sections":{},"groups":{"filters":[[{}]]}}],"filters":[{"sections":{},"groups":{"filter":[{"name":[null],"script":[null]}],"libs":[[{}]]}}]},"groups":{}}],"actionfiles":[{"sections":{},"groups":{"action":[[{}]]}}]}