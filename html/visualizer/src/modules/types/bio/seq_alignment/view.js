'use strict';const colorSchemas={match:{init:function(){const a=this.opt.seqs,b=a.reduce((a,b)=>b.length>a?b.length:a,0);this.cons=Array(b);for(let c,d=0;d<b;d++){c="match";for(let b=1;b<a.length;b++)if(!("-"!==a[b][d])){c="gap";break}else if(!nuclMatch(a[0][d],a[b][d])){c="mismatch";break}this.cons[d]=c}},run:function(a,b){switch(this.cons[b.pos]){case"match":return"green";case"gap":return"orange";case"mismatch":return"red";default:return"white";}}}};define(["modules/default/defaultview","src/util/util","msa"],function(a,b,c){"use strict";function d(){}return $.extend(!0,d.prototype,a,{init:function(){this.dom||(this._id=b.getNextUniqueId(),this.dom=$(`<div id="${this._id}"></div>`).css("height","100%").css("width","100%"),this.module.getDomContent().html(this.dom)),this.resolveReady()},update:{sequences:function(a){this.sequences=a,this.render()}},blank:{sequences:function(){this.clear()}},render:function(){if(this.sequences){this.clear();var a={el:this.dom[0],vis:{conserv:!1,overviewbox:!1},zoomer:{alignmentHeight:405,labelWidth:110,labelFontsize:"13px",labelIdLength:50},seqs:this.sequences};try{var b=new c.msa(a);const d=this.module.getConfiguration("colorSchema");colorSchemas[d]&&(b.g.colorscheme.addDynScheme("dyn",colorSchemas[d]),b.g.colorscheme.set("scheme","dyn")),b.render()}catch(a){this.clear()}}},onResize:function(){this.render()},clear:function(){this.dom.html("")},inDom:function(){this.render()}}),d});const nuclLookup={A:["A"],T:["T","U"],U:["U","T"],G:["G"],C:["C"],W:["A","T","U"],S:["G","C"],M:["A","C"],K:["G","T","U"],R:["A","G"],Y:["C","T","U"],B:["C","G","T","U"],D:["A","G","T","U"],H:["A","C","T","U"],V:["A","C","G"],N:["A","C","G","T","U"]};function nuclMatch(a,b){return!(a!==b)||(a=nuclLookup[a],b=nuclLookup[b],!!(a&&b)&&a.some(a=>b.find(b=>a===b)))}
