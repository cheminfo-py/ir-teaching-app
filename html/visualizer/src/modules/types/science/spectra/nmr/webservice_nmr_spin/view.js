'use strict';define(["jquery","modules/default/defaultview"],function(a,b){"use strict";function c(){}return a.extend(!0,c.prototype,b,{init:function(){var b=this;this.button="button"===this.module.getConfiguration("button")[0],this.dom=a("<div>").addClass("ci-module-webservice_nmr_spin");var c=a(["<select name=\"system\">","<option value=\"2\" selected>AB</option>","<option value=\"3\">ABC</option>","<option value=\"4\">ABCD</option>","<option value=\"5\">ABCDE</option>","<option value=\"6\">ABCDEF</option>","<option value=\"7\">ABCDEFG</option>","<option value=\"8\">ABCDEFGH</option>","</select>"].join(""));c.val(this.module.getConfiguration("systemSize")[0]),this.systemSelector=a("<h1>Select your spin system: </h1>"),this.systemSelector.append(c),this.dom.append(this.systemSelector),this.systemSelector.on("change","select",function(){var c=b.module.getConfiguration("systemSize",null,!1);c[0]=a(this).val(),b.init()}),this.system=a(this._getTable(this.module.getConfiguration("systemSize")[0])),this.button||(this.system.on("keyup","input[type=text]",function(){b.module.controller.doAnalysis()}),this.system.on("change","select",function(){b.module.controller.doAnalysis()})),this.dom.append(this.system),this.module.getDomContent().html(this.dom),this.button&&require(["forms/button"],function(a){b.system.append((b.buttonInst=new a(b.module.getConfiguration("buttonlabel"),function(){b.module.controller.doAnalysis()})).render())}),"onload"===this.module.getConfiguration("onloadanalysis")&&this.module.controller.doAnalysis(),this.resolveReady()},_getTable:function(a){var b,c=[];for(c.push("<table><tbody id=\"table2\"><tr>"),c.push("<th></th>"),c.push("<th>delta (ppm)</th>"),b=1;b<a;b++)c.push(`<th>J<sub>${b}-</sub> (Hz)</th>`);for(c.push("</tr>"),b=0;b<a;b++){c.push("<tr>"),c.push(`<th>${b+1}</th>`),c.push(`<td><input type="text" size=4 value=${b+1} name="delta_${b}">`);for(var d=0;d<b;d++)c.push(`<td><input type="text" size=3 value=0 name="coupling_${b}_${d}">`);c.push("</tr>")}return c.push("</tbody></table>"),c.push("<p>From: <input type=\"text\" value=0 name=\"from\" size=4>"),c.push("to: <input type=\"text\" value=10 name=\"to\" size=4> ppm."),c.push("<select id=\"frequency\" name=\"frequency\">"),c.push("<option value=\"60\">60 MHz</option>"),c.push("<option value=\"90\">90 MHz</option>"),c.push("<option value=\"100\">100 MHz</option>"),c.push("<option value=\"200\">200 MHz</option>"),c.push("<option value=\"300\">300 MHz</option>"),c.push("<option value=\"400\" selected>400 MHz</option>"),c.push("<option value=\"500\">500 MHz</option>"),c.push("<option value=\"600\">600 MHz</option>"),c.push("<option value=\"800\">800 MHz</option>"),c.push("<option value=\"1000\">1000 MHz</option>"),c.push("</select></p>"),c.push("<p>Line width: <input type=\"text\" value=1 name=\"lineWidth\" size=4 id=\"lineWidth\" /> Hz.</p>"),c.push("<p>Number of points: <select id=\"nbPoints\" name=\"nbPoints\">"),c.push("<option value=\"1024\">1k</option>"),c.push("<option value=\"2048\">2k</option>"),c.push("<option value=\"4096\">4k</option>"),c.push("<option value=\"8192\">8k</option>"),c.push("<option value=\"16384\" selected>16k</option>"),c.push("<option value=\"32768\">32k</option>"),c.push("<option value=\"65536\">64k</option>"),c.push("<option value=\"131072\">128k</option>"),c.push("</select></p>"),`<form>${c.join("")}</form>`},lock(){this.locked=!0,this.buttonInst&&(this.buttonInst.setTitle(this.module.getConfiguration("buttonlabel_exec")),this.buttonInst.disable())},unlock(){this.locked=!1,this.buttonInst&&(this.buttonInst.setTitle(this.module.getConfiguration("buttonlabel")),this.buttonInst.enable())}}),c});
