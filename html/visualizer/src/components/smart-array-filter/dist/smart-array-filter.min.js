!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).smartArrayFilter={})}(this,(function(e){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n="[object Symbol]",r=/[\\^$.*+?()[\]{}|]/g,i=RegExp(r.source),o="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,f=o||u||Function("return this")(),l=Object.prototype.toString,s=f.Symbol,c=s?s.prototype:void 0,p=c?c.toString:void 0;function g(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&l.call(e)==n}(e))return p?p.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}var a=function(e){var t;return(e=null==(t=e)?"":g(t))&&i.test(e)?e.replace(r,"\\$&"):e};const d={"<":e=>function(t){return t<e},"<=":e=>function(t){return t<=e},"=":e=>function(t){return t===e},">=":e=>function(t){return t>=e},">":e=>function(t){return t>e}};d[".."]=d["<="];const y={"<":e=>function(t){return t<e},"<=":e=>function(t){return t<=e},"=":(e,t)=>{e=`^${a(e)}$`;const n=new RegExp(e,t);return function(e){return n.test(e)}},"~":(e,t)=>{e=a(e);const n=new RegExp(e,t);return function(e){return n.test(e)}},">=":e=>function(t){return t>=e},">":e=>function(t){return t>e}};y[".."]=y["<="];let b=/[ ;,\t\r\n]/;function h(e,t,n){e.checkString=function(e,t){let n=e.split(".."),r=/^\s*\(?\s*(<|<=|=|>=|>)?(\S*)\s*\)?$/.exec(n[0]),i=()=>!1;if(r){let e=r[1],o=r[2],u=n.length>1?"..":"",f=n[1];i=e?y[e](o,t):u?""!==f?function(e){return o<=e&&e<=f}:y[">="](o,t):y["~"](o,t)}return i}(t,n),e.checkNumber=function(e){let t=/^\s*\(?\s*(<|<=|=|>=|>|\.\.)?(-?\d*\.?\d+)(?:(\.\.)(-?\d*\.?\d*))?\s*\)?\s*$/.exec(e),n=()=>!1;if(t){let e=t[1],r=parseFloat(t[2]),i=t[3],o=t[4];e?n=d[e](r):i?""!==o?(o=parseFloat(o),n=function(e){return r<=e&&e<=o}):n=d[">="](r):n=d["="](r)}return n}(t)}function j(e,t,n){if(t.length){let r=!1;for(let i=0;i<t.length;i++)if(m(e,t[i],[])?!t[i].negate:t[i].negate){if("OR"===n)return!0;r=!0}else if("AND"===n)return!1;return r}return!0}function m(e,t,n){if("object"!=typeof e)return t.is?!!t.is.test(n.join("."))&&!!e:!(t.key&&!t.key.test(n.join(".")))&&function(e,t){return"string"==typeof e?t.checkString(e):"number"==typeof e&&t.checkNumber(e)}(e,t);if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(m(e[r],t,n))return!0}else for(let r in e){n.push(r);let i=m(e[r],t,n);if(n.pop(),i)return!0}}e.filter=function(e,t={}){let n=[],{index:r=!1,predicate:i="AND"}=t,o=t.limit?t.limit:1/0,u=t.keywords||[],f=t.caseSensitive?"":"i";"string"==typeof u&&(u=function(e){let t=[],n=!1,r=!0,i=[],o="";for(let u=0;u<e.length;u++){let f=e.charAt(u);if(n){if('"'===o){if('"'===f){o="";continue}i.pop(),n=!1,u--;continue}i.push(f),o=f}else{if(r){if(b.test(f)){o=f;continue}r=!1}'"'!==f?b.test(f)?(i.length&&t.push(i.join("")),i=[],r=!0):(i.push(f),o=""):(n=!0,o="")}}return'"'===o&&i.pop(),i.length&&t.push(i.join("")),t}(u)),u=u.map((function(e){let t={is:!1,key:!1,negate:!1,valueReg:void 0};"-"===e.charAt(0)&&(t.negate=!0,e=e.substring(1));let n=e.indexOf(":");if(n>-1){let r=e.substring(n+1);if(n>0){let i=e.substring(0,n);"is"===i&&(t.is=new RegExp(`(^|\\.)${a(r)}(\\.|$)`,f)),t.key=new RegExp(`(^|\\.)${a(i)}(\\.|$)`,f)}h(t,r,f)}else h(t,e,f);return t}));let l=0;for(let t=0;t<e.length&&l<o;t++)j(e[t],u,i)&&(l=n.push(r?t:e[t]));return n},e.match=j,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=smart-array-filter.min.js.map
