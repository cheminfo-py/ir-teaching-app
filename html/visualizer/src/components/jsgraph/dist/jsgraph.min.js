/*! jsGraph (c) 2014 Norman Pellet, MIT license, v@2.2.36, Date: 2020-02-29T21:29Z */

!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Graph=e():t.Graph=e()}("undefined"!=typeof self?self:this,function(){return function(i){var n={};function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}return r.m=i,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=134)}([function(t,e,i){var g=i(3),y=i(10),v=i(15),m=i(11),b=i(24),x="prototype",k=function(t,e,i){var n,r,o,s,a=t&k.F,u=t&k.G,l=t&k.S,h=t&k.P,c=t&k.B,f=u?g:l?g[e]||(g[e]={}):(g[e]||{})[x],p=u?y:y[e]||(y[e]={}),d=p[x]||(p[x]={});for(n in u&&(i=e),i)o=((r=!a&&f&&void 0!==f[n])?f:i)[n],s=c&&r?b(o,g):h&&"function"==typeof o?b(Function.call,o):o,f&&m(f,n,o,t&k.U),p[n]!=o&&v(p,n,s),h&&d[n]!=o&&(d[n]=o)};g.core=y,k.F=1,k.G=2,k.S=4,k.P=8,k.B=16,k.W=32,k.U=64,k.R=128,t.exports=k},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){var n=i(4);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){var n,r,o;r=[e],void 0===(o="function"==typeof(n=function(t){"use strict";function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e,i){return i<0&&(i+=1),1<i&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function n(t,e){return t._savedAttributes&&void 0!==t._savedAttributes[e]}function r(t,e){if(t&&t._savedAttributesIds){t._savedAttributesIds.splice(t._savedAttributesIds.indexOf(e),1),delete t._attributes[e];var i={};for(var n in t._savedAttributes)i[n]=t._savedAttributes[n];n=0;for(var r=t._savedAttributesIds.length;n<r;n++)for(var o in t._attributes[t._savedAttributesIds[n]])i[o]=t._attributes[t._savedAttributesIds[n]][o];for(var o in i)t.setAttribute(o,i[o])}}Object.defineProperty(t,"__esModule",{value:!0}),t.setAttributeTo=function(t,e,i){var n;if(i)for(n in e)t.setAttributeNS(i,n,e[n]);else for(n in e)t.setAttribute(n,e[n])},t.mapEventEmission=function(e,i){i||(i=this);var n;for(var t in e)0==t.indexOf("on")&&"function"==typeof e[t]&&(n=(n=t.substring(2)).substring(0,1).toLowerCase()+n.substring(1),i.on&&function(t){i.on(n,function(){e[t].apply(i,arguments)})}(t))},t.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,i="x"==t?e:3&e|8;return i.toString(16)})},t.throwError=function(t){console.error(t)},t.warn=function(t){console.warn(t)},t.isNumeric=function(t){return!Array.isArray(t)&&0<=t-parseFloat(t)+1},t.hue2rgb=u,t.hslToRgb=function(t,e,i){var n,r,o;if(0==e)n=r=o=i;else{var s=i<.5?i*(1+e):i+e-i*e,a=2*i-s;n=u(a,s,t+1/3),r=u(a,s,t),o=u(a,s,t-1/3)}return[Math.round(255*n),Math.round(255*r),Math.round(255*o)]},t.saveDomAttributes=function(t,e,i){if(!t)return;t._savedAttributesIds=t._savedAttributesIds||[],-1<t._savedAttributesIds.indexOf(i)&&r(t,i);for(var n in t._savedAttributes=t._savedAttributes||{},t._attributes=t._attributes||{},t._attributes[i]=e,t._savedAttributesIds.push(i),e)t._savedAttributes[n]||(t._savedAttributes[n]=t.getAttribute(n)),t.setAttribute(n,e[n])},t.hasSavedAttribute=n,t.overwriteDomAttribute=function(t,e,i){n(t,e)&&(t._savedAttributes[e]=i)},t.restoreDomAttributes=r,t.debounce=function(n,r,o){var s;return function(){var t=this,e=arguments,i=o&&!s;clearTimeout(s),s=setTimeout(function(){s=null,o||n.apply(t,e)},r),i&&n.apply(t,e)}},t.SVGParser=function(t){return(new DOMParser).parseFromString(t,"image/svg+xml")},t.reverseArray=function(t){var e=null,i=null,n=t.length;for(e=0,i=n-1;e<i;e+=1,i-=1){var r=t[e];t[e]=t[i],t[i]=r}return t},t.getOffset=function(t){var e=t.getBoundingClientRect();return{top:e.top,left:e.left}},t.setCSS=function(t,e){var i=t.style;for(var n in e)i[n]=e[n]},t.ajaxGet=function(r){return new Promise(function(e,i){var n=new XMLHttpRequest;n.open(r.type||"GET",r.url,!0),r.json&&n.setRequestHeader("Accept","application/json"),n.onload=function(){if(200===n.status){var t=n.responseText;r.json&&(t=JSON.parse(t)),e(t)}else i(new Error("Request error: ".concat(n.status)))},n.onerror=function(){i(new Error("Network error: ".concat(n.status)))},n.send()})},t.extend=function t(){var e,i,n,r,o,s;var a=arguments[0];var u=1;var l=arguments.length;var h=!1;"boolean"==typeof a?(h=a,a=arguments[1]||{},u=2):("object"!==c(a)&&"function"!=typeof a||null==a)&&(a={});for(;u<l;++u)if(null!=(e=arguments[u]))for(i in e)n=a[i],r=e[i],a!==r&&(h&&r&&(p(r)||(o=f(r)))?(s=o?(o=!1,n&&f(n)?n:[]):n&&p(n)?n:{},a[i]=t(h,s,r)):void 0!==r&&(a[i]=r));return a},t.mix=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t.prototype[i]=e[i])},t.emptyDom=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},t.isPlainObject=t.isArray=t.default=void 0;var o=Object.prototype.hasOwnProperty,s=Object.prototype.toString,f=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===s.call(t)};t.isArray=f;var p=function(t){if(!t||"[object Object]"!==s.call(t))return!1;var e,i=o.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&o.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!i&&!n)return!1;for(e in t);return void 0===e||o.call(t,e)};t.isPlainObject=p;t.default={}})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n=i(70)("wks"),r=i(32),o=i(3).Symbol,s="function"==typeof o;(t.exports=function(t){return n[t]||(n[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=n},function(t,e,i){var n=i(19),r=Math.min;t.exports=function(t){return 0<t?r(n(t),9007199254740991):0}},function(t,e,i){var n=i(2),r=i(99),o=i(29),s=Object.defineProperty;e.f=i(9)?Object.defineProperty:function(t,e,i){if(n(t),e=o(e,!0),n(i),r)try{return s(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){t.exports=!i(1)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var i=t.exports={version:"2.6.3"};"number"==typeof __e&&(__e=i)},function(t,e,i){var o=i(3),s=i(15),a=i(14),u=i(32)("src"),n="toString",r=Function[n],l=(""+r).split(n);i(10).inspectSource=function(t){return r.call(t)},(t.exports=function(t,e,i,n){var r="function"==typeof i;r&&(a(i,"name")||s(i,"name",e)),t[e]!==i&&(r&&(a(i,u)||s(i,u,t[e]?""+t[e]:l.join(String(e)))),t===o?t[e]=i:n?t[e]?t[e]=i:s(t,e,i):(delete t[e],s(t,e,i)))})(Function.prototype,n,function(){return"function"==typeof this&&this[u]||r.call(this)})},function(t,e,i){var n=i(27);t.exports=function(t){return Object(n(t))}},function(t,e,i){var n=i(0),r=i(1),s=i(27),a=/"/g,o=function(t,e,i,n){var r=String(s(t)),o="<"+e;return""!==i&&(o+=" "+i+'="'+String(n).replace(a,"&quot;")+'"'),o+">"+r+"</"+e+">"};t.exports=function(e,t){var i={};i[e]=t(o),n(n.P+n.F*r(function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length}),"String",i)}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var n=i(8),r=i(31);t.exports=i(9)?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(47),r=i(27);t.exports=function(t){return n(r(t))}},function(t,e,i){"use strict";var n=i(1);t.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},function(f,p,t){var e,i,n,r;r=function(t,l,s,o){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=e(l),s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(s),o=e(o);var n=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,h(e).call(this))}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,o.default),i=e,(n=[{key:"init",value:function(t,e){var i,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=this;if(this.graph=t,this.properties=e||{},this.handles=[],this.options=this.options||{},n||(this.group=document.createElementNS(this.graph.ns,"g"),this.group.setAttribute("clip-path","url(#_clipplot".concat(t._creation,")")),this.group.jsGraphIsShape=this),this.simplified=n,this._selected=!1,this.createDom(),this._dom&&(this._dom.jsGraphIsShape=this),this.classes=[],this.transforms=[],this._data.masker){var o=document.createElementNS(this.graph.ns,"mask");this.maskingId=Math.random(),o.setAttribute("id",this.maskingId),this.maskDomWrapper=document.createElementNS(this.graph.ns,"rect"),this.maskDomWrapper.setAttribute("fill","white"),o.appendChild(this.maskDomWrapper);var s=this._dom.cloneNode();o.appendChild(s),this.maskDom=s,this.graph.defs.appendChild(o)}return this.group&&this._dom&&!this.isHTML()&&this.group.appendChild(this._dom),(i=n?this._dom:this.group).addEventListener("mouseover",function(t){r.handleMouseOver(t)}),i.addEventListener("mouseout",function(t){r.handleMouseOut(t)}),i.addEventListener("mousedown",function(t){r.graph.focus(),r.handleMouseDown(t)}),i.addEventListener("click",this.handleClick.bind(this)),i.addEventListener("dblclick",function(t){r.handleDblClick(t)}),this.initImpl(),this.graph.emit("shapeNew",this),this}},{key:"initImpl",value:function(){}},{key:"getData",value:function(){return this._data}},{key:"getType",value:function(){return this.type}},{key:"kill",value:function(t){this._inDom&&!t&&this.graph.removeShapeFromDom(this),t||this.graph._removeShape(this),this.graph.stopElementMoving(this),this.graph.emit("shapeRemoved",this),this.emit("removed",this),this._inDom=!1}},{key:"hide",value:function(){return this.hidden||(this.hidden=!0,this.isHTML()||this.simplified?this._dom.style.display="none":this.group.style.display="none"),this}},{key:"isHidden",value:function(){return this.hidden}},{key:"isVisible",value:function(){return!this.hidden}},{key:"show",value:function(){return this.hidden&&(this.hidden=!1,this.isHTML()?this._dom.style.display="initial":this.group.style.display="initial",this.redraw()),this}},{key:"addClass",value:function(t){return this.classes=this.classes||[],-1==this.classes.indexOf(t)&&this.classes.push(t),this.makeClasses(),this}},{key:"removeClass",value:function(t){return this.classes.splice(this.classes.indexOf(t),1),this.makeClasses(),this}},{key:"makeClasses",value:function(){return this._dom&&this._dom.setAttribute("class",this.classes.join(" ")),this}},{key:"changed",value:function(t,e){return t&&(this.graph.emit(t,this,e),this.emit(t,this,e)),this.emit("changed",this,e),this.graph.emit("shapeChanged",this,e),this}},{key:"setEventReceptacle",value:function(){if(!simplified){this.rectEvent||(this.rectEvent=document.createElementNS(this.graph.ns,"rect"),this.rectEvent.setAttribute("pointer-events","fill"),this.rectEvent.setAttribute("fill","transparent"),this.group.appendChild(this.rectEvent),this.rectEvent.jsGraphIsShape=this);var t=this.group.getBBox();this.rectEvent.setAttribute("x",t.x),this.rectEvent.setAttribute("y",t.y-10),this.rectEvent.setAttribute("width",t.width),this.rectEvent.setAttribute("height",t.height+20)}}},{key:"setSerie",value:function(t){if(t){if(!(this.serie=t).getXAxis||!t.getYAxis)throw console.error(t),"Serie does not implement the getXAxis or getYAxis method";return this.xAxis=t.getXAxis(),this.yAxis=t.getYAxis(),this}}},{key:"getSerie",value:function(){return this.serie}},{key:"autoAxes",value:function(){return this.xAxis||(this.xAxis=this.graph.getXAxis()),this.yAxis||(this.yAxis=this.graph.getYAxis()),this}},{key:"setXAxis",value:function(t){return this.xAxis=t,this}},{key:"setYAxis",value:function(t){this.yAxis=t}},{key:"getXAxis",value:function(){return this.xAxis||this.autoAxes(),this.xAxis}},{key:"getYAxis",value:function(){return this.yAxis||this.autoAxes(),this.yAxis}},{key:"setLayer",value:function(t){return this.setProp("layer",t),this}},{key:"getLayer",value:function(){var t=this.getProp("layer");return void 0!==t?t:1}},{key:"draw",value:function(t,e){return this._inDom&&!t||(this.appendToDom(),this._inDom=!0),this.makeLabels(),e||this.redraw(),this.applyStyle(),this}},{key:"redraw",value:function(){return this.hidden?this:(this.position=this.applyPosition(),this.redrawImpl(),this.position?(this.updateLabels(),this._applyTransforms()):this.updateLabels(),this)}},{key:"redrawImpl",value:function(){}},{key:"setProperties",value:function(t){this.properties=t,Array.isArray(this.properties.position)||(this.properties.position=[this.properties.position]);for(var e=this,i=0,n=this.properties.position.length;i<n;i++){var r=l.default.check(this.properties.position[i],function(t){return e.getRelativePosition(t)});this.properties.position[i]=r}return this.emit("propertiesChanged"),this}},{key:"getRelativePosition",value:function(t){var e;return null!==(e=/position([0-9]*)/.exec(t))?this.getPosition(e[1]):null!==(e=/labelPosition([0-9]*)/.exec(t))?this.getLabelPosition(e[1]):void 0}},{key:"getProperties",value:function(t){return this.properties}},{key:"setProp",value:function(t,e,i){return this.properties=this.properties||{},this.properties[t]=this.properties[t]||[],this.properties[t][i||0]=e,this.emit("propertyChanged",t),this}},{key:"getProp",value:function(t,e){return Array.isArray(this.properties[t])?(this.properties[t]||[])[e||0]:this.properties[t]}},{key:"getProps",value:function(t,e){return this.properties[t]||[]}},{key:"addProp",value:function(t,e){this.properties[t]=this.properties[t]||[],this.properties[t].push(e)}},{key:"resetProp",value:function(t){this.properties[t]=[]}},{key:"setDom",value:function(t,e,i){this._cachedDOM=this._cachedDOM||{},this._cachedDOM[t]!=e&&this._dom&&(i&&s.hasSavedAttribute(this._dom,t)||(this._dom.setAttribute(t,e),this._cachedDOM[t]=e))}},{key:"setDomGroup",value:function(t,e){this.simplified?this._dom.setAttribute(t,e):this.group&&this.group.setAttribute(t,e)}},{key:"setStrokeColor",value:function(t){return this.setProp("strokeColor",t),this.overwriteSavedProp("stroke",t),this.applySelectedStyle(),this}},{key:"getStrokeColor",value:function(){return this.getProp("strokeColor")}},{key:"setFillColor",value:function(t){return this.setProp("fillColor",t),this.overwriteSavedProp("fill",t),this.applySelectedStyle(),this}},{key:"getFillColor",value:function(){return this.getProp("fillColor")}},{key:"setFillOpacity",value:function(t){return this.setProp("fillOpacity",t),this.overwriteSavedProp("fill-opacity",t),this.applySelectedStyle(),this}},{key:"setStrokeWidth",value:function(t){return this.setProp("strokeWidth",t),this.overwriteSavedProp("stroke-width",t),this.applySelectedStyle(),this}},{key:"getStrokeWidth",value:function(){return this.getProp("strokeWidth")}},{key:"setStrokeDasharray",value:function(t){return this.setProp("strokeDasharray",t),this.overwriteSavedProp("stroke-dasharray",t),this.applySelectedStyle(),this}},{key:"setAttributes",value:function(t){return this.setProp("attributes",t),this}},{key:"overwriteSavedProp",value:function(t,e){s.overwriteDomAttribute(this._dom,t,e)}},{key:"addAttribute",value:function(t,e){var i={};return i[t]=e,this.addProp("attributes",i),this}},{key:"addTransform",value:function(t,e){return this.addProp("transforms",{type:t,arguments:Array.isArray(e)?e:[e]}),this}},{key:"addTransformRotate",value:function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"degrees";return this.addProp("transforms",{type:"rotate",arguments:{center:{x:e,y:i},angle:t,angleType:n}}),this}},{key:"resetTransforms",value:function(){return this.resetProp("transforms"),this}},{key:"setLabelText",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.setProp("labelText",t,e),this}},{key:"setLabelData",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return this.setProp("labelData",e,i),this}},{key:"getLabelText",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.getProp("labelText",e)}},{key:"displayLabel",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.setProp("labelVisible",!0,t),this}},{key:"hideLabel",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.setProp("labelVisible",!1,t),this}},{key:"setLabelColor",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.setProp("labelColor",t,e),this}},{key:"setLabelFontSize",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.setProp("labelFontSize",t,e),this}},{key:"getLabelPosition",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.getProp("labelPosition",t)}},{key:"setLabelPosition",value:function(t,e){var i=l.default.check(t,function(t){return(void 0).getRelativePosition(t)});return this.setProp("labelPosition",i,e||0),this}},{key:"setLabelAngle",value:function(t,e){return this.setProp("labelAngle",t,e||0),this}},{key:"setLabelBaseline",value:function(t,e){return this.setProp("labelBaseline",t,e||0),this}},{key:"setLabelAnchor",value:function(t,e){return this.setProp("labelAnchor",t,e||0),this}},{key:"setLabelSize",value:function(t,e){return this.setProp("labelSize",t,e||0),this}},{key:"setLabelStrokeColor",value:function(t,e){return this.setProp("labelStrokeColor",t,e||0),this}},{key:"setLabelStrokeWidth",value:function(t,e){return this.setProp("labelStrokeWidth",t,e||0),this}},{key:"setLabelBackgroundColor",value:function(t,e){return this.setProp("labelBackgroundColor",t,e||0),this}},{key:"setLabelBackgroundOpacity",value:function(t,e){return this.setProp("labelBackgroundOpacity",t,e||0),this}},{key:"applyGenericStyle",value:function(){this.setDom("fill",this.getProp("fillColor"),!0),this.setDom("fill-opacity",this.getProp("fillOpacity"),!0),this.setDom("stroke",this.getProp("strokeColor"),!0),this.setDom("stroke-width",this.getProp("strokeWidth"),!0),this.setDom("stroke-dasharray",this.getProp("strokeDasharray"),!0);for(var t=this.getProps("attributes"),e=0,i=t.length;e<i;e++)for(var n in t[e])this.setDom(n,"function"==typeof t[e][n]?t[e][n].call(this,n):t[e][n],!0);return this._applyTransforms(),this}},{key:"applyStyle",value:function(){return this.applyGenericStyle()}},{key:"calculatePosition",value:function(t){var e;if(e=t instanceof l.default?t:this.getPosition(t))return e&&e.compute?e.compute(this.graph,this.getXAxis(),this.getYAxis(),this.getSerie()):void this.graph.throw()}},{key:"getPosition",value:function(t){var e=this.getProp("position",t||0);if(null!=e)return this.setProp("position",e=l.default.check(e),t),e}},{key:"setPosition",value:function(t,e){var i=this,n=l.default.check(t,function(t){return i.getRelativePosition(t)});return this.setProp("position",n,e||0)}},{key:"sortPositions",value:function(t){return this.getProps("position").sort(t),this}},{key:"_applyTransforms",value:function(){var t=this.getProps("transforms"),e="";if(t&&0!=(t=Array.isArray(t)?t:[t]).length){for(var i=0;i<t.length;i++){e+="".concat(t[i].type,"(");var n=void 0;switch(t[i].type){case"translate":if(t[i].arguments)n=t[i].arguments[0].compute(this.graph,this.getXAxis(),this.getYAxis(),this.getSerie());else n=l.default.check(t[i].value).compute(this.graph,this.getXAxis(),this.getYAxis(),this.getSerie());e+=n.x||n.dx||0,e+=", ",e+=n.y||n.dy||0;break;case"rotate":var r=void 0;if(t[i].arguments)if(e+=t[i].arguments[0],e+=", ",1==t[i].arguments.length){u=this.computePosition(0);e+="".concat(u.x,", ").concat(u.y)}else e+=l.default.getDeltaPx(t[i].arguments[1],this.getXAxis()).replace("px",""),e+=", ",e+=l.default.getDeltaPx(t[i].arguments[2],this.getYAxis()).replace("px","");else{if("angleData"==t[i].angleType){var o=void 0,s=void 0;s=this.serie?(o=this.serie.getXAxis(),this.serie.getYAxis()):(o=this.graph.getXAxis(),this.graph.getYAxis()),r=180*Math.atan(Math.tan(t[i].angle*Math.PI/180)*o.getRelVal(1)/s.getRelVal(1))/Math.PI}else r=t[i].angle;if(e+=r,t[i].center){var a=l.default.check(t[i].center).compute(this.graph,this.getXAxis(),this.getYAxis(),this.getSerie());a.x==a.x&&a.y==a.y&&(e+=", ",e+=a.x,e+=", ",e+=a.y)}else{var u=this.computePosition(0);e+=", ".concat(u.x,", ").concat(u.y)}}}e+=") "}return this.setDomGroup("transform",e),this}}},{key:"makeLabels",value:function(){var e=this;if(!this.simplified){this._labels=this._labels||[],this._labelsBackground=this._labelsBackground||[],this._labels.map(function(t){e.group.removeChild(t)}),this._labelsBackground.map(function(t){e.group.removeChild(t)}),this._labels=[],this._labelsBackground[t]=[];for(var t=0;void 0!==this.getProp("labelText",t);)this._labels[t]||(this._labels[t]=document.createElementNS(this.graph.ns,"text"),this._labels[t].setAttribute("data-label-i",t),(this._labels[t].jsGraphIsShape=this)._labelsBackground[t]=document.createElementNS(this.graph.ns,"rect"),this._labelsBackground[t].setAttribute("data-label-i",t),(this._labelsBackground[t].jsGraphIsShape=this).group.appendChild(this._labelsBackground[t]),this.group.appendChild(this._labels[t]),this._labels[t].addEventListener("dblclick",function(t){t.stopPropagation(),e.labelDblClickListener(t)}),this._labelsBackground[t].addEventListener("dblclick",function(t){t.stopPropagation(),e.labelDblClickListener(t)})),Array.isArray(this.getProp("labelText",t)),t++;return this.updateLabels(),this}}},{key:"isLabelEditable",value:function(t){return this.getProp("labelEditable",t||0)}},{key:"updateLabels",value:function(){this._labels=this._labels||[];for(var t=0,e=this._labels.length;t<e;t++)this._applyLabelData(t)}},{key:"_applyLabelData",value:function(t){if(t=t||0,!1===this.getProp("labelVisible",t))return this._labels[t].setAttribute("display","none"),void this._labelsBackground[t].setAttribute("display","none");this._labels[t].setAttribute("display","initial"),this._labelsBackground[t].setAttribute("display","initial");var e=this.calculatePosition(l.default.check(this.getProp("labelPosition",t)));if(e&&!isNaN(e.x)&&!isNaN(e.y)&&!1!==e.y&&!1!==e.x){"NaNpx"==e.x||isNaN(e.x)||"NaN"===e.x||!1===e.x||(this._labels[t].setAttribute("x",e.x),this._labels[t].setAttribute("y",e.y));var i=this.getProp("labelAngle",t)||0;if(0!=i){var n=this._labels[t].getAttribute("x"),r=this._labels[t].getAttribute("y");this._labels[t].setAttribute("transform","rotate(".concat(i," ").concat(n," ").concat(r,")"))}var o=this.getProp("labelHTMLData",t)||{};for(var s in o)this._labels[t].setAttribute(s,o[s]),this._labelsBackground[t].setAttribute(s,o[s]);this._labels[t].setAttribute("dominant-baseline",this.getProp("labelBaseline",t)||"no-change"),this._labels[t].textContent=this.getProp("labelText",t),this._labels[t].setAttribute("fill",this.getProp("labelColor",t)||"black"),this._labels[t].setAttribute("font-size","".concat(this.getProp("labelSize",t),"px")||"12px"),this._labels[t].setAttribute("text-anchor",this._getLabelAnchor(t)),this._labels[t].setAttribute("stroke",this.getProp("labelStrokeColor",t)||"black"),this._labels[t].setAttribute("stroke-width",this.getProp("labelStrokeWidth",t)||"".concat(0,"px")),this._labels[t].setAttribute("stroke-location","outside");var a=this._labels[t].getBBox();return this._labelsBackground[t].setAttribute("x",a.x),this._labelsBackground[t].setAttribute("y",a.y),this._labelsBackground[t].setAttribute("width",a.width),this._labelsBackground[t].setAttribute("height",a.height),this._labelsBackground[t].setAttribute("fill",this.getProp("labelBackgroundColor")||"transparent"),this._labelsBackground[t].setAttribute("fill-opacity",this.getProp("labelBackgroundOpacity")||1),this}}},{key:"emptyLabels",value:function(){for(var t=0,e=this._labels.length;t<e;t++)this._labels[t].textContent="";return this}},{key:"_getLabelAnchor",value:function(t){var e=this.getProp("labelAnchor",t);switch(e){case"middle":case"start":case"end":return e;case"right":return"end";case"left":default:return"start"}}},{key:"isSelected",value:function(){return this._selectStatus||!1}},{key:"hasHandles",value:function(t){return void 0!==t&&this.setProp("handles",t),!!this.getProp("handles")||!!this.getProp("staticHandles")}},{key:"addHandles",value:function(){if(!this.simplified&&!this.isLocked()){if(!this.handlesInDom){this.handlesInDom=!0;for(var t=1;t<this.handles.length;t++)this.handles[t]&&this.group.appendChild(this.handles[t])}return this}}},{key:"removeHandles",value:function(){this.hideHandles(),this.handles=[]}},{key:"hideHandles",value:function(){if(!this.handlesInDom)return this;if(!this.simplified){for(var t=1;t<this.handles.length;t++)this.group.removeChild(this.handles[t]);return this.handlesInDom=!1,this}}},{key:"areHandlesInDom",value:function(){return this.handlesInDom}},{key:"_select",value:function(t){if(!this.isSelectable())return!1;this.appendToDom(),this._selectStatus=!0,this.applySelectedStyle(),this.hasHandles()&&!this.hasStaticHandles()&&(this.addHandles(),this.setHandles()),t||this.graph.emit("shapeSelected",this)}},{key:"applySelectedStyle",value:function(){if(this._selectStatus){var t=this.getSelectStyle(),e={};for(var i in t)"function"==typeof t[i]?e[i]=t[i].call(this):e[i]=t[i];s.saveDomAttributes(this._dom,e,"select")}}},{key:"_unselect",value:function(t){this._selectStatus=!1,s.restoreDomAttributes(this._dom,"select"),this.hasHandles()&&!this.hasStaticHandles()&&this.hideHandles(),t||this.graph.emit("shapeUnselected",this)}},{key:"getSelectStyle",value:function(){return this.selectStyle}},{key:"setSelectStyle",value:function(t){return this.selectStyle=t,this.applySelectedStyle(),this}},{key:"setStaticHandles",value:function(t){this.setProp("staticHandles",t)}},{key:"hasStaticHandles",value:function(t){return!!this.getProp("staticHandles")}},{key:"_createHandles",value:function(t,r,o,s){var a=this;if(!(this.handles&&0<this.handles.length)){for(var e=1,i=t;e<=i;e++)(function(e){var i=a,t=document.createElementNS(i.graph.ns,r);if(t.jsGraphIsShape=!0,o)for(var n in o)t.setAttribute(n,o[n]);t.addEventListener("mousedown",function(t){i.isResizable()&&(t.preventDefault(),t.stopPropagation(),i.graph.emit("beforeShapeResize",i),a.emit("beforeShapeResize"),i.graph.prevent(!1)||(i.resizing=!0,i.handleSelected=e,i.handleMouseDown(t)))}),s&&s(i.handles[e]),i.handles[e]=t}).call(this,e);return this.handles}}},{key:"createHandles",value:function(){this.hasStaticHandles()&&(this.addHandles(),this.setHandles())}},{key:"handleMouseDownImpl",value:function(){}},{key:"handleMouseMoveImpl",value:function(){}},{key:"handleMouseUpImpl",value:function(){}},{key:"handleCreateImpl",value:function(){}},{key:"handleMouseDown",value:function(t){if(!this.isLocked())return(this.isMovable()||this.isResizable())&&this.graph.elementMoving(this),this.getProp("selectOnMouseDown")&&this.graph.selectShape(this),this.isMovable()&&(this.resizing||(this.graph.emit("beforeShapeMove",self),this.graph.prevent(!1)||(this.moving=!0,this.moved=!1))),this._mouseCoords=this.graph._getXY(t),this.handleMouseDownImpl(t,this._mouseCoords)}},{key:"handleClick",value:function(t){if(this.graph.emit("shapeClicked",this),this.emit("shapeClicked"),!this.isSelectable())return!1;t.shiftKey||this.graph.unselectShapes(),this.getProp("selectOnClick")&&this.graph.selectShape(this)}},{key:"handleMouseMove",value:function(t){if(!this.resizing&&!this.moving||this.isSelected()||this.graph.selectShape(this),this.graph.emit("beforeShapeMouseMove",this),this.emit("beforeShapeMouseMove"),this.graph.prevent(!1)||!this._mouseCoords)return!1;this.moved=!0;var e=this.graph._getXY(t),i=this.getXAxis().getRelVal(e.x-this._mouseCoords.x),n=this.getYAxis().getRelVal(e.y-this._mouseCoords.y);return 0==i&&0===n||(this.preventUnselect=!0),this._mouseCoords=e,this.handleMouseMoveImpl(t,i,n,e.x-this._mouseCoords.x,e.y-this._mouseCoords.y)}},{key:"handleMouseUp",value:function(t){return this.moving&&this.moved&&(this.graph.emit("shapeMoved",this),this.emit("shapeMoved")),(this.handleSelected||this.resize)&&(this.graph.emit("shapeResized",this),this.emit("shapeResized")),this.moving=!1,this.resizing=!1,this.handleSelected=!1,this.graph.elementMoving(!1),this.handleMouseUpImpl(t)}},{key:"handleDblClick",value:function(t){}},{key:"handleMouseOver",value:function(){this.getProp("highlightOnMouseOver")&&(this.moving||this.resizing||this.highlight()),this.graph.emit("shapeMouseOver",this)}},{key:"handleMouseOut",value:function(){this.getProp("highlightOnMouseOver")&&this.unHighlight(),this.graph.emit("shapeMouseOut",this)}},{key:"lock",value:function(){return this.setProp("locked",!0),this}},{key:"unlock",value:function(){return this.setProp("locked",!1),this}},{key:"isLocked",value:function(){return this.getProp("locked")||this.graph.shapesLocked}},{key:"movable",value:function(t){this.setProp("movable",!0)}},{key:"unmovable",value:function(){return this.setProp("movable",!1),!1}},{key:"isMovable",value:function(){return this.getProp("movable")}},{key:"resizable",value:function(){this.setProp("resizable",!0)}},{key:"unresizable",value:function(){this.setProp("resizable",!1)}},{key:"isResizable",value:function(){return this.getProp("resizable")}},{key:"selectable",value:function(){this.setProp("selectable",!0)}},{key:"unselectable",value:function(){this.graph.unselectShape(this),this.setProp("selectable",!1)}},{key:"isSelectable",value:function(){return this.getProp("selectable")}},{key:"highlight",value:function(t,e){return t||(t=this.getHighlightAttributes()),e||(e="highlight"),s.saveDomAttributes(this._dom,t,e),this.highlightImpl(),this}},{key:"unHighlight",value:function(t){return t||(t="highlight"),s.restoreDomAttributes(this._dom,t),this.unHighlightImpl(),this}},{key:"highlightImpl",value:function(){}},{key:"unHighlightImpl",value:function(){}},{key:"getHighlightAttributes",value:function(){return this._highlightAttributes}},{key:"setHighlightAttributes",value:function(t){return this._highlightAttributes=t,this}},{key:"getMaskingID",value:function(){return this.maskingId}},{key:"maskWith",value:function(t){var e=t.getMaskingID();e?this._dom.setAttribute("mask","url(#".concat(e,")")):this._dom.removeAttribute("mask")}},{key:"updateMask",value:function(){}},{key:"labelDblClickListener",value:function(t){var i=parseInt(t.target.getAttribute("data-label-i")),n=this;if(!isNaN(i)&&this.isLabelEditable(i)){t.preventDefault(),t.stopPropagation();var r=document.createElement("input");r.setAttribute("type","text"),r.setAttribute("value",n.getProp("labelText",i)),n.graph.wrapper.prepend(r),r.select(),s.setCSS(r,{position:"absolute",marginTop:"".concat(parseInt(t.target.getAttribute("y").replace("px",""))+this.graph.getPaddingTop()-10,"px"),marginLeft:"".concat(parseInt(t.target.getAttribute("x").replace("px",""))+this.graph.getPaddingLeft()-50,"px"),textAlign:"center",width:"100px"});var o=n.getLabelText(i),e=function t(){n.setLabelText(r.value,i),n._labels[i].textContent=r.value;var e=r.value;r.remove(),r.removeEventListener("blur",t),r=!1,n.changed("shapeLabelChanged",{previousValue:o,nextValue:e})};r.addEventListener("blur",e),r.addEventListener("keyup",function(t){13===t.keyCode&&e()}),r.addEventListener("keypress",function(t){t.stopPropagation()}),r.addEventListener("keydown",function(t){t.stopPropagation()}),r.focus()}}},{key:"appendToDom",value:function(){return this._forcedParentDom?this._forcedParentDom.appendChild(this.group):this.graph.appendShapeToDom(this),this}},{key:"forceParentDom",value:function(t){return this._forcedParentDom=t,this}},{key:"isHTML",value:function(){return!1}}])&&a(i.prototype,n),r&&a(i,r),e}();n.prototype.computePosition=n.prototype.calculatePosition,n.prototype.showLabel=n.prototype.displayLabel,n.prototype.remove=n.prototype.kill;var r=n;t.default=r,f.exports=p.default},i=[p,t(51),t(5),t(52)],void 0===(n="function"==typeof(e=r)?e.apply(p,i):e)||(f.exports=n)},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?n:i)(t)}},function(t,e,i){var n=i(48),r=i(31),o=i(16),s=i(29),a=i(14),u=i(99),l=Object.getOwnPropertyDescriptor;e.f=i(9)?l:function(t,e){if(t=o(t),e=s(e,!0),u)try{return l(t,e)}catch(t){}if(a(t,e))return r(!n.f.call(t,e),t[e])}},function(t,e,i){var r=i(0),o=i(10),s=i(1);t.exports=function(t,e){var i=(o.Object||{})[t]||Object[t],n={};n[t]=e(i),r(r.S+r.F*s(function(){i(1)}),"Object",n)}},function(t,e,i){var b=i(24),x=i(47),k=i(12),S=i(7),n=i(228);t.exports=function(c,t){var f=1==c,p=2==c,d=3==c,g=4==c,y=6==c,v=5==c||y,m=t||n;return function(t,e,i){for(var n,r,o=k(t),s=x(o),a=b(e,i,3),u=S(s.length),l=0,h=f?m(t,u):p?m(t,0):void 0;l<u;l++)if((v||l in s)&&(r=a(n=s[l],l,o),c))if(f)h[l]=r;else if(r)switch(c){case 3:return!0;case 5:return n;case 6:return l;case 2:h.push(n)}else if(g)return!1;return y?-1:d||g?g:h}}},function(h,c,t){var e,i,n,r;r=function(t,e){"use strict";var i;function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=(i=e)&&i.__esModule?i:{default:i};var l=function(t){function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r(this,o(i).apply(this,arguments))).options=Object.assign({},i.default(),e.constructor.default(),t),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(i,e.default),a(i,null,[{key:"default",value:function(){return{}}}]),a(i,[{key:"init",value:function(t){this.graph=t}},{key:"onMouseDown",value:function(){}},{key:"onMouseUp",value:function(){}},{key:"onMouseMove",value:function(){}}]),i}();t.default=l,h.exports=c.default},i=[c,t(52)],void 0===(n="function"==typeof(e=r)?e.apply(c,i):e)||(h.exports=n)},function(t,e,i){var o=i(25);t.exports=function(n,r,t){if(o(n),void 0===r)return n;switch(t){case 1:return function(t){return n.call(r,t)};case 2:return function(t,e){return n.call(r,t,e)};case 3:return function(t,e,i){return n.call(r,t,e,i)}}return function(){return n.apply(r,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,i){"use strict";if(i(9)){var v=i(33),m=i(3),b=i(1),x=i(0),k=i(64),n=i(95),f=i(24),S=i(43),r=i(31),w=i(15),o=i(44),s=i(19),M=i(7),A=i(125),a=i(35),u=i(29),l=i(14),_=i(49),P=i(4),p=i(12),d=i(87),O=i(36),C=i(38),L=i(37).f,g=i(89),h=i(32),c=i(6),y=i(22),E=i(54),T=i(50),j=i(91),D=i(40),X=i(57),N=i(42),I=i(90),Y=i(116),F=i(8),B=i(20),R=F.f,H=B.f,W=m.RangeError,z=m.TypeError,V=m.Uint8Array,U="ArrayBuffer",G="Shared"+U,Z="BYTES_PER_ELEMENT",q="prototype",K=Array[q],Q=n.ArrayBuffer,J=n.DataView,$=y(0),tt=y(2),et=y(3),it=y(4),nt=y(5),rt=y(6),ot=E(!0),st=E(!1),at=j.values,ut=j.keys,lt=j.entries,ht=K.lastIndexOf,ct=K.reduce,ft=K.reduceRight,pt=K.join,dt=K.sort,gt=K.slice,yt=K.toString,vt=K.toLocaleString,mt=c("iterator"),bt=c("toStringTag"),xt=h("typed_constructor"),kt=h("def_constructor"),St=k.CONSTR,wt=k.TYPED,Mt=k.VIEW,At="Wrong length!",_t=y(1,function(t,e){return Et(T(t,t[kt]),e)}),Pt=b(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),Ot=!!V&&!!V[q].set&&b(function(){new V(1).set({})}),Ct=function(t,e){var i=s(t);if(i<0||i%e)throw W("Wrong offset!");return i},Lt=function(t){if(P(t)&&wt in t)return t;throw z(t+" is not a typed array!")},Et=function(t,e){if(!(P(t)&&xt in t))throw z("It is not a typed array constructor!");return new t(e)},Tt=function(t,e){return jt(T(t,t[kt]),e)},jt=function(t,e){for(var i=0,n=e.length,r=Et(t,n);i<n;)r[i]=e[i++];return r},Dt=function(t,e,i){R(t,e,{get:function(){return this._d[i]}})},Xt=function(t){var e,i,n,r,o,s,a=p(t),u=arguments.length,l=1<u?arguments[1]:void 0,h=void 0!==l,c=g(a);if(null!=c&&!d(c)){for(s=c.call(a),n=[],e=0;!(o=s.next()).done;e++)n.push(o.value);a=n}for(h&&2<u&&(l=f(l,arguments[2],2)),e=0,i=M(a.length),r=Et(this,i);e<i;e++)r[e]=h?l(a[e],e):a[e];return r},Nt=function(){for(var t=0,e=arguments.length,i=Et(this,e);t<e;)i[t]=arguments[t++];return i},It=!!V&&b(function(){vt.call(new V(1))}),Yt=function(){return vt.apply(It?gt.call(Lt(this)):Lt(this),arguments)},Ft={copyWithin:function(t,e){return Y.call(Lt(this),t,e,2<arguments.length?arguments[2]:void 0)},every:function(t){return it(Lt(this),t,1<arguments.length?arguments[1]:void 0)},fill:function(t){return I.apply(Lt(this),arguments)},filter:function(t){return Tt(this,tt(Lt(this),t,1<arguments.length?arguments[1]:void 0))},find:function(t){return nt(Lt(this),t,1<arguments.length?arguments[1]:void 0)},findIndex:function(t){return rt(Lt(this),t,1<arguments.length?arguments[1]:void 0)},forEach:function(t){$(Lt(this),t,1<arguments.length?arguments[1]:void 0)},indexOf:function(t){return st(Lt(this),t,1<arguments.length?arguments[1]:void 0)},includes:function(t){return ot(Lt(this),t,1<arguments.length?arguments[1]:void 0)},join:function(t){return pt.apply(Lt(this),arguments)},lastIndexOf:function(t){return ht.apply(Lt(this),arguments)},map:function(t){return _t(Lt(this),t,1<arguments.length?arguments[1]:void 0)},reduce:function(t){return ct.apply(Lt(this),arguments)},reduceRight:function(t){return ft.apply(Lt(this),arguments)},reverse:function(){for(var t,e=this,i=Lt(e).length,n=Math.floor(i/2),r=0;r<n;)t=e[r],e[r++]=e[--i],e[i]=t;return e},some:function(t){return et(Lt(this),t,1<arguments.length?arguments[1]:void 0)},sort:function(t){return dt.call(Lt(this),t)},subarray:function(t,e){var i=Lt(this),n=i.length,r=a(t,n);return new(T(i,i[kt]))(i.buffer,i.byteOffset+r*i.BYTES_PER_ELEMENT,M((void 0===e?n:a(e,n))-r))}},Bt=function(t,e){return Tt(this,gt.call(Lt(this),t,e))},Rt=function(t){Lt(this);var e=Ct(arguments[1],1),i=this.length,n=p(t),r=M(n.length),o=0;if(i<r+e)throw W(At);for(;o<r;)this[e+o]=n[o++]},Ht={entries:function(){return lt.call(Lt(this))},keys:function(){return ut.call(Lt(this))},values:function(){return at.call(Lt(this))}},Wt=function(t,e){return P(t)&&t[wt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},zt=function(t,e){return Wt(t,e=u(e,!0))?r(2,t[e]):H(t,e)},Vt=function(t,e,i){return!(Wt(t,e=u(e,!0))&&P(i)&&l(i,"value"))||l(i,"get")||l(i,"set")||i.configurable||l(i,"writable")&&!i.writable||l(i,"enumerable")&&!i.enumerable?R(t,e,i):(t[e]=i.value,t)};St||(B.f=zt,F.f=Vt),x(x.S+x.F*!St,"Object",{getOwnPropertyDescriptor:zt,defineProperty:Vt}),b(function(){yt.call({})})&&(yt=vt=function(){return pt.call(this)});var Ut=o({},Ft);o(Ut,Ht),w(Ut,mt,Ht.values),o(Ut,{slice:Bt,set:Rt,constructor:function(){},toString:yt,toLocaleString:Yt}),Dt(Ut,"buffer","b"),Dt(Ut,"byteOffset","o"),Dt(Ut,"byteLength","l"),Dt(Ut,"length","e"),R(Ut,bt,{get:function(){return this[wt]}}),t.exports=function(t,c,e,o){var f=t+((o=!!o)?"Clamped":"")+"Array",i="get"+t,s="set"+t,p=m[f],a=p||{},n=p&&C(p),r=!p||!k.ABV,u={},l=p&&p[q],d=function(t,r){R(t,r,{get:function(){return t=r,(e=this._d).v[i](t*c+e.o,Pt);var t,e},set:function(t){return e=r,i=t,n=this._d,o&&(i=(i=Math.round(i))<0?0:255<i?255:255&i),void n.v[s](e*c+n.o,i,Pt);var e,i,n},enumerable:!0})};r?(p=e(function(t,e,i,n){S(t,p,f,"_d");var r,o,s,a,u=0,l=0;if(P(e)){if(!(e instanceof Q||(a=_(e))==U||a==G))return wt in e?jt(p,e):Xt.call(p,e);r=e,l=Ct(i,c);var h=e.byteLength;if(void 0===n){if(h%c)throw W(At);if((o=h-l)<0)throw W(At)}else if(h<(o=M(n)*c)+l)throw W(At);s=o/c}else s=A(e),r=new Q(o=s*c);for(w(t,"_d",{b:r,o:l,l:o,e:s,v:new J(r)});u<s;)d(t,u++)}),l=p[q]=O(Ut),w(l,"constructor",p)):b(function(){p(1)})&&b(function(){new p(-1)})&&X(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=e(function(t,e,i,n){var r;return S(t,p,f),P(e)?e instanceof Q||(r=_(e))==U||r==G?void 0!==n?new a(e,Ct(i,c),n):void 0!==i?new a(e,Ct(i,c)):new a(e):wt in e?jt(p,e):Xt.call(p,e):new a(A(e))}),$(n!==Function.prototype?L(a).concat(L(n)):L(a),function(t){t in p||w(p,t,a[t])}),p[q]=l,v||(l.constructor=p));var h=l[mt],g=!!h&&("values"==h.name||null==h.name),y=Ht.values;w(p,xt,!0),w(l,wt,f),w(l,Mt,!0),w(l,kt,p),(o?new p(1)[bt]==f:bt in l)||R(l,bt,{get:function(){return f}}),u[f]=p,x(x.G+x.W+x.F*(p!=a),u),x(x.S,f,{BYTES_PER_ELEMENT:c}),x(x.S+x.F*b(function(){a.of.call(p,1)}),f,{from:Xt,of:Nt}),Z in l||w(l,Z,c),x(x.P,f,Ft),N(f),x(x.P+x.F*Ot,f,{set:Rt}),x(x.P+x.F*!g,f,Ht),v||l.toString==yt||(l.toString=yt),x(x.P+x.F*b(function(){new p(1).slice()}),f,{slice:Bt}),x(x.P+x.F*(b(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!b(function(){l.toLocaleString.call([1,2])})),f,{toLocaleString:Yt}),D[f]=g?h:y,v||g||w(l,mt,y)}}else t.exports=function(){}},function(t,e,i){var r=i(4);t.exports=function(t,e){if(!r(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!r(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var n=i(32)("meta"),r=i(4),o=i(14),s=i(8).f,a=0,u=Object.isExtensible||function(){return!0},l=!i(1)(function(){return u(Object.preventExtensions({}))}),h=function(t){s(t,n,{value:{i:"O"+ ++a,w:{}}})},c=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!u(t))return"F";if(!e)return"E";h(t)}return t[n].i},getWeak:function(t,e){if(!o(t,n)){if(!u(t))return!0;if(!e)return!1;h(t)}return t[n].w},onFreeze:function(t){return l&&c.NEED&&u(t)&&!o(t,n)&&h(t),t}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e){t.exports=!1},function(t,e,i){var n=i(101),r=i(73);t.exports=Object.keys||function(t){return n(t,r)}},function(t,e,i){var n=i(19),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=n(t))<0?r(t+e,0):o(t,e)}},function(t,e,n){var r=n(2),o=n(102),s=n(73),a=n(72)("IE_PROTO"),u=function(){},l="prototype",h=function(){var t,e=n(69)("iframe"),i=s.length;for(e.style.display="none",n(75).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),h=t.F;i--;)delete h[l][s[i]];return h()};t.exports=Object.create||function(t,e){var i;return null!==t?(u[l]=r(t),i=new u,u[l]=null,i[a]=t):i=h(),void 0===e?i:o(i,e)}},function(t,e,i){var n=i(101),r=i(73).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},function(t,e,i){var n=i(14),r=i(12),o=i(72)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,i){var n=i(8).f,r=i(14),o=i(6)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},function(t,e){t.exports={}},function(t,e,i){var n=i(6)("unscopables"),r=Array.prototype;null==r[n]&&i(15)(r,n,{}),t.exports=function(t){r[n][t]=!0}},function(t,e,i){"use strict";var n=i(3),r=i(8),o=i(9),s=i(6)("species");t.exports=function(t){var e=n[t];o&&e&&!e[s]&&r.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e,i){var r=i(11);t.exports=function(t,e,i){for(var n in e)r(t,n,e[n],i);return t}},function(t,e,i){var n=i(4);t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(d,g,t){var e,i,n,r;r=function(t,u,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,i){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,u=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(u),e=i(e),r=i(r);var p={markers:!1,lineColor:"black",lineStyle:1,lineWidth:1,trackMouse:!1,lineToZero:!1,selectableOnClick:!1,overflowX:!1,overflowY:!1},n=function(t){function a(t,e,i,n){var r,o,s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),o=this,s=h(a).call(this,t,e,i,u.extend(!0,{},p,n)),(r=!s||"object"!==l(s)&&"function"!=typeof s?f(o):s).selectionType="unselected",r._type="line",u.mapEventEmission(r.options,f(f(r))),r.styles={},r.styles.unselected={lineColor:r.options.lineColor,lineStyle:r.options.lineStyle,lineWidth:r.options.lineWidth},r.styles.selected={lineWidth:3},r.shown=!0,r.data=[],r._isMinOrMax={x:{min:!1,max:!1},y:{min:!1,max:!1}},r.groupLines=document.createElementNS(r.graph.ns,"g"),r.domMarker=document.createElementNS(r.graph.ns,"path"),r.domMarker.style?r.domMarker.style.cursor="pointer":r.domMarker.style={cursor:"pointer"},r.additionalData={},r.marker=document.createElementNS(r.graph.ns,"circle"),r.marker.setAttribute("fill","black"),r.marker.setAttribute("r",3),r.marker.setAttribute("display","none"),r.markerLabel=document.createElementNS(r.graph.ns,"text"),r.markerLabelSquare=document.createElementNS(r.graph.ns,"rect"),r.markerLabelSquare.setAttribute("fill","white"),r.domMarkerHover={},r.domMarkerSelect={},r.markerHovered=0,r.groupMarkerSelected=document.createElementNS(r.graph.ns,"g"),r.markerPoints={},r.lines=[],r.groupMain.appendChild(r.groupLines),r.groupMain.appendChild(r.marker),r.groupMain.appendChild(r.groupMarkerSelected),r.groupMain.appendChild(r.markerLabelSquare),r.groupMain.appendChild(r.markerLabel),r.independantMarkers=[],r.initExtended1&&r.initExtended1(),r.groupLines.addEventListener("click",function(t){r.options.selectableOnClick&&(r.isSelected()?r.graph.unselectSerie(f(f(r))):r.graph.selectSerie(f(f(r))))}),r}var e,i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(a,r.default),e=a,(i=[{key:"postInit",value:function(){this.extendStyles()}},{key:"setOptions",value:function(t){return this.applyLineStyles(),this}},{key:"onMouseWheel",value:function(){}},{key:"empty",value:function(){for(var t=0,e=this.lines.length;t<e;t++)this.groupLines.removeChild(this.lines[t]);return this.lines=[],this}},{key:"select",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"selected";return this.selected="unselected"!==t,this.selectionType=t,this.applyLineStyles(),this.applyLineStyle(this.getSymbolForLegend()),s(h(a.prototype),"select",this).call(this,t),this}},{key:"unselect",value:function(){return this.selected=!1,s(h(a.prototype),"unselect",this).call(this),this.select("unselected")}},{key:"getSymbolForLegend",value:function(){var t=this._getSymbolForLegendContainer();if(this.lineForLegend)this.applyLineStyle(this.lineForLegend);else{var e=document.createElementNS(this.graph.ns,"line");this.applyLineStyle(e),e.setAttribute("x1",5),e.setAttribute("x2",25),e.setAttribute("y1",0),e.setAttribute("y2",0),e.setAttribute("cursor","pointer"),this.lineForLegend=e,t.appendChild(this.lineForLegend)}return s(h(a.prototype),"getSymbolForLegend",this).call(this),this.lineForLegend}},{key:"degrade",value:function(t){return this.degradationPx=t,this}},{key:"drawInit",value:function(t){var e=this;try{this.axisCheck()}catch(t){return console.warn(t),!1}if(this.currentLineId=0,this.counter=0,this._drawn=!0,this.currentLine="",this.waveform){if(this.degradationPx)this.waveform.resampleForDisplay({resampleToPx:this.degradationPx,xPosition:this.getXAxis().getPx.bind(this.getXAxis()),minX:this.getXAxis().getCurrentMin(),maxX:this.getXAxis().getCurrentMax()}),this._dataToUse=[this.waveform.getDataToUseFlat()];else if(this.waveform.hasAggregation()){var i=this.getXAxis(),n=this.graph.getDrawingWidth()*(i.getDataMax()-i.getDataMin())/(i.getCurrentMax()-i.getCurrentMin()),r=this.waveform.selectAggregatedData(n);if(r instanceof Promise)return r.then(function(){e.draw(t)}),!1;if(!1===r)return!1;this._dataToUse=this.waveform.getDataToUseFlat()}}else this._dataToUse=this.data,this._xDataToUse=this.xData;return!0}},{key:"removeLinesGroup",value:function(){this._afterLinesGroup=this.groupLines.nextSibling,this.groupMain.removeChild(this.groupLines)}},{key:"insertLinesGroup",value:function(){if(!this._afterLinesGroup)throw"Could not find group after lines to insertion.";this.groupMain.insertBefore(this.groupLines,this._afterLinesGroup),this._afterLinesGroup=!1}},{key:"removeExtraLines",value:function(){for(var t=this.currentLineId,e=this.lines.length;t<e;t++)this.groupLines.removeChild(this.lines[t]);this.lines.splice(this.currentLineId,e-this.currentLineId),this.currentLineId=0}},{key:"draw",value:function(t){if(!this.getXAxis()||!this.getYAxis())throw"No axes were defined for this serie";if(t||this.hasDataChanged()){if(s(h(a.prototype),"draw",this).call(this,t),!this.drawInit(t))return;this._dataToUse,this._xDataToUse,this._slotToUse;this.removeLinesGroup(),this.lookForMaxima=!0,this.lookForMinima=!1,this.pos0=this.getYAxis().getPos(Math.max(0,this.getYAxis().getCurrentMin())),this.hasErrors()&&this.errorDrawInit(),this._draw(),this.hasErrors()&&this.errorDraw(),this.removeExtraLines(),this.insertLinesGroup()}for(var e in this.domMarkerHover)this.toggleMarker(e.split(","),!1,!0);for(var e in this.domMarkerSelect)this.toggleMarker(e.split(","),!1,!1);this.applyLineStyle(this.getSymbolForLegend()),this.hasStyleChanged(this.selectionType)&&this.updateStyle(),this.dataHasChanged(!1),s(h(a.prototype),"afterDraw",this).call(this)}},{key:"_draw",value:function(){var t,e,i,n,r,o,s,a=this,u=this.waveform,l=!1,h=!1,c=this.getXAxis(),f=this.getYAxis(),p=c.getCurrentMin(),d=f.getCurrentMin(),g=c.getCurrentMax(),y=f.getCurrentMax();if(u){t=u.getData(!0);var v,m,b,x,k,S,w,M,A,_=u.getShift(),P=u.getScale(),O=!1,C=!1,L=this.isMonotoneous(),E=0,T=u.getLength();if(this.currentLine="",u.isXMonotoneous()){if(u.isXMonotoneousAscending())try{E=u.getIndexFromX(p,!0)||0,T=u.getIndexFromX(g,!0)||u.getLength()}catch(t){T=u.getLength()}else try{E=u.getIndexFromX(g,!0)||0,T=u.getIndexFromX(p,!0)||u.getLength()}catch(t){T=u.getLength()}(T+=2)>t.length&&(T=t.length)}for(;E<T;E+=1)if(e=u.getX(E,!0),i=t[E]*P+_,e==e&&i==i){if(!this.options.overflowX&&e<p&&l<p||!this.options.overflowX&&g<e&&g<l||(!this.options.overflowY&&i<d&&h<d||!this.options.overflowY&&y<i&&y<h)&&!this.options.lineToZero)l=e,h=i,C=!0;else if(this.counter2=E,this.options.lineToZero&&(y<i&&(i=y),i<d&&(i=d)),o=this.getX(e),s=this.getY(i),o!=n||s!=r)if(o==o&&s==s){if(O=L?!this.options.overflowY&&(i<d||y<i):!this.options.overflowX&&(e<p||g<e)||!this.options.overflowY&&(i<d||y<i),this.options.lineToZero){if(O=e<p||g<e)continue}else if(O||C){!1!==l&&!1!==h||C?(A=[],m=i-(v=(e-p)/(e-l))*(i-h),x=i-(b=(e-g)/(e-l))*(i-h),S=e-(k=(i-d)/(i-h))*(e-l),M=e-(w=(i-y)/(i-h))*(e-l),v<1&&0<v&&!1!==m&&m<y&&d<m&&A.push([p,m]),b<1&&0<b&&!1!==x&&x<y&&d<x&&A.push([g,x]),k<1&&0<k&&!1!==S&&S<g&&p<S&&A.push([S,d]),w<1&&0<w&&!1!==M&&M<g&&p<M&&A.push([M,y]),0<A.length?O?C?2==A.length&&(this._createLine(),this._addPoint(this.getX(A[0][0]),this.getY(A[0][1]),A[0][0],A[0][1],!1,!1,!1),this._addPoint(this.getX(A[1][0]),this.getY(A[1][1]),A[0][0],A[0][1],!1,!1,!1)):(1<A.length&&(console.error("Programmation error. Please e-mail me."),console.log(A,M,S,x,m,i,d,y,h)),this._addPoint(this.getX(A[0][0]),this.getY(A[0][1]),A[0][0],A[0][1],!1,!1,!1)):(1<A.length&&(console.error("Programmation error. Please e-mail me."),console.log(A,M,S,x,m,i,d,y,h)),this._createLine(),this._addPoint(this.getX(A[0][0]),this.getY(A[0][1]),A[0][0],A[0][1],!1,!1,!1),this._addPoint(o,s,l,h,!1,!1,!0)):O||this._addPoint(o,s,l,h,E,!1,!1)):(n=o,r=s,l=e,h=i),n=o,r=s,l=e,h=i,C=O;continue}this._addPoint(o,s,e,i,E,!1,!0),n=o,r=s,l=e,h=i}else 0<this.counter&&this._createLine()}else this._createLine();if(this._createLine(),this._tracker){this._trackerDom&&this._trackerDom.remove();var j=this.groupLines.cloneNode(!0);for(this.groupMain.appendChild(j),E=0,T=j.children.length;E<T;E++)j.children[E].setAttribute("stroke","transparent"),j.children[E].setAttribute("stroke-width","25px"),j.children[E].setAttribute("pointer-events","stroke");this._trackerDom=j,this.groupMain.addEventListener("mousemove",function(t){var e=a.graph._getXY(t),i=a.handleMouseMove(!1,!1);a._trackingCallback(a,i,e.x,e.y)}),this.groupMain.addEventListener("mouseleave",function(t){a._trackingOutCallback(a)})}return this}}},{key:"kill",value:function(){s(h(a.prototype),"kill",this).call(this)}},{key:"_addPoint",value:function(t,e,i,n,r,o,s){t==t&&e==e&&(0==this.counter?this.currentLine="M ":this.options.lineToZero||o?this.currentLine+="M ":this.currentLine+="L ",this.currentLine+=t,this.currentLine+=" ",this.currentLine+=e,this.currentLine+=" ",this.options.lineToZero&&void 0!==this.pos0&&(this.currentLine+="L ",this.currentLine+=t,this.currentLine+=" ",this.currentLine+=this.pos0,this.currentLine+=" "),this.hasErrors()&&this.errorAddPoint(r,i,n,t,e),this.counter++)}},{key:"_createLine",value:function(){var t,e=this.currentLineId++;return this.lines[e]?t=this.lines[e]:(t=document.createElementNS(this.graph.ns,"path"),this.applyLineStyle(t),this.groupLines.appendChild(t),this.lines[e]=t),0==this.counter?t.setAttribute("d",""):t.setAttribute("d",this.currentLine),this.currentLine="M ",this.counter=0,t}},{key:"applyLineStyles",value:function(){for(var t=0;t<this.lines.length;t++)this.applyLineStyle(this.lines[t])}},{key:"applyLineStyle",value:function(t){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()),this.getLineDashArray()?t.setAttribute("stroke-dasharray",this.getLineDashArray()):t.removeAttribute("stroke-dasharray"),this.getFillColor()?t.setAttribute("fill",this.getFillColor()):t.setAttribute("fill","none")}},{key:"updateStyle",value:function(){this.applyLineStyles(),this.setLegendSymbolStyle(),this.styleHasChanged(!1)}},{key:"getMarkerPath",value:function(t,e){var i=t.zoom||1,n=(e=e||0,[]);switch(t.type){case 2:n=["m",-2,-2,"l",4,4,"m",-4,0,"l",4,-4];break;case 3:n=["m",-2,0,"l",4,0,"m",-2,-2,"l",0,4];break;case 4:n=["m",-1,-1,"l",2,0,"l",-1,2,"z"];break;default:case 1:n=["m",-2,-2,"l",4,0,"l",0,4,"l",-4,0,"z"]}if(!(1!=i&&i||e))return n.join(" ");if(n){for(var r=0,o=n.length;r<o;r++)"number"==l(n[r])&&(n[r]*=i+e);return n.join(" ")}}},{key:"handleMouseMove",value:function(t,e,i){var n,r=t||this.getXAxis().getMouseVal(),o=i||this.getYAxis().getMouseVal(),s=this.getClosestPointToXY(r,o);if(s)return s.xMax==s.xMin&&(n=s.yMin),(!e||!this.options.trackMouse||null!=s.xMin)&&{xBefore:s.xMin,xAfter:s.xMax,yBefore:s.yMin,yAfter:s.yMax,trueX:s.xExact,indexClosest:s.indexClosest,interpolatedY:n,xClosest:s.xClosest,yClosest:s.yClosest}}},{key:"getMax",value:function(t,e){var i,n,r,o,s=Math.min(t,e),a=Math.max(t,e),u=this.getClosestPointToXY(s),l=this.getClosestPointToXY(a),h=-1/0;if(u||(s=this.minX,u=this.getClosestPointToXY(s)),l||(a=this.maxX,l=this.getClosestPointToXY(a)),!u||!l)return-1/0;for(i=u.dataIndex;i<=l.dataIndex;i++)for(r=i==u.dataIndex?u.xBeforeIndexArr:0,o=i==l.dataIndex?l.xBeforeIndexArr:this.data[i].length,n=r;n<=o;n+=2)h=Math.max(h,this.data[i][n+1]);return h}},{key:"getMin",value:function(t,e){var i,n,r,o,s=Math.min(t,e),a=Math.max(t,e),u=this.getClosestPointToXY(s),l=this.getClosestPointToXY(a),h=1/0;if(u||(s=this.minX,u=this.getClosestPointToXY(s)),l||(a=this.maxX,l=this.getClosestPointToXY(a)),!u||!l)return 1/0;for(i=u.dataIndex;i<=l.dataIndex;i++)for(r=i==u.dataIndex?u.xBeforeIndexArr:0,o=i==l.dataIndex?l.xBeforeIndexArr:this.data[i].length,n=r;n<=o;n+=2)h=Math.min(h,this.data[i][n+1]);return h}},{key:"setStyle",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"unselected";this.styles[e]=t,this.styleHasChanged(e)}},{key:"setLineStyle",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"unselected",i=2<arguments.length?arguments[2]:void 0;return this.styles[e]=this.styles[e]||{},this.styles[e].lineStyle=t,i&&this.setLineStyle(t,"selected"),this.styleHasChanged(e),this}},{key:"getLineStyle",value:function(t){return this.getStyle(t).lineStyle}},{key:"getLineDashArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.selectionType||"unselected";switch(this.getStyle(t).lineStyle){case 2:return"1, 1";case 3:return"2, 2";case 4:return"3, 3";case 5:return"4, 4";case 6:return"5, 5";case 7:return"5 2";case 8:return"2 5";case 9:return"4 2 4 4";case 10:return"1,3,1";case 11:return"9 2";case 12:return"2 9";case 1:case!1:return!1;default:return this.styles[t].lineStyle}this.styleHasChanged(t)}},{key:"getStyle",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.selectionType||"unselected";return this.styles[t]||this.styles.unselected}},{key:"extendStyles",value:function(){for(var t in this.styles){var e=this.styles[t];e&&(this.styles[t]=u.extend(!0,{},this.styles.unselected,e))}}},{key:"extendStyle",value:function(t,e){var i=this.styles[t];this.styles[t]=u.extend(!0,{},this.styles[e||"unselected"],i||{}),this.styleHasChanged(t)}},{key:"setLineWidth",value:function(t,e,i){return e=e||"unselected",this.styles[e]=this.styles[e]||{},this.styles[e].lineWidth=t,i&&this.setLineWidth(t,"selected"),this.styleHasChanged(e),this}},{key:"getLineWidth",value:function(t){return this.getStyle(t).lineWidth||1}},{key:"setLineColor",value:function(t,e,i){return e=e||"unselected",this.styles[e]=this.styles[e]||{},this.styles[e].lineColor=t,i&&this.setLineColor(t,"selected"),this.styleHasChanged(e),this}},{key:"setFillColor",value:function(t,e,i){return e=e||"unselected",this.styles[e]=this.styles[e]||{},this.styles[e].fillColor=t,i&&this.setFillColor(t,"selected"),this.styleHasChanged(e),this}},{key:"getLineColor",value:function(t){return this.getStyle(t).lineColor||"black"}},{key:"getFillColor",value:function(t){return this.getStyle(t).fillColor||void 0}},{key:"isMonotoneous",value:function(){return this.waveform?this.waveform.isMonotoneous():!!this.xmonotoneous}},{key:"findLocalMinMax",value:function(t,e,i){return!!this.waveform&&this.waveform.findLocalMinMax(t,e,i)}},{key:"getClosestPointToXY",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getXAxis().getMouseVal(),e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.getYAxis().getMouseVal(),i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,r=4<arguments.length&&void 0!==arguments[4]&&arguments[4],o=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],s=this.getXAxis().getRelVal(i),a=this.getYAxis().getRelVal(n),u=this.waveform.findWithShortestDistance({x:t,y:e,xMaxDistance:s,yMaxDistance:a,axisRef:r,scaleX:o?1/this.getXAxis().getRelVal(1):1,scaleY:o?1/this.getYAxis().getRelVal(1):1});if(isNaN(u)||!1===u)return!1;if(u<0)return!1;var l={indexBefore:u,indexAfter:u,xExact:t,indexClosest:u,interpolatedY:this.waveform.getY(u),xClosest:this.waveform.getX(u),yClosest:this.waveform.getY(u)};if(this.waveform.isMonotoneous()){var h=this.waveform.getX(u),c=this.waveform.getX(u),f=this.waveform.getY(u),p=this.waveform.getX(u);l.yAfter=h<c?(l.xBefore=h,l.xAfter=c,l.yBefore=f,p):(l.xBefore=c,l.xAfter=h,l.yBefore=p,f)}return l}}])&&o(e.prototype,i),n&&o(e,n),a}();u.mix(n,e.default);var a=n;t.default=a,d.exports=g.default},i=[g,t(5),t(67),t(97)],void 0===(n="function"==typeof(e=r)?e.apply(g,i):e)||(d.exports=n)},function(t,e,i){var n=i(26);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){var r=i(26),o=i(6)("toStringTag"),s="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?i:s?r(e):"Object"==(n=r(e))&&"function"==typeof e.callee?"Arguments":n}},function(t,e,i){var r=i(2),o=i(25),s=i(6)("species");t.exports=function(t,e){var i,n=r(t).constructor;return void 0===n||null==(i=r(n)[s])?e:o(i)}},function(i,r,t){var e,n,o;n=[r],void 0===(o="function"==typeof(e=function(t){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t){return!!(t&&t.indexOf&&-1<t.indexOf("px"))&&parseInt(t.replace("px",""))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(){function r(t,e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),"object"==o(t)?(this.x=t.x,this.y=t.y,this.dx=t.dx,this.dy=t.dy):(this.x=t,this.y=e,this.dx=i,this.dy=n)}var t,e,i;return t=r,i=[{key:"check",value:function(t,e){if(t instanceof r)return t;var i=new r(t);if(t&&t.relativeTo){var n=e(t.relativeTo);n&&i.relativeTo(n)}return i}}],(e=[{key:"duplicate",value:function(){return new r(this.x,this.y,this.dx,this.dy)}},{key:"compute",value:function(t,e,i,n){if(t&&e&&i&&t.hasXAxis&&t.hasYAxis||t.throw(),!t.hasXAxis(e))throw"Graph does not contain the x axis that was used as a parameter";if(!t.hasYAxis(i))throw"Graph does not contain the x axis that was used as a parameter";return this._compute(t,e,i,n)}},{key:"_compute",value:function(t,e,i,n){var r=this._relativeTo;if(r)var o=r._compute(t,e,i,n);var s,a={x:!1,y:!1};for(var u in e||(e=t.getXAxis()),i||(i=t.getYAxis()),a){var l="x"==u?e:i,h=this[u],c=this["d".concat(u)];if(void 0===h&&(void 0!==c&&void 0===r||void 0===r)){if("x"==u){if(void 0===c)continue;a[u]=r?r[u]:0}else if(void 0!==this.x&&n)if(!1!==d(this.x))console.warn("You have defined x in px and not y. Makes no sense. Returning 0 for y"),a[u]=0;else try{if(!(p=n.getClosestPointToXY(this.x)))throw new Error("Could not find y position for x = ".concat(this.x,' on serie "').concat(n.getName(),'". Returning 0 for y.'));a[u]=n.getY(p.yClosest)}catch(t){console.error(t),a[u]=0}}else void 0!==h&&(a[u]=this.getPx(h,l));if(void 0!==c){var f=void 0!==h||null==o||null==o[u]?a[u]:o[u];if("y"==u&&o&&void 0!==o.x&&null==o.y){if(!n)throw new Error("Error. No serie exists. Cannot find y value");var p;(p=n.getClosestPointToXY(r.x))&&(f=n.getY(p.yMin))}f||(f=0),!1!==(s=d(c))?a[u]=f+s:!1!==(s=this._parsePercent(c))?a[u]=f+this._getPositionPx(s,!0,l,t):l&&(a[u]=f+l.getRelPx(c))}}return a}},{key:"_getPositionPx",value:function(t,e,i,n){var r;return!1!==(r=d(t))?r:!1!==(r=this._parsePercent(t))?r/100*(e?n.getDrawingWidth():n.getDrawingHeight()):i?i.getPos(t):void 0}},{key:"_parsePercent",value:function(t){return!!(t&&t.indexOf&&-1<t.indexOf("%"))&&t}},{key:"getDeltaPx",value:function(t,e){var i;return!1!==(i=d(t))?"".concat(i,"px"):"".concat(e.getRelPx(t),"px")}},{key:"deltaPosition",value:function(t,e,i){var n,r,o=this[t="y"==t?"y":"x"],s=this["d".concat(t)];if(void 0!==o)!1!==(n=d(o))?!1!==(r=d(e))?this[t]="".concat(n+r,"px"):this[t]="".concat(n+i.getRelPx(e),"px"):(o=this.getValPosition(o,i),!1!==(r=d(e))?this[t]=o+i.getRelVal(r):this[t]=o+e);else if(void 0!==s){if("y"==t&&void 0===o&&!this._relativeTo)return;!1!==(n=d(s))?!1!==(r=d(e))?this["d".concat(t)]="".concat(n+r,"px"):this["d".concat(t)]="".concat(n+i.getRelPx(e),"px"):(s=this.getValPosition(s,i),!1!==(r=d(e))?this["d".concat(t)]=s+i.getRelVal(r):this["d".concat(t)]=s+e)}}},{key:"getValPosition",value:function(t,e){return"max"==t?e.getMaxValue():"min"==t?e.getMinValue():"max"==t?e.getMaxValue():"min"==t?e.getMinValue():t}},{key:"getPx",value:function(t,e,i){var n,r;if("function"==typeof t)return t(e,i);if(!1!==(n=d(t)))return n;if(!1!==(n=this._parsePercent(t)))return n;if(e){if("min"==t)return e.getMinPx();if("max"==t)return e.getMaxPx();if(i)return e.getRelPx(t);if(r=t,!isNaN(parseFloat(r))&&isFinite(r))return e.getPos(t)}}},{key:"getPxRel",value:function(t,e){return this.getPx(t,e,!0)}},{key:"relativeTo",value:function(t){return this._relativeTo=r.check(t),this}}])&&n(t.prototype,e),i&&n(t,i),r}();t.default=e,i.exports=r.default})?e.apply(r,n):e)||(i.exports=o)},function(s,u,t){var e,i,n;i=[u],void 0===(n="function"==typeof(e=function(t){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function e(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=e.prototype;function o(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function n(t){return function(){return this[t].apply(this,arguments)}}i.getListeners=function(t){var e,i,n=this._getEvents();if(t instanceof RegExp)for(i in e={},n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i]);else e=n[t]||(n[t]=[]);return e},i.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},i.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&((e={})[t]=i),e||i},i.addListener=function(t,e){var i,n=this.getListenersAsObject(t),r="object"===a(e);for(i in n)n.hasOwnProperty(i)&&-1===o(n[i],e)&&n[i].push(r?e:{listener:e,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(t){return this.getListeners(t),this},i.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},i.removeListener=function(t,e){var i,n,r=this.getListenersAsObject(t);for(n in r)r.hasOwnProperty(n)&&-1!==(i=o(r[n],e))&&r[n].splice(i,1);return this},i.off=n("removeListener"),i.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},i.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},i.manipulateListeners=function(t,e,i){var n,r,o=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!==a(e)||e instanceof RegExp)for(n=i.length;n--;)o.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(r=e[n])&&("function"==typeof r?o.call(this,n,r):s.call(this,n,r));return this},i.removeEvent=function(t){var e,i=a(t),n=this._getEvents();if("string"===i)delete n[t];else if(t instanceof RegExp)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(t,e){var i,n,r,o=this.getListenersAsObject(t);for(r in o)if(o.hasOwnProperty(r))for(n=o[r].length;n--;)!0===(i=o[r][n]).once&&this.removeListener(t,i.listener),i.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},i.trigger=n("emitEvent"),i.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},i.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})};var r=e;t.default=r,s.exports=u.default})?e.apply(u,i):e)||(s.exports=n)},function(t,e,i){var n,r,o,s;s=function(t,h,n,o){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e,i){return e&&c(t.prototype,e),i&&c(t,i),t}Object.defineProperty(t,"__esModule",{value:!0}),t.WaveformHash=t.Waveform=void 0,h=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(h),n=e(n),o=e(o);var p=function(){function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;l(this,a),this.xOffset=e,this.xScale=i,this.errors={nb:0,bars:{above:null,below:null},boxes:{above:null,below:null}},this.BELOW=a.BELOW,this.ABOVE=a.ABOVE,this.BOX=a.BOX,this.BAR=a.BAR,this.setData(t)}return f(a,[{key:"setData",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(Array.isArray(t[0])){var i=[],n=[];t.forEach(function(t){i.push(t[0]),n.push(t[1])}),this.setXWaveform(i),t=n}var r=this._makeArray(t.length),o=!1,s=this.isNaNAllowed();return t.map(function(t,e){s||t[0]==t[0]&&t[1]==t[1]||(o=!0),r[e]=t}),o&&this.warn("Trying to assign NaN values to a typed array that does not support NaNs. 0's will be used instead"),this._setData(r),e&&this.setXWaveform(e),this}},{key:"getY",value:function(t,e){return e&&this.dataInUse?this.dataInUse.y[t]*this.getScale()+this.getShift():this.data[t]*this.getScale()+this.getShift()}},{key:"setXWaveform",value:function(t){if(!(t instanceof a)){if(!Array.isArray(t))throw"Cannot set X waveform. Data is not a valid array.";t=new a(t)}return this.xdata=t,this.computeXMinMax(),this}},{key:"hasXWaveform",value:function(){return!!this.xdata}},{key:"getXWaveform",value:function(){if(this.xdata)return this.xdata;for(var t=new a,e=0;e<this.getLength();e+=1)t.append(this.getX(e));return t}},{key:"rescaleX",value:function(t,e){return this.xScale=e,this.xOffset=t,this.computeXMinMax(),this}},{key:"getTypedArrayClass",value:function(){return this._typedArrayClass||!1}},{key:"setTypedArrayClass",value:function(t){this.getTypedArrayClass()&&this.isNaNAllowed()&&!this.isNaNAllowed(t)&&this.warn("NaN values are not allowed by the new constructor (".concat(t.name,") while it was allowed by the previous one (").concat(this._typedArrayClass.name,")")),this.getTypedArrayClass()&&this.isUnsigned()&&!this.isUnsigned(t)&&this.warn("You are switching from signed values to unsigned values. You may experience data corruption if there were some negative values."),this._typedArrayClass=t,this.data&&this._setData(t.from(this.data)),this.hasXWaveform()&&this.getXWaveform().setTypedArrayClass(t)}},{key:"isNaNAllowed",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._typedArrayClass;return t==Array||t==Float32Array||t==Float64Array}},{key:"isUnsigned",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._typedArrayClass;return t==Uint8Array||t==Uint8ClampedArray||t==Uint16Array||t==Uint32Array}},{key:"recalculateMinMaxNewPoint",value:function(t,e){(t<this.minX||void 0===this.minX)&&(this.minX=t),(t>this.maxX||void 0===this.maxX)&&(this.maxX=t),(e<this.minY||void 0===this.minY)&&(this.minY=e),(e>this.maxY||void 0===this.maxY)&&(this.maxY=e)}},{key:"prepend",value:function(t,e){return"function"==typeof t&&(t=t(this)),"function"==typeof e&&(e=e(this)),this.xdata?this.xdata.prepend(null,t):null!==t?(this.xdata=this.getXWaveform(),this.xdata.prepend(null,t)):this.xOffset-=this.xScale,this.data.unshift(e),this.recalculateMinMaxNewPoint(t,e),this}},{key:"append",value:function(t,e){return"function"==typeof t&&(t=t(this)),"function"==typeof e&&(e=e(this)),this.xdata?this.xdata.append(null,t):null!==t&&(this.xdata=this.getXWaveform(),this.xdata.append(null,t)),this.monotoneous&&(e>this.data[this.data.y]&&!1===this.getMonotoneousAscending()?this.monotoneous=!1:e<this.data[this.data.y]&&!0===this.getMonotoneousAscending()&&(this.monotoneous=!1)),1!=this.data.length&&void 0!==this._monotoneousAscending||(this.monotoneous=!0,e==this.data[0]?this._monotoneousAscending=void 0:this._monotoneousAscending=e>this.data[0]),this.data.push(e),this.recalculateMinMaxNewPoint(t,e),this}},{key:"concat",value:function(t){return this.xdata||(this.xdata=this.getXWaveform()),t.xdata||(t.xdata=t.getXWaveform()),this.data=this.data.concat(t.data),this.xdata.data=this.xdata.data.concat(t.xdata.data),this.checkMonotonicity(),this.xdata.checkMonotonicity(),this.computeXMinMax(),this}},{key:"_makeArray",value:function(t){var e=this.getTypedArrayClass();return e?new e(t):new Array(t)}},{key:"_setData",value:function(t){var e=t.length,i=1,n=t[1]>t[0],r=t[0],o=t[0];for(isNaN(r)&&(r=Number.MAX_VALUE),isNaN(o)&&(o=-Number.MAX_VALUE),this._monotoneous=!0;i<e;i++)t[i]!==t[i-1]&&n!==t[i]>t[i-1]&&(this._monotoneous=!1),t[i]==t[i]&&(r=Math.min(t[i],r),o=Math.max(t[i],o));this._monotoneous&&(this._monotoneousAscending=t[1]>t[0]),this.data=t,this.minY=r,this.maxY=o,this.checkMinMaxErrorBars(),this.computeXMinMax()}},{key:"checkMinMaxErrorBars",value:function(){var t=this.minY,e=this.maxY,i=0,n=this.getLength();if(this.hasErrorBars()){for(i=0;i<n;i++)this.data[i]==this.data[i]&&(t=Math.min(t,this.data[i]-this.getMaxError(i,"below")),e=Math.max(e,this.data[i]+this.getMaxError(i,"above")));this.minY=t,this.maxY=e}else this.minY=t,this.maxY=e}},{key:"computeXMinMax",value:function(){if(this.data)if(this.xdata)this.minX=this.xdata.getMin(),this.maxX=this.xdata.getMax();else{var t=this.xOffset+this.xScale*this.getLength(),e=this.xOffset;this.minX=Math.min(t,e),this.maxX=Math.max(t,e)}}},{key:"getDataInUse",value:function(){return this.dataInUse||this.data}},{key:"getIndexFromVal",value:function(t){var e,i,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Math.round;return e=n&&this.dataInUse?this.dataInUse.y:this.data,i=this.getIndexFromMonotoneousData(t,e,this.data.getMonotoneousAscending(),r),n&&this.dataInUse&&"aggregateY"==this.dataInUseType?i-i%4:i}},{key:"getIndexFromX",value:function(t){var e,i,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Math.round;return t-=this.getXShift(),!((t/=this.getXScale())<this.getDataMinX())&&(!(t>this.getDataMaxX())&&(n&&this.dataInUse?e=this.dataInUse.x:this.xdata&&(e=this.xdata.getData()),i=this.hasXWaveform()?this.isXMonotoneous()?this.xdata.getIndexFromMonotoneousData(t,e,this.xdata.getMonotoneousAscending(),r):b(t,void 0,e,void 0,1,void 0):Math.max(0,Math.min(this.getLength()-1,r((t-this.xOffset)/this.xScale))),n&&this.dataInUse&&"aggregateX"==this.dataInUseType?i-i%4:i))}},{key:"getIndexFromY",value:function(t){var e,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1];2<arguments.length&&void 0!==arguments[2]?arguments[2]:Math.round;return t-=this.getShift(),!((t/=this.getScale())<this.getDataMinY())&&(!(t>this.getDataMaxY())&&(e=b(void 0,t,void 0,i&&this.dataInUse?this.dataInUse.y:this.getData(),1,void 0),i&&this.dataInUse&&"aggregateX"==this.dataInUseType?e-e%4:e))}},{key:"setAtIndex",value:function(t,e){this.data[t]=e}},{key:"getIndexFromXY",value:function(t,e){var i,n,r,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],s=(3<arguments.length&&void 0!==arguments[3]?arguments[3]:Math.round,4<arguments.length&&void 0!==arguments[4]?arguments[4]:1),a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1;return o&&this.dataInUse?(i=this.dataInUse.x,n=this.dataInUse.y):this.xdata&&(i=this.xdata.data,n=this.data),r=this.getIndexFromDataXY(t,i,e,n,s,a),o&&this.dataInUse&&"aggregateX"==this.dataInUseType?r-r%4:r}},{key:"getIndexFromDataXY",value:function(t,e,i,n){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1;return t-=this.getXShift(),t/=this.getXScale(),i-=this.getShift(),b(t,i/=this.getScale(),e,n,r,o)}},{key:"getIndexFromMonotoneousData",value:function(t,e,i){if(!this.isMonotoneous())throw console.trace(),"Impossible to get the index from a non-monotoneous wave !";return t-=this.getShift(),x(t/=this.getScale(),e,!i)}},{key:"findWithShortestDistance",value:function(t){if(!t.axisRef){var e=this.getIndexFromXY(t.x,t.y,!0,void 0,t.scaleX,t.scaleY);return t.xMaxDistance&&Math.abs(t.x-this.getX(e))>Math.abs(t.xMaxDistance)?-1:t.yMaxDistance&&Math.abs(t.y-this.getY(e))>Math.abs(t.yMaxDistance)?-1:e}if("x"==t.axisRef){var i=this.getIndexFromX(t.x,!0,void 0);return t.xMaxDistance&&Math.abs(t.x-this.getX(i))>Math.abs(t.xMaxDistance)?-1:i}if("y"==t.axisRef){var n=this.getIndexFromY(t.y,!0,void 0);return t.yMaxDistance&&Math.abs(t.y-this.getY(n))>Math.abs(t.yMaxDistance)?-1:n}}},{key:"getShortestDistanceToPoint",value:function(t,e,i,n){var r,o,s,a,u,l,h,c;t-=this.getXShift(),t/=this.getXScale(),e-=this.getShift();var f,p,d,g={x:t,y:e/=this.getScale()};for(u=0;u<this.length()-1;u++)h=Math.POSITIVE_INFINITY,c=0,r=this.getX(u),o=this.getY(u),a=this.getX(u+1),s=this.getY(u+1),i&&(i<r-t&&i<a-t||i<t-r&&i<t-a)||n&&(n<o-e&&n<s-e||n<e-o&&n<e-s)||(f=g,p={x:r,y:o},d={x:a,y:s},(l=Math.pow(function(t,e,i){var n=S(e,i);if(0==n)return S(t,e);var r=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/n;return r=Math.max(0,Math.min(1,r)),S(t,{x:e.x+r*(i.x-e.x),y:e.y+r*(i.y-e.y)})}(f,p,d),.5))<h&&(h=l,c=u));return{shortestDistance:l,index:c}}},{key:"getReductionType",value:function(){return this.dataInUseType}},{key:"getXMin",value:function(){return this.minX*this.getXScale()+this.getXShift()}},{key:"getXMax",value:function(){return this.maxX*this.getXScale()+this.getXShift()}},{key:"getYMin",value:function(){return this.minY*this.getScale()+this.getShift()}},{key:"getYMax",value:function(){return this.maxY*this.getScale()+this.getShift()}},{key:"getMin",value:function(){return this.minY*this.getScale()+this.getShift()}},{key:"getMax",value:function(){return this.maxY*this.getScale()+this.getShift()}},{key:"getMinX",value:function(){return this.minX*this.getXScale()+this.getXShift()}},{key:"getMaxX",value:function(){return this.maxX*this.getXScale()+this.getXShift()}},{key:"getMinY",value:function(){return this.minY*this.getScale()+this.getShift()}},{key:"getMaxY",value:function(){return this.maxY*this.getScale()+this.getShift()}},{key:"getDataMaxX",value:function(){return this.maxX}},{key:"getDataMinX",value:function(){return this.minX}},{key:"getDataMaxY",value:function(){return this.maxY}},{key:"getDataMinY",value:function(){return this.minY}},{key:"getDataY",value:function(){return this.data}},{key:"getData",value:function(t){return t&&this.dataInUse?this.dataInUse.y:this.data}},{key:"setShift",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.shift=t,this}},{key:"getShift",value:function(){return this.shift||0}},{key:"getScale",value:function(){return this.scale||1}},{key:"setScale",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return this.scale=t,this}},{key:"setXShift",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.hasXWaveform&&this.getXWaveform().setShift(t),this}},{key:"getXShift",value:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this.hasXWaveform?this.getXWaveform().getShift():0}},{key:"setXScale",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return this.hasXWaveform&&this.getXWaveform().setScale(t),this}},{key:"getXScale",value:function(){return this.hasXWaveform?this.getXWaveform().getScale():1}},{key:"getLength",value:function(){return this.data.length}},{key:"getDataToUseFlat",value:function(){var t,e,i=0;if(this.dataInUse){t=this.dataInUse.x.length,e=new Array(2*t).fill(0);for(var n=0;n<t;n+=1)e[i]=this.dataInUse.x[n],e[i+1]=this.dataInUse.y[n],i+=2}else{t=this.getLength(),e=new Array(2*t).fill(0);for(n=0;n<t;n+=1)e[i+1]=this.data[n],e[i]=this.getX(n),i+=2}return e}},{key:"fit",value:function(n){var r=this;return new Promise(function(e,t){var i=new o.default(h.extend({},{dataY:r,dataX:r.getXWaveform(),done:function(t){e(t)},waveform:new a},n));i.init(),i.fit()})}},{key:"getX",value:function(t,e){return e&&this.dataInUse?this.dataInUse.x[t]*this.getXScale()+this.getXShift():this.xdata?this.xdata.data[t]*this.getXScale()+this.getXShift():this.xOffset+t*this.xScale}},{key:"getXRaw",value:function(t,e){return e&&this.dataInUse?this.dataInUse.x[t]:this.xdata?this.xdata.data[t]:t}},{key:"_integrateP",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.getLength()-1;if(t=Math.round(t),(e=Math.round(e))<t){var i=t;t=e,e=i}for(var n,r=e-t+1,o=0,s=0,a=this.getData();t<=e;t++)a.length-1>t&&(s+=n=this.getX(t+1)-this.getX(t),o+=a[t]*n);return[o,r,s]}},{key:"integrateP",value:function(t,e){return this._integrateP(t,e)[0]}},{key:"integrate",value:function(t,e){return this.integrateP(this.getIndexFromX(t),this.getIndexFromX(e))}},{key:"average",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.getLength()-1;return this.getAverageP(t,e)}},{key:"mean",value:function(){return this.average()}},{key:"stddev",value:function(){for(var t=0,e=0,i=this.mean(),n=0;n<this.getLength();n++)t+=Math.pow(this.getY(n)-i,2),e++;return Math.pow(t/e,.5)}},{key:"getAverageP",value:function(t,e){var i=this._integrateP(t,e);return i[0]/i[2]}},{key:"getAverageX",value:function(t,e){var i=this._integrateX(t,e);return i[0]/i[2]}},{key:"checkMonotonicity",value:function(){for(var t=1,e=this.getData(),i=this.data.length,n=e[1]>e[0];t<i;t++)if(e[t]!==e[t-1]&&n!==e[t]>e[t-1])return this._monotoneous=!1;return this._monotoneousAscending=e[1]>e[0],this._monotoneous=!0}},{key:"requireXMonotonicity",value:function(){this.xdata&&this.xdata.requireMonotonicity()}},{key:"requireMonotonicity",value:function(){if(!this.isMonotoneous())throw"The wave must be monotonic"}},{key:"isMonotoneous",value:function(){return!!this._monotoneous}},{key:"isXMonotoneous",value:function(){return!this.xdata||this.xdata.isMonotoneous()}},{key:"invert",value:function(t){return(t||this.data).reverse(),this.xdata&&this.xdata.invert(),this.isMonotoneous()&&(this._monotoneousAscending=!this._monotoneousAscending),this}},{key:"resampleForDisplay",value:function(t){var e=0;this.requireXMonotonicity();var i,n,r,o,s,a,u,l,h=!1,c=this.getDataY(),f={x:[],y:[]},p=[],d=!1,g=0,y=this.getLength();if(!t.xPosition)throw"No position calculation method provided";if(!t.resampleToPx)throw'No "resampleToPx" method was provided. Unit: px per point';if(t.minX>t.maxX){var v=t.minX;t.minX=t.maxX,t.maxX=v}for((this.xdata&&!this.xdata.getMonotoneousAscending()||!this.xdata&&this.xScale<-0)&&(h=!0,e=y);h?0<e:e<y;h?e--:e++)if(l=this.getX(e),t.minX>l)g=e;else if(u=t.xPosition(l),d)if(Math.abs(u-a)>t.resampleToPx||e==y||0==e||isNaN(c[e])){var m=(s+l)/2;if(f.x.push(m),f.y.push(i/o),p.push(m,n,r),void 0!==t.maxX&&l>t.maxX)break;d=!1}else i+=c[e],o++,n=Math.min(n,c[e]),r=Math.max(r,c[e]);else{for(g?(f.x.push(l),f.y.push(c[g])):g=e;isNaN(c[e]);)h?e--:e++;i=n=r=c[g],o=1,a=u,s=l,d=!(g=0)}return this.dataInUseType="resampled",this.dataInUse=f,p}},{key:"interpolate",value:function(t){var e,i=this.getDataY();if(this.xdata){var n=this.xdata.getData();try{e=x(t,n,!this.xdata.getMonotoneousAscending())}catch(t){return NaN}return n[e]==t?i[e]:(t-n[e])/(n[e+1]-n[e])*(i[e+1]-i[e])+i[e]}e=(t-this.xOffset)/this.xScale;var r=Math.floor(e);return(e-r)*(i[r+1]-i[r])+i[r]}},{key:"interpolateIndex_X",value:function(t){this.getDataY();if(this.xdata){var e=this.xdata.getData(),i=Math.floor(t);return(t-i)*(e[i+1]-e[i])+e[i]}}},{key:"getMonotoneousAscending",value:function(){return this.isMonotoneous()?this._monotoneousAscending:"The waveform is not monotoneous"}},{key:"getXMonotoneousAscending",value:function(){return this.xdata?this.xdata.getMonotoneousAscending():0<this.xScale}},{key:"isXMonotoneousAscending",value:function(){return this.getXMonotoneousAscending.apply(this,arguments)}},{key:"divide",value:function(t){return this._arithmetic(t,v)}},{key:"divideBy",value:function(){return this.divide.apply(this,arguments)}},{key:"multiply",value:function(t){return this._arithmetic(t,d)}},{key:"multiplyBy",value:function(){return this.multiply.apply(this,arguments)}},{key:"log",value:function(){return this.logBase(10)}},{key:"ln",value:function(){return this.logBase(Math.E)}},{key:"logBase",value:function(t){var e=Math.log(t);this.data.map(function(t){return Math.log(t)/e})}},{key:"add",value:function(t){return this._arithmetic(t,g)}},{key:"addBy",value:function(){return this.add.apply(this,arguments)}},{key:"subtract",value:function(t){return this._arithmetic(t,y)}},{key:"subtractBy",value:function(){return this.subtract.apply(this,arguments)}},{key:"math",value:function(t){for(var e=0;e<this.getLength();e++)this.data[e]=t(this.getY(e),this.getX(e));return this._setData(this.data),this}},{key:"_arithmetic",value:function(t,e){return t instanceof a?this._waveArithmetic(t,e):"number"==typeof t?this._numberArithmetic(t,e):void 0}},{key:"_numberArithmetic",value:function(t,e){var i=0,n=this.getLength();if(e==d){for(;i<n;i++)this.data[i]*=t;this.minY*=t,this.maxY*=t}else if(e==v){for(;i<n;i++)this.data[i]/=t;this.minY/=t,this.maxY/=t}else if(e==g){for(;i<n;i++)this.data[i]+=t;this.minY+=t,this.maxY+=t}else if(e==y){for(;i<n;i++)this.data[i]-=t;this.minY-=t,this.maxY-=t}return this}},{key:"_waveArithmetic",value:function(e,i){var n=this,t=this.getDataY(),r=0,o=this.getLength();if(this.requireXMonotonicity(),e.requireXMonotonicity(),this.xdata&&e.xdata){var s=new Set,a=this.xdata.data,u=e.xdata.data;for(r=0;r<a.length;r++)s.add(a[r]);for(r=0;r<u.length;r++)s.add(u[r]);var l=Array.from(s.values());l.sort(function(t,e){return t-e});var h=l.map(function(t){return i==d?n.interpolate(t)*e.interpolate(t):i==v?n.interpolate(t)/e.interpolate(t):i==g?n.interpolate(t)+e.interpolate(t):i==y?n.interpolate(t)-e.interpolate(t):void 0});this._setData(h),this.xdata._setData(l)}else{if(i==d)for(;r<o;r++)t[r]*=e.interpolate(this.getX(r));else if(i==v)for(;r<o;r++)t[r]/=e.interpolate(this.getX(r));else if(i==g)for(;r<o;r++)t[r]+=e.interpolate(this.getX(r));else if(i==y)for(;r<o;r++)t[r]-=e.interpolate(this.getX(r));this._setData(t)}return this}},{key:"aggregate",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"x";this._dataAggregating={},this._dataAggregated={},this._dataAggregationDirection=t.toUpperCase();var i=function(t){var e=1;for(;t>>=1;)e<<=1;return e}(this.getLength());this._dataAggregating=(0,n.default)({minX:this.minX,maxX:this.maxX,minY:this.minY,maxY:this.maxY,data:this.data,xdata:this.xdata?this.xdata.getData():void 0,xScale:this.xScale,xOffset:this.xOffset,numPoints:i,direction:t}).then(function(t){e._dataAggregated=t.aggregates,e._dataAggregating=!1})}},{key:"hasAggregation",value:function(){return!!this._dataAggregated}},{key:"selectAggregatedData",value:function(t){if(t<2)return!1;var e=function(t){t--;var e=2;for(;t>>=1;)e<<=1;return e}(t);return this._dataAggregated[e]?(this.dataInUseType="aggregate".concat(this._dataAggregationDirection),void(this.dataInUse=this._dataAggregated[e])):this._dataAggregating?this._dataAggregating:(this.dataInUseType="none",void(this.dataInUse={y:this.data,x:this.getXWaveform().data}))}},{key:"duplicate",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],e=new a;return e._setData(this.getDataY().slice()),e.rescaleX(this.xOffset,this.xShift),e.setShift(this.getShift()),e.setScale(this.getScale()),this.xdata?(t?e.setXWaveform(this.xdata.duplicate()):e.setXWaveform(this.xdata),e.setXShift(this.getXShift()),e.setXScale(this.getXScale())):(e.xOffset=this.xOffset,e.xScale=this.xScale),e}},{key:"subrangeX",value:function(t,e){if(this.xdata){for(var i=new a,n=0,r=this.data.length;n<r;n++)this.data[n]>=t&&this.data[n]<e&&i.append(this.dataX[n],this.data[n]);return i}var o=this.getIndexFromX(t),s=this.getIndexFromX(s);return(new a).setData(this.data.slice(o,s)).rescaleX(this.xOffset,this.xScale)}},{key:"findLocalMinMax",value:function(t,e,i){this.getIndexFromX(t);var n=this.getIndexFromX(t+e),r=this.getIndexFromX(t-e);return this.findLocalMinMaxIndex(r,n,i)}},{key:"findLocalMinMaxIndex",value:function(t,e,i){var n,r,o;if(e<t&&(n=e,e=t,t=n),"max"==i){r=Number.NEGATIVE_INFINITY;for(var s=t;s<=e;s++)this.getY(s)>r&&(r=this.getY(s),o=s)}else{r=Number.POSITIVE_INFINITY;for(s=t;s<=e;s++)this.getY(s)<r&&(r=this.getY(s),o=s)}return o!=t&&o!=e&&this.getX(o)}},{key:"warn",value:function(t){console&&console.warn(t)}},{key:"setUnit",value:function(t){return this.unit=t,this}},{key:"setXUnit",value:function(t){return this.hasXWaveform()&&this.xdata.setUnit(t),this.xunit=t,this}},{key:"getUnit",value:function(){return this.unit||""}},{key:"getXUnit",value:function(){return this.hasXWaveform()?this.xdata.getUnit():""|this.xunit}},{key:"hasXUnit",value:function(){return 0<this.getXUnit().length}},{key:"hasUnit",value:function(){return 0<this.getUnit().length}},{key:"findLevels",value:function(t,e){for(var i,n=(e=h.extend({box:1,edge:"both",rounding:"before",rangeP:[0,this.getLength()]},e)).rangeP[0],r=[],o=0;i=this.findLevel(t,h.extend(!0,{},e,{rangeP:[n,e.rangeP[1]]}));)if(r.push(i),n=Math.ceil(i),1e3<++o)return;return r}},{key:"findLevel",value:function(t,e){var i,n,r,o,s,a;(e=h.extend({box:1,edge:"both",direction:"ascending",rounding:"before",rangeP:[0,this.getLength()]},e)).rangeX&&(e.rangeP=e.rangeX.map(this.getIndexFromX));var u=e.box;for(u%2==0&&u++,a="descending"==e.direction?(r=e.rangeP[1],s=e.rangeP[0],-1):(r=e.rangeP[0],s=e.rangeP[1],1);;r+=a){if("descending"==e.direction){if(r<s)break}else if(s<r)break;if(!(r<e.rangeP[0]+(u-1)/2)){if(r>e.rangeP[1]-(u-1)/2)break;if(i=this.getAverageP(r-(u-1)/2,r+(u-1)/2),void 0!==n){if(t<=i&&n){if(n=!1,"ascending"==e.edge||"both"==e.edge)for(var l=r+(u-1)/2;r-(u-1)/2<=l;l--)if(this.data[l]>=t&&this.data[l-1]<=t)switch(e.rounding){case"before":return l-1;case"after":return l;case"interpolate":return m(t,this.data[l],this.data[l-1],l,l-1)}}else if(i<=t&&!n&&(n=!0,"descending"==e.edge||"both"==e.edge))for(o=r+(u-1)/2;r-(u-1)/2<=o;o--)if(this.data[o]<=t&&this.data[o-1]>=t)switch(e.rounding){case"before":return o-1;case"after":return o;case"interpolate":return m(t,this.data[o],this.data[o-1],o,o-1)}}else n=i<t}}}},{key:"normalize",value:function(t){var e,i,n,r,o,s;if("max1"==t||"max100"==t){for(e=1,"max100"==t&&(e=100),r=this.data[0],s=1;s<this.getLength();s++)this.data[s]>r&&(r=this.data[s]);for(s=0;s<this.getLength();s++)this.data[s]/=r/e}else if("sum1"==t){for(s=i=0;s<this.getLength();s++)i+=this.data[s];for(s=0;s<this.getLength();s++)this.data[s]/=i}else if("max1min0"==t){for(r=this.data[0],n=this.data[0],s=1;s<this.getLength();s++)this.data[s]>r?r=this.data[s]:this.data[s]<n&&(n=this.data[s]);for(o=1/(r-n),s=0;s<this.getLength();s++)this.data[s]=(this.data[s]-n)*o}this.setData(this.data)}},{key:"filterNaN",value:function(){for(var t=this.data.length-1;0<=t;t--)isNaN(this.data[t])&&(this.data=this.data.splice(t,1),this.xdata&&this.xdata.data.splice(t,1))}},{key:"filterInfinity",value:function(){for(var t=this.data.length-1;0<=t;t--)isFinite(this.data[t])||(this.data=this.data.splice(t,1),this.xdata&&this.xdata.data.splice(t,1))}},{key:"setErrorBarX",value:function(t){return t instanceof a||(t=new this.constructor(t)),this.getXWaveform().setErrorBar(t),this}},{key:"setErrorBarXBelow",value:function(t){return t instanceof a||(t=new this.constructor(t)),this.getXWaveform().setErrorBarBelow(t),this}},{key:"setErrorBarXAbove",value:function(t){return t instanceof a||(t=new this.constructor(t)),this.getXWaveform().setErrorBarAbove(t),this}},{key:"setErrorBoxX",value:function(t){t instanceof a||(t=new this.constructor(t));var e=this.getXWaveform();return e.setErrorBoxAbove(t),e.setErrorBoxBelow(t),this}},{key:"setErrorBoxXBelow",value:function(t){return t instanceof a||(t=new this.constructor(t)),this.getXWaveform().setErrorBoxBelow(t),this}},{key:"setErrorBoxXAbove",value:function(t){return t instanceof a||(t=new this.constructor(t)),this.getXWaveform().setErrorBoxAbove(t),this}},{key:"setErrorBar",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];t instanceof a||(t=new this.constructor(t)),this.errors.nb++,this.errors.nb++,this.errors.bars.below=t,this.errors.bars.above=t,e&&this._setData(this.data)}},{key:"setErrorBarBelow",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];t instanceof a||(t=new this.constructor(t)),this.errors.nb++,this.errors.bars.below=t,e&&this._setData(this.data)}},{key:"setErrorBarAbove",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];t instanceof a||(t=new this.constructor(t)),this.errors.nb++,this.errors.bars.above=t,e&&this._setData(this.data)}},{key:"setErrorBox",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];t instanceof a||(t=new this.constructor(t)),this.errors.nb++,this.errors.nb++,this.errors.boxes.above=t,this.errors.boxes.below=t,e&&this._setData(this.data)}},{key:"setErrorBoxBelow",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];t instanceof a||(t=new this.constructor(t)),this.errors.nb++,this.errors.boxes.below=t,e&&this._setData(this.data)}},{key:"setErrorBoxAbove",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];t instanceof a||(t=new a(t)),this.errors.boxes.above=t,e&&this._setData(this.data)}},{key:"getMaxError",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a.ABOVE;return Math.max(this.getMaxErrorType(t,e,a.BOX),this.getMaxErrorType(t,e,a.BAR))}},{key:"getMaxErrorType",value:function(t){var e,i,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a.ABOVE,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:a.BOX;if(r==a.BOX)e=this.errors.boxes;else{if(r!=a.BAR)throw"Unknown type of error";e=this.errors.bars}return(i=e[n])||(n==a.ABOVE?e[n]==a.BELOW&&(i=e.below):e[n]==a.ABOVE&&(i=e.above)),i?i.getY(t):0}},{key:"getErrorBarXBelow",value:function(t){return this.getErrorX(t,a.BELOW,a.BAR)}},{key:"getErrorBarXAbove",value:function(t){return this.getErrorX(t,a.ABOVE,a.BAR)}},{key:"getErrorBoxXBelow",value:function(t){return this.getErrorX(t,a.BELOW,a.BOX)}},{key:"getErrorBoxXAbove",value:function(t){return this.getErrorX(t,a.ABOVE,a.BOX)}},{key:"getErrorBarYBelow",value:function(t){return this.getError(t,a.BELOW,a.BAR)}},{key:"getErrorBarYAbove",value:function(t){return this.getError(t,a.ABOVE,a.BAR)}},{key:"getErrorBoxYBelow",value:function(t){return this.getError(t,a.BELOW,a.BOX)}},{key:"getErrorBoxYAbove",value:function(t){return this.getError(t,a.ABOVE,a.BOX)}},{key:"getErrorX",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a.ABOVE,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:a.BAR;return!!this.hasXWaveform()&&this.xdata.getError(t,e,i)}},{key:"getError",value:function(t){var e,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a.ABOVE,n=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:a.BAR)==a.BAR?this.errors.bars:this.errors.boxes;return!!n&&((e=i==a.ABOVE?n.above:n.below)?e.getY(t):void 0)}},{key:"hasErrorBars",value:function(){return 0<this.errors.nb||this.hasXWaveform()&&0<this.xdata.errors.nb}}]),a}();(t.Waveform=p).BELOW=Symbol(),p.ABOVE=Symbol(),p.BOX=Symbol(),p.BAR=Symbol();var d=Symbol(),g=Symbol(),y=Symbol(),v=Symbol();function m(t,e,i,n,r){return(t-e)/(i-e)*(r-n)+n}function b(t,e,i,n){var r,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1,s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1,a=Number.MAX_VALUE,u=-1;if(void 0!==t&&null==e)for(var l=0,h=i.length;l<h;l++)(r=Math.abs((t-i[l])*o))<a&&(u=l,a=r);else if(null==t&&void 0!==e)for(l=0,h=n.length;l<h;l++)(r=Math.abs((e-n[l])*s))<a&&(u=l,a=r);else for(l=0,h=i.length;l<h;l++)(r=Math.pow((t-i[l])*o,2)+Math.pow((e-n[l])*s,2))<a&&(u=l,a=r);return u}function x(t,e){var i,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e[e.length-1]<e[0],r=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],o=0,s=e.length-1,a=0,u=1;if(!n&&(e[0]>t||e[s]<t)||n&&(e[0]<t||e[s]>t))throw new Error("Target ".concat(t," is not in the stack"));if(e[o]==t)return o;if(e[s]==t)return s;for(;;){if(1e3<++a)throw new Error("Error loop");for(i=Math.floor((o+s)/2);isNaN(e[i]);){if(i>=e.length-1)return e.length-1;if(i<=0)return 0;i+=u}if(e[i]==t)return i;if(i==o||i==s)return r?Math.abs(t-e[o])<Math.abs(t-e[s])?o:s:i;if(e[i]<t)n?s=i:o=i;else{if(!(e[i]>t))return!1;n?o=i:s=i}u*=-1}}var k=function(t){function e(){return l(this,e),s(this,a(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,p),f(e,[{key:"hasXWaveform",value:function(){return!1}},{key:"setXWaveform",value:function(t){this.xdata=t}},{key:"getYFromX",value:function(t){var e=this.xdata.indexOf(t);if(-1==e)throw"Cannot find key ".concat(t);return this.data[e]}},{key:"getY",value:function(t){return this.data[t]}},{key:"getX",value:function(t){return this.xdata[t]}},{key:"hasXUnit",value:function(){return!1}},{key:"errorNotImplemented",value:function(){throw console.trace(),"Not available in hash waveform"}},{key:"subrangeX",value:function(){this.errorNotImplemented()}},{key:"duplicate",value:function(){this.errorNotImplemented()}},{key:"aggregate",value:function(){this.errorNotImplemented()}},{key:"_waveArithmetic",value:function(){this.errorNotImplemented()}},{key:"interpolateIndex_X",value:function(t){this.errorNotImplemented()}},{key:"getXMonotoneousAscending",value:function(){this.errorNotImplemented()}},{key:"isXMonotoneousAscending",value:function(){this.errorNotImplemented()}},{key:"interpolate",value:function(){this.errorNotImplemented()}},{key:"resampleForDisplay",value:function(){this.errorNotImplemented()}},{key:"isXMonotoneous",value:function(){this.errorNotImplemented()}},{key:"rescaleX",value:function(){this.errorNotImplemented()}},{key:"getXMin",value:function(){}},{key:"getXMax",value:function(){}},{key:"computeXMinMax",value:function(){}},{key:"setData",value:function(t){this.data=Object.values(t),this.xdata=Object.keys(t),this._setData()}},{key:"_setData",value:function(){this.minY=Math.min.apply(Math,r(this.data)),this.maxY=Math.max.apply(Math,r(this.data)),this.checkMinMaxErrorBars()}}]),e}();function S(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)}t.WaveformHash=k},r=[e,i(5),i(306),i(129)],void 0===(o="function"==typeof(n=s)?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var u=i(16),l=i(7),h=i(35);t.exports=function(a){return function(t,e,i){var n,r=u(t),o=l(r.length),s=h(i,o);if(a&&e!=e){for(;s<o;)if((n=r[s++])!=n)return!0}else for(;s<o;s++)if((a||s in r)&&r[s]===e)return a||s||0;return!a&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var s=i(0),n=i(27),a=i(1),u=i(77),r="["+u+"]",o=RegExp("^"+r+r+"*"),l=RegExp(r+r+"*$"),h=function(t,e,i){var n={},r=a(function(){return!!u[t]()||"​"!="​"[t]()}),o=n[t]=r?e(c):u[t];i&&(n[i]=o),s(s.P+s.F*r,"String",n)},c=h.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(o,"")),2&e&&(t=t.replace(l,"")),t};t.exports=h},function(t,e,i){var o=i(6)("iterator"),s=!1;try{var n=[7][o]();n.return=function(){s=!0},Array.from(n,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!s)return!1;var i=!1;try{var n=[7],r=n[o]();r.next=function(){return{done:i=!0}},n[o]=function(){return r},t(n)}catch(t){}return i}},function(t,e,i){"use strict";var n=i(2);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,i){"use strict";var r=i(49),o=RegExp.prototype.exec;t.exports=function(t,e){var i=t.exec;if("function"==typeof i){var n=i.call(t,e);if("object"!=typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e,i){"use strict";i(118);var h=i(11),c=i(15),f=i(1),p=i(27),d=i(6),g=i(92),y=d("species"),v=!f(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),m=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();t.exports=function(i,t,e){var n=d(i),o=!f(function(){var t={};return t[n]=function(){return 7},7!=""[i](t)}),r=o?!f(function(){var t=!1,e=/a/;return e.exec=function(){return t=!0,null},"split"===i&&(e.constructor={},e.constructor[y]=function(){return e}),e[n](""),!t}):void 0;if(!o||!r||"replace"===i&&!v||"split"===i&&!m){var s=/./[n],a=e(p,n,""[i],function(t,e,i,n,r){return e.exec===g?o&&!r?{done:!0,value:s.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}}),u=a[0],l=a[1];h(String.prototype,i,u),c(RegExp.prototype,n,2==t?function(t,e){return l.call(t,this,e)}:function(t){return l.call(t,this)})}}},function(t,e,i){var f=i(24),p=i(114),d=i(87),g=i(2),y=i(7),v=i(89),m={},b={};(e=t.exports=function(t,e,i,n,r){var o,s,a,u,l=r?function(){return t}:v(t),h=f(i,n,e?2:1),c=0;if("function"!=typeof l)throw TypeError(t+" is not iterable!");if(d(l)){for(o=y(t.length);c<o;c++)if((u=e?h(g(s=t[c])[0],s[1]):h(t[c]))===m||u===b)return u}else for(a=l.call(t);!(s=a.next()).done;)if((u=p(a,h,s.value,e))===m||u===b)return u}).BREAK=m,e.RETURN=b},function(t,e,i){var n=i(3).navigator;t.exports=n&&n.userAgent||""},function(t,e,i){"use strict";var v=i(3),m=i(0),b=i(11),x=i(44),k=i(30),S=i(61),w=i(43),M=i(4),A=i(1),_=i(57),P=i(39),O=i(78);t.exports=function(n,t,e,i,r,o){var s=v[n],a=s,u=r?"set":"add",l=a&&a.prototype,h={},c=function(t){var i=l[t];b(l,t,"delete"==t?function(t){return!(o&&!M(t))&&i.call(this,0===t?0:t)}:"has"==t?function(t){return!(o&&!M(t))&&i.call(this,0===t?0:t)}:"get"==t?function(t){return o&&!M(t)?void 0:i.call(this,0===t?0:t)}:"add"==t?function(t){return i.call(this,0===t?0:t),this}:function(t,e){return i.call(this,0===t?0:t,e),this})};if("function"==typeof a&&(o||l.forEach&&!A(function(){(new a).entries().next()}))){var f=new a,p=f[u](o?{}:-0,1)!=f,d=A(function(){f.has(1)}),g=_(function(t){new a(t)}),y=!o&&A(function(){for(var t=new a,e=5;e--;)t[u](e,e);return!t.has(-0)});g||(((a=t(function(t,e){w(t,a,n);var i=O(new s,t,a);return null!=e&&S(e,r,i[u],i),i})).prototype=l).constructor=a),(d||y)&&(c("delete"),c("has"),r&&c("get")),(y||p)&&c(u),o&&l.clear&&delete l.clear}else a=i.getConstructor(t,n,r,u),x(a.prototype,e),k.NEED=!0;return P(a,n),h[n]=a,m(m.G+m.W+m.F*(a!=s),h),o||i.setStrong(a,n,r),a}},function(t,e,i){for(var n,r=i(3),o=i(15),s=i(32),a=s("typed_array"),u=s("view"),l=!(!r.ArrayBuffer||!r.DataView),h=l,c=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");c<9;)(n=r[f[c++]])?(o(n.prototype,a,!0),o(n.prototype,u,!0)):h=!1;t.exports={ABV:l,CONSTR:h,TYPED:a,VIEW:u}},function(n,l,t){var e,i,r,o;o=function(t,u,h,r,o,s){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function a(t,e,i){return(a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,i){var n=[null];n.push.apply(n,e);var r=new(Function.bind.apply(t,n));return i&&d(r,i.prototype),r}).apply(null,arguments)}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,u=e(u),h=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(h),r=e(r),o=e(o);var y={title:"",paddingTop:30,paddingBottom:5,paddingLeft:20,paddingRight:20,close:{left:!0,right:!0,top:!0,bottom:!0},closeColor:"black",fontSize:12,fontFamily:"Myriad Pro, Helvetica, Arial",plugins:{},pluginAction:{},mouseActions:[],keyActions:[],wheel:{},dblclick:{},shapesUnselectOnClick:!0,shapesUniqueSelection:!0},v=new Map,m=function(t){function l(t,e){var i,n,r,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;for(var s in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),n=this,i=!(r=p(l).call(this))||"object"!==c(r)&&"function"!=typeof r?g(n):r,t!==Object(t)||t instanceof HTMLElement||(e=t,t=void 0),e.axes||(e.axes=o),i._creation=h.guid(),i._drawn=!1,i.options=h.extend({},y,e),function(){this.dom=document.createElementNS(m.ns,"svg"),this.dom.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),h.setAttributeTo(this.dom,{xmlns:m.ns,"font-family":this.options.fontFamily,"font-size":this.options.fontSize});try{h.setAttributeTo(this.dom,{"data-jsgraph-version":"v2.2.36"})}catch(t){}this.defs=document.createElementNS(m.ns,"defs"),this.dom.appendChild(this.defs),this.groupEvent=document.createElementNS(m.ns,"g"),this.rectEvent=document.createElementNS(m.ns,"rect"),h.setAttributeTo(this.rectEvent,{"pointer-events":"fill",fill:"transparent"}),this.groupEvent.appendChild(this.rectEvent),this.dom.appendChild(this.groupEvent),this.domTitle=document.createElementNS(m.ns,"text"),this.setTitle(this.options.title),this.options.titleFontSize&&this.setTitleFontSize(this.options.titleFontSize);this.options.titleFontColor&&this.setTitleFontSize(this.options.titleFontColor);this.options.titleFontFamily&&this.setTitleFontFamily(this.options.titleFontFamily);h.setAttributeTo(this.domTitle,{"text-anchor":"middle",y:20}),this.groupEvent.appendChild(this.domTitle),this.graphingZone=document.createElementNS(m.ns,"g"),this.updateGraphingZone(),this.groupEvent.appendChild(this.graphingZone),this.axisGroup=document.createElementNS(m.ns,"g"),this.graphingZone.appendChild(this.axisGroup),this.groupGrids=document.createElementNS(m.ns,"g"),this.groupPrimaryGrids=document.createElementNS(m.ns,"g"),this.groupSecondaryGrids=document.createElementNS(m.ns,"g"),this.axisGroup.appendChild(this.groupGrids),this.groupGrids.appendChild(this.groupSecondaryGrids),this.groupGrids.appendChild(this.groupPrimaryGrids),this.plotGroup=document.createElementNS(m.ns,"g"),this.graphingZone.appendChild(this.plotGroup),this.layers=[],this._makeClosingLines(),this.clip=document.createElementNS(m.ns,"clipPath"),this.clip.setAttribute("id","_clipplot".concat(this._creation)),this.defs.appendChild(this.clip),this.clipRect=document.createElementNS(m.ns,"rect"),this.clip.appendChild(this.clipRect),this.clip.setAttribute("clipPathUnits","userSpaceOnUse"),this.markerArrow=document.createElementNS(this.ns,"marker"),this.markerArrow.setAttribute("viewBox","0 0 10 10"),this.markerArrow.setAttribute("id","arrow".concat(this._creation)),this.markerArrow.setAttribute("refX","6"),this.markerArrow.setAttribute("refY","5"),this.markerArrow.setAttribute("markerUnits","strokeWidth"),this.markerArrow.setAttribute("markerWidth","8"),this.markerArrow.setAttribute("markerHeight","6"),this.markerArrow.setAttribute("orient","auto");var t,e=document.createElementNS(m.ns,"path");e.setAttribute("d","M 0 0 L 10 5 L 0 10 z"),this.markerArrow.appendChild(e),this.defs.appendChild(this.markerArrow),this.markerHorizontalSplit=document.createElementNS(m.ns,"marker"),this.markerHorizontalSplit.setAttribute("viewBox","0 0 6 8"),this.markerHorizontalSplit.setAttribute("id","horionzalsplit_".concat(this.getId())),this.markerHorizontalSplit.setAttribute("refX","3"),this.markerHorizontalSplit.setAttribute("refY","4"),this.markerHorizontalSplit.setAttribute("markerUnits","strokeWidth"),this.markerHorizontalSplit.setAttribute("markerWidth","6"),this.markerHorizontalSplit.setAttribute("markerHeight","8"),(t=document.createElementNS(m.ns,"line")).setAttribute("x1","0"),t.setAttribute("y1","8"),t.setAttribute("x2","6"),t.setAttribute("y2","0"),t.setAttribute("stroke","black"),this.markerHorizontalSplit.appendChild(t),this.defs.appendChild(this.markerHorizontalSplit),this.markerVerticalSplit=document.createElementNS(m.ns,"marker"),this.markerVerticalSplit.setAttribute("viewBox","0 0 8 6"),this.markerVerticalSplit.setAttribute("id","verticalsplit_".concat(this.getId())),this.markerVerticalSplit.setAttribute("refX","4"),this.markerVerticalSplit.setAttribute("refY","3"),this.markerVerticalSplit.setAttribute("markerUnits","strokeWidth"),this.markerVerticalSplit.setAttribute("markerWidth","8"),this.markerVerticalSplit.setAttribute("markerHeight","6"),(t=document.createElementNS(m.ns,"line")).setAttribute("x1","0"),t.setAttribute("y1","0"),t.setAttribute("x2","8"),t.setAttribute("y2","6"),t.setAttribute("stroke","black"),this.markerVerticalSplit.appendChild(t),this.defs.appendChild(this.markerVerticalSplit),this.vertLineArrow=document.createElementNS(m.ns,"marker"),this.vertLineArrow.setAttribute("viewBox","0 0 10 10"),this.vertLineArrow.setAttribute("id","verticalline".concat(this._creation)),this.vertLineArrow.setAttribute("refX","0"),this.vertLineArrow.setAttribute("refY","5"),this.vertLineArrow.setAttribute("markerUnits","strokeWidth"),this.vertLineArrow.setAttribute("markerWidth","20"),this.vertLineArrow.setAttribute("markerHeight","10"),this.vertLineArrow.setAttribute("orient","auto"),this.vertLineArrow.setAttribute("stroke-width","1px");var i=document.createElementNS(m.ns,"path");i.setAttribute("d","M 0 -10 L 0 10"),i.setAttribute("stroke","black"),this.vertLineArrow.appendChild(i),this.defs.appendChild(this.vertLineArrow),this.bypassHandleMouse=!1}.bind(g(g(i)))(),t&&i.setWrapper(t),i.prevented=!1,i.axis={left:[],top:[],bottom:[],right:[]},i.shapes=[],i.shapesLocked=!1,i.plugins={},i.options.pluginAction)i.options.pluginAction.plugin=s,i.options.mouseActions.push(i.options.pluginAction);if(i.selectedShapes=[],i.series=[],i._axesHaveChanged=!0,i.options.hasOwnProperty("padding")&&h.isNumeric(i.options.padding)&&(i.options.paddingTop=i.options.paddingBottom=i.options.paddingLeft=i.options.paddingRight=i.options.padding),i.currentAction=!1,i.ns=l.ns,i.nsxlink=l.nsxlink,e.axes)for(var s in e.axes)for(var a=0,u=e.axes[s].length;a<u;a++)switch(s){case"top":i.getTopAxis(a,e.axes[s][a]);break;case"left":i.getLeftAxis(a,e.axes[s][a]);break;case"right":i.getRightAxis(a,e.axes[s][a]);break;case"bottom":i.getBottomAxis(a,e.axes[s][a])}return i._pluginsInit(),i}var e,i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(l,r.default),e=l,n=[{key:"fromJSON",value:function(t,e){var i=new l(void 0,t.options||{});return(0,o.default)(l,i,t,e),i.setWrapper(e),i}},{key:"registerConstructor",value:function(t,e){if(v.has(t))return h.throwError("Constructor ".concat(e," already exists."));v.set(t,e)}},{key:"getConstructor",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return v.has(t)?v.get(t):!e&&h.throwError('Constructor "'.concat(t,"\" doesn't exist"))}},{key:"newWaveform",value:function(){return a(s.Waveform,Array.prototype.slice.call(arguments))}},{key:"waveform",value:function(){return a(s.Waveform,Array.prototype.slice.call(arguments))}},{key:"newWaveformHash",value:function(){return a(s.WaveformHash,Array.prototype.slice.call(arguments))}},{key:"waveformHash",value:function(){return a(s.WaveformHash,Array.prototype.slice.call(arguments))}}],(i=[{key:"setWrapper",value:function(t){if("string"==typeof t?t=document.getElementById(t):"number"==typeof t.length&&(t=t[0]),!t)throw new Error("The wrapper DOM element was not found.");if(!t.appendChild)throw new Error("The wrapper appears to be an invalid HTMLElement");if(t.style["-webkit-user-select"]="none",t.style["-moz-user-select"]="none",t.style["-o-user-select"]="none",t.style["-ms-user-select"]="none",t.style["user-select"]="none",t.style.position="relative",t.style.outline="none",this.wrapper=t,!this.height||!this.width){var e=getComputedStyle(t),i=parseInt(e.width,10),n=parseInt(e.height,10);this.setSize(i,n),this._resize()}t.appendChild(this.dom),function(s){if(!s.wrapper)throw"No wrapper exists. Cannot register the events.";s.dom.setAttribute("tabindex",0),s.dom.addEventListener("keydown",function(t){x(s,t,"keydown")}),s.dom.addEventListener("keypress",function(t){x(s,t,"keypress")}),s.dom.addEventListener("keyup",function(t){x(s,t,"keyup")}),s.dom.addEventListener("mousemove",function(t){var e=s._getXY(t);!function(i,n,r,o){if(i.bypassHandleMouse)return i.bypassHandleMouse.handleMouseMove(o);if(i.activePlugin&&i._pluginExecute(i.activePlugin,"onMouseMove",[i,n,r,o]))return;var t,e,s=n;if(i._applyToAxes("handleMouseMove",[n-i.options.paddingLeft,o],!0,!1),i._applyToAxes("handleMouseMove",[r-i.options.paddingTop,o],!1,!0),!i.activePlugin&&i.options.trackingLine&&i.options.trackingLine.enable)if("common"==i.options.trackingLine.mode&&i.options.trackingLine.snapToSerie){var a=i.options.trackingLine.snapToSerie;e=a.handleMouseMove(!1,!0),i.trackingLineShape&&(e?(i.trackingLineShape.show(),i.trackingLineShape.getPosition(0).x=e.xClosest,i.trackingLineShape.getPosition(1).x=e.xClosest,i.trackingLineShape.redraw(),t=e.xClosest,s=a.getXAxis().getPx(e.xClosest)+i.options.paddingLeft):i.trackingLineShape.hide());var u=i.options.trackingLine.series;if(!u)return;if(!e)return;i._trackingLegend=S(i,u,s,r,i._trackingLegend,i.options.trackingLine.textMethod?i.options.trackingLine.textMethod:A,t)}else if("individual"==i.options.trackingLine.mode){var l=[];i.options.trackingLine.series.forEach(function(t){if(t.options.tracking){var e=t.getClosestPointToXY(t.getXAxis().getMouseVal(),t.getYAxis().getMouseVal(),t.options.tracking.withinPx,t.options.tracking.withinPx,t.options.tracking.useAxis,!0);"common"==i.options.trackingLine.legendType&&(t._trackingLegend=S(i,[],!1,!1,t._trackingLegend)),e?t.trackingShape&&(t.trackingShape.show(),t.trackingShape.setPosition({x:e.xClosest,y:e.yClosest}),t.trackingShape.redraw(),"independent"==i.options.trackingLine.legendType&&(t._trackingLegend=S(i,[{serie:t,closestPoint:e}],n,r,t._trackingLegend)),t.emit("track",o,e)):t.trackingShape&&(t.trackingShape.hide(),"independent"==i.options.trackingLine.legendType&&(t._trackingLegend=S(i,[],!1,!1,t._trackingLegend))),e&&l.push({serie:t,closestPoint:e})}}),"common"==i.options.trackingLine.legendType?i._trackingLegend=S(i,l,n,r,i._trackingLegend):i._trackingLegend=S(i,[],!1,!1,i._trackingLegend)}if(i.options.mouseMoveData){for(var h={},c=0;c<i.series.length;c++){var f=i.series[c];f.options.tracking?h[i.series[c].getName()]=i.series[c].getClosestPointToXY(void 0,void 0,f.options.tracking.withinPxX||0,f.options.tracking.withinPxY||0,f.options.tracking.useAxis,!0):console.warn("Tracking not enabled for this serie")}"function"==typeof i.options.mouseMoveData&&i.options.mouseMoveData.call(i,o,h),i.emit("mouseMoveData",o,h)}k(i,o,[i,n,r,o],"onMouseMove")}(s,e.x,e.y,t)}),s.dom.addEventListener("mouseleave",function(t){var e;(e=s).options.handleMouseLeave&&e.options.handleMouseLeave.call(e)}),s.groupEvent.addEventListener("mousedown",function(t){if(s.focus(),3!=t.which&&!t.ctrlKey){var e=s._getXY(t);!function(t,e,i,n){if(t.forcedPlugin)return t.activePlugin=t.forcedPlugin,t._pluginExecute(t.activePlugin,"onMouseDown",[t,e,i,n]);t.activePlugin&&(t.activePlugin=!1);k(t,n,[t,e,i,n],"onMouseDown")}(s,e.x,e.y,t)}}),s.dom.addEventListener("mouseup",function(t){s.emit("mouseUp",t);var e=s._getXY(t);!function(t,e,i,n){if(t.bypassHandleMouse)return t.bypassHandleMouse.handleMouseUp(n),t.activePlugin=!1;t._pluginExecute(t.activePlugin,"onMouseUp",[t,e,i,n]),t.activePlugin=!1}(s,e.x,e.y,t)}),s.wrapper.addEventListener("mouseup",function(t){t.stopPropagation()}),s.dom.addEventListener("dblclick",function(t){s.emit("dblClick",t);var e,i,n,r,o=s._getXY(t);e=s,i=o.x,n=o.y,k(e,r=t,[i,n,r],"onDblClick")}),s.groupEvent.addEventListener("click",function(t){if(3!=t.which&&!t.ctrlKey){var e,i,n,r,o=s._getXY(t);s.prevent(!1)||(e=s,i=o.x,n=o.y,r=t,e.emit("click",[e,i,n,r]),k(e,r,[i,n,r],"onClick"),r.target.jsGraphIsShape||e.prevent(!1)||!e.options.shapesUnselectOnClick||e.unselectShapes())}}),s.groupEvent.addEventListener("mousewheel",function(t){var e=t.wheelDeltaY||t.wheelDelta||-t.deltaY,i=s._getXY(t);return O(s,e,i.x,i.y,t),!1}),s.groupEvent.addEventListener("wheel",function(t){var e=s._getXY(t),i=t.wheelDeltaY||t.wheelDelta||-t.deltaY;return O(s,i,e.x,e.y,t),!1})}(this)}},{key:"getDom",value:function(){return this.dom}},{key:"getId",value:function(){return this._creation}},{key:"getWrapper",value:function(){return this.wrapper}},{key:"setOption",value:function(t,e){return this.options[t]=e,this}},{key:"setTitle",value:function(t){this.options.title=t,this.domTitle.textContent=t}},{key:"setTitleFontSize",value:function(t){this.domTitle.setAttribute("font-size",t)}},{key:"setTitleFontColor",value:function(t){this.domTitle.setAttribute("fill",t)}},{key:"setTitleFontFamily",value:function(t){this.domTitle.setAttribute("font-family",t)}},{key:"displayTitle",value:function(){this.domTitle.setAttribute("display","inline")}},{key:"hideTitle",value:function(){this.domTitle.setAttribute("display","none")}},{key:"hide",value:function(){"none"!==this.dom.style.display&&(this.dom.style.display="none")}},{key:"show",value:function(){"none"==this.dom.style.display&&(this.dom.style.display="initial")}},{key:"redraw",value:function(t,e){var i,n,r,o;if(this.width&&this.height)return this.sizeSet?!t||e||(o=(r=this)._axesHaveChanged,r._axesHaveChanged=!1,o)||(n=(i=this)._sizeChanged,i._sizeChanged=!1,n)?(this.executeRedrawSlaves(),function(r){var o={top:[],bottom:[],left:[],right:[]},s={top:[],bottom:[],left:[],right:[]};r._painted=!0,r._applyToAxes(function(t,e){if(t.isShown()){if(t.showGroup(),!t.floating){var i=b(t.getSpan(),s[e]);t.setLevel(i),o[e][i]=Math.max(t.getAxisPosition(),o[e][i]||0)}}else t.hideGroup()},!1,!0,!1);var a=o.top.reduce(function(t,e){return t+e},0),u=o.bottom.reduce(function(t,e){return t+e},0);r.drawingSpaceHeight=r.getDrawingHeight()-a-u,[o.top,o.bottom].map(function(n){n.reduce(function(t,e,i){return n[i]=t+e,t+e},0)}),r._applyToAxes(function(t,e){t.isShown()&&!t.floating&&t.setShift(o[e][t.getLevel()])},!1,!0,!1),r._applyToAxes(function(t,e){if(t.isShown()?t.showGroup():t.hideGroup(),t.setMinPx(a),t.setMaxPx(r.getDrawingHeight(!0)-u),!t.floating){var i=t.linkedToAxis?0:t.draw();if(t.isShown()){var n=b(t.getSpan(),s[e]);t.setLevel(n),t.options.forcedWidth?o[e][n]=t.options.forcedWidth:(o[e][n]=Math.max(i,o[e][n]||0),n<o[e].length-1&&(o[e][n]+=10))}}},!1,!1,!0);var i=h.extend(!0,{},o);r._applyToAxes(function(t,e){t.isShown()&&!t.floating&&(i[e][t.getLevel()]=Math.max(o[e][t.getLevel()],t.equalizePosition(o[e][t.getLevel()])))},!1,!1,!0);var n=(o=i).left.reduce(function(t,e){return t+e},0),l=o.right.reduce(function(t,e){return t+e},0);r.drawingSpaceWidth=r.getDrawingWidth()-n-l,[o.left,o.right].forEach(function(n){n.reduce(function(t,e,i){return n[i]=t+e,t+e},0)}),r._applyToAxes(function(t,e){t.isShown()&&!t.floating&&t.setShift(o[e][t.getLevel()])},!1,!1,!0),r._applyToAxes(function(t,e){t.isShown(),t.setMinPx(n),t.setMaxPx(r.getDrawingWidth(!0)-l),t.floating||t.linkedToAxis||t.draw()},!1,!0,!1),r._applyToAxes(function(t){if(t.floating){var e=t.getFloatingAxis(),i=t.getFloatingValue(),n=e.getPx(i);t.setShift(n),t.linkedToAxis||t.draw()}},!1,!0,!0),P(r,"right",r.getDrawingWidth(!0),r.getDrawingWidth(!0),a,r.getDrawingHeight(!0)-u),P(r,"left",0,0,a,r.getDrawingHeight(!0)-u),P(r,"top",n,r.getDrawingWidth(!0)-l,0,0),P(r,"bottom",n,r.getDrawingWidth(!0)-l,r.getDrawingHeight(!0)-u,r.getDrawingHeight(!0)-u),r.clipRect.setAttribute("y",a),r.clipRect.setAttribute("x",n),r.clipRect.setAttribute("width",r.getDrawingWidth()-n-l),r.clipRect.setAttribute("height",r.getDrawingHeight()-a-u),r.rectEvent.setAttribute("y",a+r.getPaddingTop()),r.rectEvent.setAttribute("x",n+r.getPaddingLeft()),r.rectEvent.setAttribute("width",r.drawingSpaceWidth),r.rectEvent.setAttribute("height",r.drawingSpaceHeight),r.drawingSpaceMinX=n+r.getPaddingLeft(),r.drawingSpaceMinY=a+r.getPaddingTop(),r.drawingSpaceMaxX=r.getDrawingWidth()-l+r.getPaddingLeft(),r.drawingSpaceMaxY=r.getDrawingHeight()-u+r.getPaddingTop(),r._applyToAxes(function(t,e){t.isShown()&&t.drawLines()},!1,!0,!0),r.shift=o,r.redrawShapes()}(this),!0):(this.executeRedrawSlaves(!0),!1):(this._resize(),this.executeRedrawSlaves(),!0)}},{key:"executeRedrawSlaves",value:function(){this._pluginsExecute("preDraw")}},{key:"draw",value:function(t){this.drawn=!0,this.updateLegend(!0),this.drawSeries(this.redraw(!0,t)),this._pluginsExecute("postDraw")}},{key:"delayUpdate",value:function(){return this._lockUpdate=!0,this}},{key:"doUpdate",value:function(){return this.legend&&this.legend.update(),this.draw(),this.legend&&this.legend.update(),this}},{key:"resumeUpdate",value:function(){return this._lockUpdate=!1,this}},{key:"isDelayedUpdate",value:function(){return this._lockUpdate}},{key:"setWidth",value:function(t,e){this.width=t,e||this._resize()}},{key:"setHeight",value:function(t,e){this.height=t,e||this._resize()}},{key:"resize",value:function(t,e){return t&&e&&this.setSize(t,e),this._resize(),this}},{key:"setSize",value:function(t,e){this.setWidth(t,!0),this.setHeight(e,!0),this.getDrawingHeight(),this.getDrawingWidth()}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"getPaddingTop",value:function(){return this.options.paddingTop}},{key:"getPaddingLeft",value:function(){return this.options.paddingLeft}},{key:"getPaddingBottom",value:function(){return this.options.paddingBottom}},{key:"getPaddingRight",value:function(){return this.options.paddingRight}},{key:"getDrawingHeight",value:function(t){return t&&this.innerHeight?this.innerHeight:this.innerHeight=this.height-this.options.paddingTop-this.options.paddingBottom}},{key:"getDrawingWidth",value:function(t){return t&&this.innerWidth?this.innerWidth:this.innerWidth=this.width-this.options.paddingLeft-this.options.paddingRight}},{key:"cacheOffset",value:function(){this.offsetCached=h.getOffset(this.wrapper)}},{key:"uncacheOffset",value:function(){this.offsetCached=!1}},{key:"getNumAxes",value:function(t){return this.axis[t].length}},{key:"getXAxis",value:function(t,e){return 0<this.axis.top.length&&0==this.axis.bottom.length?this.getTopAxis(t,e):this.getBottomAxis(t,e)}},{key:"getYAxis",value:function(t,e){return 0<this.axis.right.length&&0==this.axis.left.length?this.getRightAxis(t,e):this.getLeftAxis(t,e)}},{key:"getTopAxis",value:function(t,e){return _(this,t,e,"top")}},{key:"getBottomAxis",value:function(t,e){return _(this,t,e,"bottom")}},{key:"getLeftAxis",value:function(t,e){return _(this,t,e,"left")}},{key:"getRightAxis",value:function(t,e){return _(this,t,e,"right")}},{key:"setXAxis",value:function(t,e){this.setBottomAxis(t,e)}},{key:"setYAxis",value:function(t,e){this.setLeftAxis(t,e)}},{key:"setLeftAxis",value:function(t,e){e=e||0,this.axis.left[e]&&this.axis.left[e].kill(),this.axis.left[e]=t}},{key:"setRightAxis",value:function(t,e){e=e||0,this.axis.right[e]&&this.axis.right[e].kill(),this.axis.right[e]=t}},{key:"setTopAxis",value:function(t,e){e=e||0,this.axis.top[e]&&this.axis.top[e].kill(),this.axis.top[e]=t}},{key:"setBottomAxis",value:function(t,e){e=e||0,this.axis.bottom[e]&&this.axis.bottom[e].kill(),this.axis.bottom[e]=t}},{key:"killAxis",value:function(e){var t,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];e.isX()&&(-1<(t=this.axis.bottom.indexOf(e))&&this.axis.bottom.splice(t,1),-1<(t=this.axis.top.indexOf(e))&&this.axis.top.splice(t,1),n||this.series.forEach(function(t){t.getXAxis()==e&&t.kill()})),e.isY()&&(-1<(t=this.axis.left.indexOf(e))&&this.axis.left.splice(t,1),-1<(t=this.axis.right.indexOf(e))&&this.axis.right.splice(t,1),n||this.series.forEach(function(t){t.getYAxis()==e&&t.kill()})),this.axisGroup.removeChild(e.group),this.groupPrimaryGrids.removeChild(e.gridPrimary),this.groupSecondaryGrids.removeChild(e.gridSecondary),i||this.draw(!0)}},{key:"hasXAxis",value:function(t){return this.hasTopAxis(t)||this.hasBottomAxis(t)}},{key:"hasYAxis",value:function(t){return this.hasLeftAxis(t)||this.hasRightAxis(t)}},{key:"hasTopAxis",value:function(t){return this.hasAxis(t,this.axis.top)}},{key:"hasBottomAxis",value:function(t){return this.hasAxis(t,this.axis.bottom)}},{key:"hasLeftAxis",value:function(t){return this.hasAxis(t,this.axis.left)}},{key:"hasRightAxis",value:function(t){return this.hasAxis(t,this.axis.right)}},{key:"hasAxis",value:function(t,e){for(var i=0,n=e.length;i<n;i++){if(e[i]==t)return!0;if(e[i].hasAxis(t))return!0}return!1}},{key:"autoscaleAxes",value:function(){return this._applyToAxes("setMinMaxToFitSeries",null,!0,!0),this}},{key:"autoscale",value:function(){return this.autoscaleAxes.apply(this,arguments)}},{key:"autoScale",value:function(){return this.autoscaleAxes.apply(this,arguments)}},{key:"autoScaleAxes",value:function(){return this.autoscaleAxes.apply(this,arguments)}},{key:"autoScaleAxis",value:function(t){return t&&t.setMinMaxToFitSeries(),this}},{key:"gridsOff",value:function(){this._applyToAxes(function(t){t.gridsOff()},void 0,!0,!0)}},{key:"gridsOn",value:function(){this._applyToAxes(function(t){t.gridsOn()},void 0,!0,!0)}},{key:"setBackgroundColor",value:function(t){return this.rectEvent.setAttribute("fill",t),this}},{key:"getAxisState",value:function(){var t={};for(var e in this.axis)t[e]=this.axis[e].map(function(t){return[t.getCurrentMin(),t.getCurrentMax()]});return t}},{key:"setAxisState",value:function(t){var e,i;for(var n in t)if(this.axis[n])for(e=0,i=t[n].length;e<i;e++)this.axis[n][e]&&(this.axis[n][e].setCurrentMin(t[n][e][0]),this.axis[n][e].setCurrentMax(t[n][e][1]));this.draw()}},{key:"saveAxisState",value:function(t){return this.savedAxisState=this.savedAxisState||{},this.savedAxisState[t]=this.getAxisState(),this}},{key:"recallAxisState",value:function(t){return this.savedAxisState[t]&&this.recallAxisState(this.savedAxisState[t]),this}},{key:"_applyToAxis",value:function(t){switch(t){case"string":return function(t,e,i){for(var n=0;n<this.axis[t].length;n++)this.axis[t][n][e].apply(this.axis[t][n],i)};case"function":return function(t,e,i){for(var n=0;n<this.axis[t].length;n++)e.call(this,this.axis[t][n],t,i)};default:throw new Error("You must either execute a function or provide a string that registers a function")}}},{key:"getBoundaryAxis",value:function(t,e,i){return this.getBoundaryAxisFromSeries(t,e,i)}},{key:"getBoundaryAxisFromSeries",value:function(t,e,i){var n,r,o,s,a,u,l="min"==e,h=(t.isX()?["getMinX","getMaxX"]:["getMinY","getMaxY"])[l?0:1],c=l?1/0:-1/0;for(n=c,a=0,u=(o=this.getSeriesFromAxis(t)).length;a<u;a++)(r=o[a]).isShown()&&(s=r[h](i),n=Math[e](isNaN(n)?c:n,isNaN(s)?c:s));return n}},{key:"getSeriesFromAxis",value:function(t){for(var e=[],i=this.series.length-1;0<=i;i--)this.series[i].getXAxis()!=t&&this.series[i].getYAxis()!=t||e.push(this.series[i]);return e}},{key:"updateDataMinMaxAxes",value:function(t){var e,i,n,r,o=["bottom","top","left","right"];for(i=0,n=o.length;i<n;i++)for(r=this.axis[o[i]].length-1;0<=r;r--){(e=this.axis[o[i]][r]).isShown();var s=this.getBoundaryAxis(this.axis[o[i]][r],"min",t),a=this.getBoundaryAxis(this.axis[o[i]][r],"max",t);isFinite(a)&&e.setMaxValueData(a),isFinite(s)&&e.setMinValueData(s)}}},{key:"_applyToAxes",value:function(t,e){var i,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],o=[],s=0;for((n||null==n)&&(o.push("top"),o.push("bottom")),(r||null==r)&&(o.push("left"),o.push("right")),i=o.length;s<i;s++)this._applyToAxis(c(t)).call(this,o[s],t,e)}},{key:"findAxesLinkedTo",value:function(e){var i=[];return this._applyToAxes(function(t){t.linkedToAxis&&t.linkedToAxis.axis==e&&i.push(t)},{},e instanceof this.getConstructor("graph.axis.x"),e instanceof this.getConstructor("graph.axis.y")),i}},{key:"_axisHasChanged",value:function(){this._axesHaveChanged=!0}},{key:"newSerie",value:function(t,e,i){var n;return"object"===c(e)||i||(i=e,e={}),i||(i=l.SERIE_LINE),(n=this.getSerie(t))?n:(n=function(t,e,i,n){var r=t.getConstructor(n,!0);r||"string"!=typeof n||(r=t.getConstructor("graph.serie.".concat(n),!0));{if(!r)return h.throwError("No constructor exists for the serie type provided. Use Graph.registerConstructor( name, constructor ) first is you use your own series");var o=new r(t,e,i);t.appendSerieToDom(o)}return o}(this,t,e,i))?(this.series.push(n),n.postInit(),this.emit("newSerie",n),n):void 0}},{key:"getSerie",value:function(t){if("number"==typeof t)return this.series[t]||!1;"function"==typeof t&&(t=t());for(var e=0,i=this.series.length;e<i;e++)if(this.series[e].getName()==t||this.series[e]==t)return this.series[e];return!1}},{key:"getSeries",value:function(){return this.series}},{key:"allSeries",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.series.filter(function(t){return e.include(t.getType())})}},{key:"sortSeries",value:function(t){return"function"!=typeof t||this.series.sort(t),this}},{key:"drawSerie",value:function(t,e){if(!t.draw)throw new Error("Serie has no method draw");t.draw(e)}},{key:"drawSeries",value:function(t){if(this.width&&this.height)for(var e=this.series.length-1;0<=e;e--)this.series[e].isShown()&&this.drawSerie(this.series[e],t)}},{key:"resetSeries",value:function(){this.removeSeries()}},{key:"killSeries",value:function(){this.resetSeries()}},{key:"killLegend",value:function(){this.legend&&this.legend.kill(),this.legend=void 0}},{key:"killShapes",value:function(){this.shapes.forEach(function(t){t.kill(!1)})}},{key:"removeSeries",value:function(){for(;this.series[0];)this.series[0].kill(!0);this.series=[],this.legend&&this.legend.update()}},{key:"selectSerie",value:function(t,e){"object"!=c(t)&&(t=this.getSerie(t)),this.selectedSerie==t&&this.selectedSerie.selectionType==e||(this.selectedSerie!==t&&this.selectedSerie&&this.unselectSerie(this.selectedSerie),this.selectedSerie=t,this.triggerEvent("onSelectSerie",t),t.select(e||"selected"))}},{key:"getSelectedSerie",value:function(){return this.selectedSerie}},{key:"unselectSerie",value:function(t){t.unselect&&(t.unselect(),this.selectedSerie=!1,this.triggerEvent("onUnselectSerie",t))}},{key:"getShapesOfSerie",value:function(t){for(var e=[],i=this.shapes.length-1;0<=i;i--)this.shapes[i].getSerie()==t&&e.push(this.shapes[i]);return e}},{key:"makeToolbar",value:function(t){var e=this.getConstructor("graph.toolbar");return e?this.toolbar=new e(this,t):h.throwError("No constructor exists for toolbar")}},{key:"getShapes",value:function(){return this.shapes||[]}},{key:"newShape",value:function(t,e){var i,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=3<arguments.length?arguments[3]:void 0;if(this.prevent(!1),!n&&(this.emit("beforeNewShape",e),this.prevent(!1)))return!1;if("object"==c(t)&&(n=e,t=(e=t).type),(e=e||{})._id=h.guid(),!(i="function"==typeof t?t:this.getConstructor("graph.shape.".concat(t))))return h.throwError("No constructor for this shape");var o=new i(this,e);if(!o)return h.throwError("Failed to construct shape.");if(o.type=t,o.graph=this,void 0!==(o._data=e).properties&&o.setProperties(e.properties),o.init(this,r,!!r&&r.simplified),void 0!==e.props)for(var s in e.props)o.setProp(s,e.props[s]);if(e.position){s=0;for(var a=e.position.length;s<a;s++)o.setPosition(new u.default(e.position[s]),s)}if(void 0!==e.fillColor&&o.setFillColor(e.fillColor),void 0!==e.fillOpacity&&o.setFillOpacity(e.fillOpacity),void 0!==e.strokeColor&&o.setStrokeColor(e.strokeColor),void 0!==e.strokeWidth&&o.setStrokeWidth(e.strokeWidth),void 0!==e.layer&&o.setLayer(e.layer),1==e.locked&&o.lock(),1==e.movable&&o.movable(),1==e.selectable&&o.selectable(),1==e.resizable&&o.resizable(),void 0!==e.attributes&&o.setProp("attributes",e.attributes),void 0!==e.handles&&o.setProp("handles",e.handles),void 0!==e.selectOnMouseDown&&o.setProp("selectOnMouseDown",!0),void 0!==e.selectOnClick&&o.setProp("selectOnClick",!0),void 0!==e.transforms&&Array.isArray(e.transforms)&&e.transforms.forEach(function(t){var e=t.type,i=t.value;o.addTransform(e,i)}),void 0!==e.highlightOnMouseOver&&o.setProp("highlightOnMouseOver",!0),e.labelEditable&&o.setProp("labelEditable",e.labelEditable),e.labels&&!e.label&&(e.label=e.labels),void 0!==e.label){Array.isArray(e.label)||(e.label=[e.label]);for(s=0,a=e.label.length;s<a;s++)o.showLabel(s),o.setLabelText(e.label[s].text,s),o.setLabelPosition(e.label[s].position,s),o.setLabelColor(e.label[s].color||"black",s),o.setLabelSize(e.label[s].size,s),o.setLabelAngle(e.label[s].angle||0,s),o.setLabelBaseline(e.label[s].baseline||"no-change",s),o.setLabelAnchor(e.label[s].anchor||"start",s),o.setLabelBackgroundColor(e.label[s].backgroundColor||"transparent",s),o.setLabelBackgroundOpacity(e.label[s].backgroundOpacity||1,s)}return e.serie&&o.setSerie(this.getSerie(e.serie)),o.createHandles(),o.applyStyle(),this.shapes.push(o),n||this.emit("newShape",o,e),o}},{key:"newPosition",value:function(t){return a(u.default,Array.prototype.slice.call(arguments))}},{key:"redrawShapes",value:function(){for(var t=0,e=this.shapes.length;t<e;t++)this.shapes[t].redraw()}},{key:"removeShapes",value:function(){for(var t=0,e=this.shapes.length;t<e;t++)this.shapes[t]&&this.shapes[t].kill&&this.shapes[t].kill(!0);this.shapes=[]}},{key:"selectShape",value:function(t,e){if(t){if(-1<this.selectedShapes.indexOf(t))return!1;if(!t.isSelectable())return!1;e||this.emit("beforeShapeSelect",t),this.prevent(!1)||(0<this.selectedShapes.length&&this.options.shapesUniqueSelection&&this.unselectShapes(e),t._select(e),this.selectedShapes.push(t),e||this.emit("shapeSelect",t))}}},{key:"getSelectedShapes",value:function(){return this.selectedShapes}},{key:"unselectShape",value:function(t,e){-1!=this.selectedShapes.indexOf(t)&&(e||this.emit("beforeShapeUnselect",t),this.cancelUnselectShape?this.cancelUnselectShape=!1:(t._unselect(),this.selectedShapes.splice(this.selectedShapes.indexOf(t),1),e||this.emit("shapeUnselect",t)))}},{key:"unselectShapes",value:function(t){for(;this.selectedShapes[0];)this.unselectShape(this.selectedShapes[0],t);return this}},{key:"_removeShape",value:function(t){this.shapes.splice(this.shapes.indexOf(t),1)}},{key:"appendShapeToDom",value:function(t){t.isHTML()&&this.wrapper.insertBefore(t._dom,this.dom),this.getLayer(t.getLayer(),"shape").appendChild(t.simplified?t._dom:t.group)}},{key:"removeShapeFromDom",value:function(t){t.isHTML()&&this.wrapper.removeChild(t._dom),this.getLayer(t.getLayer(),"shape").removeChild(t.group)}},{key:"appendSerieToDom",value:function(t){this.getLayer(t.getLayer(),"serie").appendChild(t.groupMain)}},{key:"removeSerieFromDom",value:function(t){this.getLayer(t.getLayer(),"serie").removeChild(t.groupMain)}},{key:"getLayer",value:function(t,e){if(!this.layers[t]){this.layers[t]=[],this.layers[t][0]=document.createElementNS(l.ns,"g"),this.layers[t][0].setAttribute("data-layer",t),this.layers[t][1]=document.createElementNS(l.ns,"g"),this.layers[t][2]=document.createElementNS(l.ns,"g"),this.layers[t][0].appendChild(this.layers[t][1]),this.layers[t][0].appendChild(this.layers[t][2]);for(var i,n=1;!(i=this.layers[t-n])&&0<=t-n;)n++;i?i.nextSibling?this.plotGroup.insertBefore(this.layers[t][0],i.nextSibling):this.plotGroup.appendChild(this.layers[t][0]):this.plotGroup.insertBefore(this.layers[t][0],this.plotGroup.firstChild)}return this.layers[t]["shape"==e?2:1]}},{key:"focus",value:function(){this.wrapper.focus()}},{key:"elementMoving",value:function(t){this.bypassHandleMouse=t}},{key:"stopElementMoving",value:function(t){t&&t==this.bypassHandleMouse?this.bypassHandleMouse=!1:t||(this.bypassHandleMouse=!1)}},{key:"_makeClosingLines",value:function(){this.closingLines={};for(var t=["top","bottom","left","right"],e=0;e<4;e++){var i=document.createElementNS(l.ns,"line");i.setAttribute("stroke",this.options.closeColor),i.setAttribute("shape-rendering","crispEdges"),i.setAttribute("stroke-linecap","square"),i.setAttribute("display","none"),this.closingLines[t[e]]=i,this.graphingZone.appendChild(i)}}},{key:"isActionAllowed",value:function(t,e){if((e.type===t.type||void 0===e.type&&"mousedown"===t.type||("wheel"===t.type||"mousewheel"===t.type)&&"mousewheel"==e.type)&&(!e.enabled||("function"==typeof e.enabled?e.enabled(this):e.enabled))){if(e.key&&e.key!==t.keyCode){if({backspace:8,enter:13,tab:9,shift:16,ctrl:17,alt:18,pause:19,escape:27,up:33,down:34,left:37,right:39}[e.key]!==t.keyCode)return}return void 0===e.shift&&(e.shift=!1),void 0===e.ctrl&&(e.ctrl=!1),void 0===e.meta&&(e.meta=!1),void 0===e.alt&&(e.alt=!1),t.shiftKey==e.shift&&t.ctrlKey==e.ctrl&&t.metaKey==e.meta&&t.altKey==e.alt}}},{key:"forcePlugin",value:function(t){this.forcedPlugin=t}},{key:"unforcePlugin",value:function(){this.forcedPlugin=!1}},{key:"_pluginsExecute",value:function(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(var r in this.plugins)this.plugins[r]&&this.plugins[r][t]&&this.plugins[r][t].apply(this.plugins[r],i)}},{key:"_pluginExecute",value:function(t,e,i){if(t)return this.plugins[t]&&this.plugins[t][e]?(this.plugins[t][e].apply(this.plugins[t],i),!0):void 0}},{key:"pluginYieldActiveState",value:function(){this.activePlugin=!1}},{key:"_serieExecute",value:function(t,e,i){"object"!==c(t)&&(t=this.getSerie(t)),"function"==typeof t[e]&&t.apply(t,i)}},{key:"_pluginsInit",value:function(){var t,e,i;for(var n in this.options.plugins)e=n,i=this.options.plugins[n],(t=this.getConstructor("graph.plugin.".concat(e)))?(this.plugins[e]=new t(i),h.mapEventEmission(this.plugins[e].options,this.plugins[e]),this.plugins[e].init(this,i)):h.throwError('Plugin "'.concat(e,'" has not been registered'))}},{key:"getPlugin",value:function(t){var e=this.plugins[t];return e||h.throwError('Plugin "'.concat(t,'" has not been loaded or properly registered'))}},{key:"hasPlugin",value:function(t){return!!this.plugins[t]}},{key:"triggerEvent",value:function(){var t=arguments[0];if("function"==typeof this.options[t])return this.options[t].apply(this,arguments)}},{key:"makeLegend",value:function(t){if(this.legend)return this.legend;var e=this.getConstructor("graph.legend");return e?(this.legend=new e(this,t),this.legend):h.throwError("Graph legend is not available as it has not been registered")}},{key:"updateLegend",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(this.legend)return this.legend.update(t),this}},{key:"getLegend",value:function(){if(this.legend)return this.legend}},{key:"requireLegendUpdate",value:function(){this.legend&&this.legend.requireDelayedUpdate()}},{key:"orthogonalProjectionSetup",value:function(){this.options.zAxis=h.extend(!0,{maxZ:10,minZ:0,shiftX:-25,shiftY:-15,xAxis:this.getXAxis(),yAxis:this.getYAxis()})}},{key:"orthogonalProjectionUpdate",value:function(){var e=this;this.zAxis||(this.zAxis={g:document.createElementNS(l.ns,"g"),l:document.createElementNS(l.ns,"line")},this.zAxis.g.appendChild(this.zAxis.l),this.groupGrids.appendChild(this.zAxis.g));var t=this.options.zAxis.xAxis,i=this.options.zAxis.yAxis,n=t.getMinPx(),r=i.getMinPx(),o=t.getZProj(this.options.zAxis.maxZ),s=i.getZProj(this.options.zAxis.maxZ);this.zAxis.l.setAttribute("stroke","black"),this.zAxis.l.setAttribute("x1",n),this.zAxis.l.setAttribute("x2",n+o),this.zAxis.l.setAttribute("y1",r),this.zAxis.l.setAttribute("y2",r+s),this.updateDataMinMaxAxes(!0);var a=this.series.map(function(t){return[t.getZPos(),t]});a.sort(function(t,e){return e[0]-t[0]});var u=0;a.forEach(function(t){t[1].setLayer(u),e.appendSerieToDom(t[1]),u++}),this.drawSeries(!0)}},{key:"kill",value:function(){this.wrapper.removeChild(this.dom)}},{key:"_removeSerie",value:function(t){this.series.splice(this.series.indexOf(t),1),this._pluginsExecute("serieRemoved",t)}},{key:"contextListen",value:function(t,e,i){if(this.options.onContextMenuListen)return this.options.onContextMenuListen(t,e,i)}},{key:"lockShapes",value:function(){this.shapesLocked=!0;for(var t=0,e=this.shapes.length;t<e;t++)this.shapes[t].moving=!1,this.shapes[t].resizing=!1}},{key:"unlockShapes",value:function(){this.shapesLocked=!1}},{key:"prevent",value:function(t){var e=this.prevented;return-1!=t&&(this.prevented=null==t||t),e}},{key:"_getXY",value:function(t){var e=t.clientX,i=t.clientY,n=this.offsetCached||h.getOffset(this.wrapper);return{x:e-=n.left,y:i-=n.top}}},{key:"_resize",value:function(){this.width&&this.height&&(this.getDrawingWidth(),this.getDrawingHeight(),this.sizeSet=!0,this.dom.setAttribute("width",this.width),this.dom.setAttribute("height",this.height),this.domTitle.setAttribute("x",this.width/2),this._sizeChanged=!0,this.drawn&&(this.requireLegendUpdate(),this.draw(!0)))}},{key:"updateGraphingZone",value:function(){h.setAttributeTo(this.graphingZone,{transform:"translate(".concat(this.options.paddingLeft,", ").concat(this.options.paddingTop,")")}),this._sizeChanged=!0}},{key:"getDrawingSpaceWidth",value:function(){var t=this;return function(){return t.drawingSpaceWidth}}},{key:"getDrawingSpaceHeight",value:function(){var t=this;return function(){return t.drawingSpaceHeight}}},{key:"getDrawingSpaceMinX",value:function(){var t=this;return function(){return t.drawingSpaceMinX}}},{key:"getDrawingSpaceMinY",value:function(){var t=this;return function(){return t.drawingSpaceMinY}}},{key:"getDrawingSpaceMaxX",value:function(){var t=this;return function(){return t.drawingSpaceMaxX}}},{key:"getDrawingSpaceMaxY",value:function(){var t=this;return function(){return t.drawingSpaceMaxY}}},{key:"tracking",value:function(t){return this.trackingLine(t)}},{key:"trackingLine",value:function(e){var i=this,n=this;if("boolean"!=typeof e){e&&(this.options.trackingLine=e),e.enable=void 0===e.enable||!!e.enable;var r=new Set;if(Array.isArray(e.series)?e.series.forEach(function(t){r.add(i.getSerie(t))}):"all"==e.series&&this.allSeries().forEach(function(t){return r.add(t)}),e.series=r,"individual"==e.mode)r.forEach(function(t){n.addSerieToTrackingLine(t,e.serieOptions)});else{if(e.noLine)return;this.trackingLineShape||(this.trackingLineShape=this.newShape("line",h.extend(!0,{position:[{y:"min"},{y:"max"}],stroke:"black",layer:-1},e.trackingLineShapeOptions))),this.trackingLineShape.draw()}}else this.options.trackingLine&&(this.options.trackingLine.enable=e)}},{key:"addSerieToTrackingLine",value:function(t){var e,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.options.trackingLine||this.trackingLine({mode:"individual"}),this.options.trackingLine.series.add(t),e=this.options.trackingLine.serieShape?this.options.trackingLine.serieShape:{shape:"ellipse",properties:{rx:["".concat(3*t.getLineWidth(),"px")],ry:["".concat(3*t.getLineWidth(),"px")]}},t.options.tracking=Object.assign({},i),t.trackingShape||(t.trackingShape=this.newShape(e.shape,{fillColor:t.getLineColor(),strokeColor:"White",strokeWidth:t.getLineWidth()},!0,e.properties).setSerie(t).forceParentDom(t.groupMain).draw())}},{key:"setKatexRenderer",value:function(t){this._katexRenderer=t}},{key:"hasKatexRenderer",value:function(){return!!this._katexRenderer}},{key:"renderWithKatex",value:function(t,e){if(this._katexRenderer){e?e.removeChild(e.firstChild):e=document.createElementNS(l.ns,"foreignObject");var i=document.createElement("div");return e.appendChild(i),this._katexRenderer(t,i),e}return!1}},{key:"setJSON",value:function(t){var e=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.killSeries();var n={};i.keepState&&this._applyToAxes(function(t){t.options.name&&(n[t.options.name]={min:t.getCurrentMin(),max:t.getCurrentMax()})},void 0,!0,!0),this._applyToAxes(function(t){e.killAxis(t,!0,!0)},void 0,!0,!0),this.killLegend(),this.killShapes(),(0,o.default)(l,this,t),i.keepState&&this._applyToAxes(function(t){t.options.name&&n[t.options.name]&&(t.setCurrentMin(n[t.options.name].min),t.setCurrentMax(n[t.options.name].max))},void 0,!0,!0),this.draw()}},{key:"exportToSchema",value:function(){var t=this,e={};e.title=this.options.title,e.width=this.getWidth(),e.height=this.getHeight();var i=[],o={x:[],y:[]};["top","bottom","left","right"].map(function(e){if(!t.axis[e])return{};i=i.concat(t.axis[e].map(function(t){return{type:e,label:t.options.label,unit:t.options.unit,min:t.options.forcedMin,max:t.options.forcedMax,flip:t.options.flipped}})),"top"==e||"bottom"==e?o.x=o.x.concat(t.axis[e]):o.y=o.y.concat(t.axis[e])}),e.axis=i;var s=function(t,e){var i=[];switch(t.getType()){case l.SERIE_LINE:for(var n=0;n<t.data.length;n++)for(var r=0;r<t.data[n].length-1;r+=2)i.push(t.data[n][r+(e&&t.isFlipped()||!e&&!t.isFlipped()?1:0)]);break;case l.SERIE_SCATTER:for(r=0;r<t.data.length-1;r+=2)i.push(t.data[n+(e&&t.isFlipped()||!e&&!t.isFlipped()?1:0)])}return i};return e.data=[].concat(this.series.map(function(t){var e=[],i=[];if(t.getType()==l.SERIE_LINE)for(var n in t.styles){i.push({styleName:n,color:t.styles[n].lineColor,lineWidth:t.styles[n].lineWidth,lineStyle:t.styles[n].lineStyle});var r={styleName:n,styles:[]};e.push(r),r.styles=r.styles.concat((t.styles[n].markers||[]).map(function(t){return{shape:t.type,zoom:t.zoom,lineWidth:t.strokeWidth,lineColor:t.strokeColor,color:t.fillColor,points:t.points}}))}return{label:t.getLabel(),id:t.getName(),type:function(t){switch(t){case l.SERIE_BAR:return"bar";case l.SERIE_LINE_COLORED:return"color";case l.SERIE_SCATTER:return"scatter";default:case l.SERIE_LINE:return"line"}}(t.getType()),x:s(t,!0),y:s(t,!1),xAxis:o.x.indexOf(t.getXAxis()),yAxis:o.y.indexOf(t.getYAxis()),style:e,lineStyle:i}})),e}}])&&f(e.prototype,i),n&&f(e,n),l}();function b(t,e){for(var i=0,n=e.length;i<n;i++){for(var r=!0,o=0,s=e[i].length;o<s;o++)t[0]<e[i][o][0]&&t[1]<e[i][o][0]||t[0]>e[i][o][1]&&t[1]>e[i][o][1]||(r=!1);if(r)return e[i].push(t),i}return e.push([t]),e.length-1}function x(t,e,i){if(t.forcedPlugin)return t.activePlugin=t.forcedPlugin,void t._pluginExecute(t.activePlugin,i,[t,e]);!function(t,e,i,n){var r,o,s=t.options.keyActions;for(r=0,o=s.length;r<o;r++){if(s[r].plugin){if(t.forcedPlugin==s[r].plugin||t.isActionAllowed(e,s[r]))return s[r].options&&i.push(s[r].options),t.activePlugin=s[r].plugin,t._pluginExecute(s[r].plugin,n,i),e.preventDefault(),e.stopPropagation()}else if(s[r].callback&&t.isActionAllowed(e,s[r]))return s[r].options&&i.push(s[r].options),e.preventDefault(),e.stopPropagation(),s[r].callback.apply(t,i);s[r].removeSelectedShape&&t.isActionAllowed(e,s[r])&&(e.preventDefault(),e.stopPropagation(),t.selectedShapes.map(function(t){t.kill(s[r].keepInDom)}))}}(t,e,[t,e],i)}function k(t,e,i,n){var r,o,s=t.options.mouseActions,a=!1;for(r=0,o=s.length;r<o;r++)if(s[r].plugin){if(t.forcedPlugin==s[r].plugin||t.isActionAllowed(e,s[r])){s[r].options&&i.push(s[r].options),"wheel"!==e.type&&"mousewheel"!==e.type&&(t.activePlugin=s[r].plugin),t._pluginExecute(s[r].plugin,n,i),a=!0;continue}}else{if(s[r].callback&&t.isActionAllowed(e,s[r])){s[r].options&&i.push(s[r].options),s[r].callback.apply(t,i),a=!0;continue}if(s[r].series){var u;"all"===s[r].series&&(u=t.series),Array.isArray(s[r].series)||(u=[u]),s[r].options&&i.push(s[r].options);for(;0<u.length;r++)t._serieExecute(u[r],n,i);a=!0;continue}}return a}m.prototype.getConstructor=m.getConstructor;var S=function(t,e,i,n,r){var o,s,a=t.options.trackingLine.textMethod||A,u=!1;if(!r&&t.options.trackingLine.legend&&(u=!0,o=t,(s=document.createElement("div")).setAttribute("class","trackingLegend"),s.style.position="absolute",s.style.borderRadius="4px",s.style.boxShadow="1px 1px 3px 0px rgba(100,100,100,0.6)",s.style.border="2px solid #333333",s.style.backgroundColor="rgba(255, 255, 255, 0.5 )",s.style.pointerEvents="none",s.style.paddingTop="5px",s.style.paddingBottom="5px",s.style.paddingLeft="10px",s.style.paddingRight="10px",o.getWrapper().insertBefore(s,o.getDom()),r=s),t.options.trackingLine.legend){if(0==e.length)return r.style.display="none",r;"none"==r.style.display||u?w(t,r,i,n,!0):M(t,r,i,n),r.style.display="block";var l=a(e,void 0,i,n);return r.innerHTML=l,r}},w=function(t,i,n,r,e){var o=Date.now(),s=i.offsetHeight,a=parseInt(i.style.marginLeft.replace("px","")||0,10),u=parseInt(i.style.marginTop.replace("px","")||0,10);if(n=n>t.getWidth()/2?n-n%10-20-i.offsetWidth:n-n%10+30,r=r-r%10+s/2,e)return i.style.marginLeft="".concat(n,"px"),void(i.style.marginTop="".concat(r,"px"));window.requestAnimationFrame(function t(){var e=(Date.now()-o)/200;1<e&&(e=1),i.style.marginLeft="".concat((n-a)*e+a,"px"),i.style.marginTop="".concat((r-u)*e+u,"px"),e<1&&window.requestAnimationFrame(t)})},M=function(){h.debounce(w,50).apply(void 0,arguments)};var A=function(t){var e="";for(var i in t)t[i].closestPoint&&(e+="".concat(t[i].serie.getName(),": ").concat(t[i].serie.getYAxis().valueToHtml(t[i].closestPoint.yClosest,void 0,void 0,2),"\n      "));return e};function _(t,e,i,n){i=i||{};var r,o={def:{x:t.getConstructor("graph.axis.x"),y:t.getConstructor("graph.axis.y")},time:{x:t.getConstructor("graph.axis.x.time")},bar:{x:t.getConstructor("graph.axis.x.bar")}};switch(i.type){case"time":var s=o.time;break;case"bar":s=o.bar;break;case"broken":s=o.broken;break;default:s=o.def}switch(n){case"top":case"bottom":r=s.x;break;case"left":case"right":r=s.y;break;default:return}return"object"==c(e=e||0)&&(i=e,e=0),t.axis[n][e]||(t.axis[n][e]=new r(t,n,i),t.axis[n][e].init(t,i)),t.axis[n][e]}function P(t,e,i,n,r,o){if(!1!==t.options.close){var s=0;t.axis[e].map(function(t){t.isDisplayed()&&!t.floating&&s++}),!0!==t.options.close&&!t.options.close[e]||0!=s?t.closingLines[e].setAttribute("display","none"):(t.closingLines[e].setAttribute("display","block"),t.closingLines[e].setAttribute("x1",i),t.closingLines[e].setAttribute("x2",n),t.closingLines[e].setAttribute("y1",r),t.closingLines[e].setAttribute("y2",o))}}function O(t,e,i,n,r){k(t,r,[e,r,i,n],"onMouseWheel")&&(r.preventDefault(),r.stopPropagation())}m.SERIE_LINE=Symbol(),m.SERIE_SCATTER=Symbol(),m.SERIE_CONTOUR=Symbol(),m.SERIE_BAR=Symbol(),m.SERIE_BOX=Symbol(),m.SERIE_ZONE=Symbol(),m.SERIE_LINE_COLORED=Symbol(),m.SERIE_ZONE=Symbol(),m.SERIE_DENSITYMAP=Symbol(),m.SERIE_LINE_3D=Symbol(),m.SERIE_ZONE_3D=Symbol(),m.TICKS_OUTSIDE=Symbol(),m.TICKS_INSIDE=Symbol(),m.TICKS_CENTERED=Symbol(),m.ns="http://www.w3.org/2000/svg",m.nsxlink="http://www.w3.org/1999/xlink";var i=m;t.default=i,n.exports=l.default},i=[l,t(51),t(5),t(52),t(302),t(53)],void 0===(r="function"==typeof(e=o)?e.apply(l,i):e)||(n.exports=r)},function(p,d,t){var e,i,n,r;r=function(t,o,s,a){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o=e(o),s=e(s),a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(a);var f={name:void 0,lineAt:!1,display:!0,flipped:!1,axisDataSpacing:{min:.1,max:.1},unitModification:!1,primaryGrid:!0,secondaryGrid:!0,primaryGridWidth:1,primaryGridColor:"#f0f0f0",primaryGridDasharray:void 0,primaryGridOpacity:void 0,primaryTicksColor:"black",secondaryGridWidth:1,secondaryGridColor:"#f0f0f0",secondaryGridDasharray:void 0,secondaryGridOpacity:void 0,secondaryTicksColor:"black",hideWhenNoSeriesShown:!1,shiftToZero:!1,tickPosition:1,nbTicksPrimary:3,nbTicksSecondary:10,ticklabelratio:1,exponentialFactor:0,exponentialLabelFactor:0,logScale:!1,forcedMin:!1,forcedMax:!1,span:[0,1],marginMin:0,marginMax:0,scientificScale:!1,scientificScaleExponent:!1,engineeringScale:!1,unitInTicks:!1,unit:!1,unitWrapperBefore:"",unitWrapperAfter:"",splitMarks:!1,tickLabelOffset:0,useKatexForLabel:!1,highestMax:void 0,lowestMin:void 0,labelValue:""},n=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,h(e).call(this))}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,s.default),i=e,(n=[{key:"init",value:function(t,e,i){var r=this;this.unitModificationTimeTicks=[[1,[1,2,5,10,20,30]],[60,[1,2,5,10,20,30]],[3600,[1,2,6,12]],[86400,[1,2,3,4,5,10,20,40]]],this.graph=t,this.options=a.extend(!0,{},f,i,e),this.group=document.createElementNS(this.graph.ns,"g"),this.hasChanged=!0,this.rectEvent=document.createElementNS(this.graph.ns,"rect"),this.rectEvent.setAttribute("pointer-events","fill"),this.rectEvent.setAttribute("fill","transparent"),this.group.appendChild(this.rectEvent),this.graph.axisGroup.appendChild(this.group),this._lines=[],this.line=document.createElementNS(this.graph.ns,"line"),this.line.setAttribute("stroke","black"),this.line.setAttribute("shape-rendering","crispEdges"),this.line.setAttribute("stroke-linecap","square"),this.groupTicks=document.createElementNS(this.graph.ns,"g"),this.groupTickLabels=document.createElementNS(this.graph.ns,"g"),this.group.appendChild(this.groupTicks),this.group.appendChild(this.groupTickLabels),this.group.appendChild(this.line),this.label=document.createElementNS(this.graph.ns,"text"),this.labelTspan=document.createElementNS(this.graph.ns,"tspan"),this.preunit="",this.unitTspan=document.createElementNS(this.graph.ns,"tspan"),this.expTspan=document.createElementNS(this.graph.ns,"tspan"),this.expTspanExp=document.createElementNS(this.graph.ns,"tspan"),this.label.appendChild(this.labelTspan),this.label.appendChild(this.unitTspan),this.label.appendChild(this.expTspan),this.label.appendChild(this.expTspanExp),this.expTspan.setAttribute("dx",6),this.expTspanExp.setAttribute("dy",-5),this.expTspanExp.setAttribute("font-size","0.8em"),this.label.setAttribute("text-anchor","middle"),this.setTickPosition(this.options.tickPosition),this.gridLinePath={primary:"",secondary:""},this.gridPrimary=document.createElementNS(this.graph.ns,"path"),this.gridSecondary=document.createElementNS(this.graph.ns,"path"),this.graph.groupPrimaryGrids.appendChild(this.gridPrimary),this.graph.groupSecondaryGrids.appendChild(this.gridSecondary),this.setGridLinesStyle(),this.group.appendChild(this.label),this.groupSeries=document.createElementNS(this.graph.ns,"g"),this.group.appendChild(this.groupSeries),this.widthHeightTick=0,this.ticks={},this.ticksLabels=[],this.tickScaling={1:3,2:2,3:1,4:.5},this.currentTick={},this.lastCurrentTick={},this.series=[],this.totalDelta=0,this.currentAction=!1,this.group.addEventListener("mousemove",function(t){t.preventDefault();var e=r.graph._getXY(t);r.handleMouseMoveLocal(e.x,e.y,t);for(var i=0,n=r.series.length;i<n;i++)r.series[i].handleMouseMove(!1,!0)}),this.labels=[],this.group.addEventListener("click",function(t){t.preventDefault();var e=r.graph._getXY(t);r.addLabel(r.getVal(e.x-r.graph.getPaddingLeft()))}),this.gridPrimary.setAttribute("clip-path","url(#_clipplot".concat(this.graph._creation,")")),this.gridSecondary.setAttribute("clip-path","url(#_clipplot".concat(this.graph._creation,")")),this.graph._axisHasChanged(this),this.cache()}},{key:"handleMouseMoveLocal",value:function(){}},{key:"hide",value:function(){return this.options.display=!1,this}},{key:"show",value:function(){return this.options.display=!0,this}},{key:"setDisplay",value:function(t){return this.options.display=!!t,this}},{key:"isDisplayed",value:function(){return this.options.hideWhenNoSeriesShown?this.graph.getSeriesFromAxis(this).reduce(function(t,e){return t||e.isShown()},!1):this.options.display}},{key:"isShown",value:function(){return this.isDisplayed.apply(this,arguments)}},{key:"hideGroup",value:function(){this._hidden||(this._hidden=!0,this.group.setAttribute("display","none"))}},{key:"showGroup",value:function(){this._hidden&&(this._hidden=!1,this.group.setAttribute("display","initial"))}},{key:"kill",value:function(t,e){this.graph.killAxis(this,t,e)}},{key:"setLineAt",value:function(t){return this.options.lineAt=t,this}},{key:"adaptTo",value:function(t,e,i,n){return t?(this.options.adaptTo={axis:t,thisValue:e,foreignValue:i,preference:n},this.adapt()):this.options.adaptTo=!1,this}},{key:"adapt",value:function(){if(this.options.adaptTo){var t=this.options.adaptTo.axis,e=this.options.adaptTo.thisValue,i=this.options.adaptTo.foreignValue;if(void 0!==t.options.currentAxisMin&&void 0!==t.options.currentAxisMax||t.setMinMaxToFitSeries(),!1!==this.options.forcedMin&&0==this.options.forcedMax||"max"!==this.options.adaptTo.preference){!1!==this.options.forcedMin?this.options.currentAxisMin=this.options.forcedMin:this.options.currentAxisMin=this._zoomed?this.getCurrentMin():this.getMinValue()-(e-this.getMinValue())*(this.options.axisDataSpacing.min*(t.getCurrentMax()-t.getCurrentMin())/(i-t.getCurrentMin())),this.options.currentAxisMin==e&&(this.options.currentAxisMin-=this.options.axisDataSpacing.min*this.getInterval());var n=!1!==this.options.forcedMin?this.options.forcedMin:this.options.currentAxisMin;this.options.currentAxisMax=(e-n)*(t.getCurrentMax()-t.getCurrentMin())/(i-t.getCurrentMin())+n}else{!1!==this.options.forcedMax?this.options.currentAxisMax=this.options.forcedMax:this.options.currentAxisMax=this._zoomed?this.getCurrentMax():this.getMaxValue()+(this.getMaxValue()-e)*(this.options.axisDataSpacing.max*(t.getCurrentMax()-t.getCurrentMin())/(t.getCurrentMax()-i)),this.options.currentAxisMax==e&&(this.options.currentAxisMax+=this.options.axisDataSpacing.max*this.getInterval());n=!1!==this.options.forcedMax?this.options.forcedMax:this.options.currentAxisMax;this.options.currentAxisMin=(e-n)*(t.getCurrentMin()-t.getCurrentMax())/(i-t.getCurrentMax())+n}this.graph._axisHasChanged(this)}}},{key:"setFloating",value:function(t,e){return this.floating=!0,this.floatingAxis=t,this.floatingValue=e,this}},{key:"getFloatingAxis",value:function(){return this.floatingAxis}},{key:"getFloatingValue",value:function(){return this.floatingValue}},{key:"setAxisDataSpacing",value:function(t,e){return this.options.axisDataSpacing.min=t,this.options.axisDataSpacing.max=e||t,this}},{key:"dataSpacing",value:function(){return this.setAxisDataSpacing.apply(this,arguments)}},{key:"setAxisDataSpacingMin",value:function(t){this.options.axisDataSpacing.min=t}},{key:"setAxisDataSpacingMax",value:function(t){this.options.axisDataSpacing.max=t}},{key:"setMinPx",value:function(t){this.minPx=t,this.setMinMaxFlipped()}},{key:"setMaxPx",value:function(t){this.maxPx=t,this.setMinMaxFlipped()}},{key:"getMinPx",value:function(){return this.minPxFlipped}},{key:"getMaxPx",value:function(){return this.maxPxFlipped}},{key:"getMathMaxPx",value:function(){return this.maxPx}},{key:"getMathMinPx",value:function(){return this.minPx}},{key:"getMinValue",value:function(){return!1!==this.options.forcedMin?this.options.forcedMin:isNaN(this.options.lowestMin)?this.dataMin:Math.max(this.options.lowestMin,this.dataMin)}},{key:"getMaxValue",value:function(){return!1!==this.options.forcedMax?this.options.forcedMax:isNaN(this.options.highestMax)?this.dataMax:Math.min(this.options.highestMax,this.dataMax)}},{key:"setMinValueData",value:function(t){this.dataMin=t,isNaN(this.getCurrentMin())}},{key:"setMaxValueData",value:function(t){this.dataMax=t,isNaN(this.getCurrentMax())}},{key:"getDataMax",value:function(){return this.dataMax}},{key:"getDataMin",value:function(){return this.dataMin}},{key:"setLowestMin",value:function(t){this.options.lowestMin=t,this.graph._axisHasChanged(this)}},{key:"forceMin",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.options.forcedMin=t,this.setCurrentMin(e?this.getCurrentMin():void 0),this.graph._axisHasChanged(this),this}},{key:"setHighestMax",value:function(t){this.options.highestMax=t,this.graph._axisHasChanged(this)}},{key:"forceMax",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.options.forcedMax=t,this.setCurrentMax(e?this.getCurrentMax():void 0),this.graph._axisHasChanged(this),this}},{key:"getForcedMin",value:function(){return this.options.forcedMin}},{key:"getForcedMax",value:function(){return this.options.forcedMax}},{key:"forceToAxis",value:function(t){return t.getMaxValue&&t.getMinValue&&(this.options.forcedMin=t.getMinValue(),this.options.forcedMax=t.getMaxValue()),this}},{key:"getNbTicksPrimary",value:function(){return this.options.nbTicksPrimary}},{key:"setNbTicksPrimary",value:function(t){this.options.nbTicksPrimary=t}},{key:"getNbTicksSecondary",value:function(){return this.options.nbTicksSecondary}},{key:"setNbTicksSecondary",value:function(t){return this.options.nbTicksSecondary=t,this}},{key:"handleMouseMove",value:function(t){this.mouseVal=this.getVal(t)}},{key:"handleMouseWheel",value:function(t,e,i){t=Math.min(.2,Math.max(-.2,t)),"min"==i?i=this.getMinValue():"max"==i?i=this.getMaxValue():i||(i=0),this._doZoomVal((this.getCurrentMax()-i)*(1+t)+i,(this.getCurrentMin()-i)*(1+t)+i),this.graph.draw()}},{key:"zoom",value:function(t,e,i){if(i||!this.zoomLock)return this._doZoomVal(t,e,!0)}},{key:"_doZoomVal",value:function(t,e,i){return this._doZoom(this.getPx(t),this.getPx(e),t,e,i)}},{key:"_doZoom",value:function(t,e,i,n,r){i=void 0!==i?i:this.getVal(t),n=void 0!==n?n:this.getVal(e);return this.setCurrentMin(Math.min(i,n)),this.setCurrentMax(Math.max(i,n)),this.cacheCurrentMin(),this.cacheCurrentMax(),this.cacheInterval(),this._zoomed=!0,this.adapt(),this._hasChanged=!0,r||this.emit("zoom",[this.options.currentAxisMin,this.options.currentAxisMax,this]),this}},{key:"getSerieShift",value:function(){return this._serieShift}},{key:"getSerieScale",value:function(){return this._serieScale}},{key:"getMouseVal",value:function(){return this.mouseVal}},{key:"getUnitPerTick",value:function(t,e,i){var n=i/(e=e?Math.min(e,t/10):t/10);switch(this.options.unitModification){case"time":case"time:min.sec":var r,o,s,a,u=!1;for(r=0,o=this.unitModificationTimeTicks.length;r<o;r++){for(s=0,a=this.unitModificationTimeTicks[r][1].length;s<a;s++)if(n<this.unitModificationTimeTicks[r][0]*this.unitModificationTimeTicks[r][1][s]){u=!0;break}if(u)break}b=r!==this.unitModificationTimeTicks.length?this.unitModificationTimeTicks[r][0]*this.unitModificationTimeTicks[r][1][s]:1;break;case"time:min.sec_dec":var l,h,c,f,p=!1;for(l=0,h=this.unitModificationTimeTicks.length;l<h;l++){for(c=0,f=this.unitModificationTimeTicks[l][1].length;c<f;c++)if(n<this.unitModificationTimeTicks[l][0]*this.unitModificationTimeTicks[l][1][c]){p=!0;break}if(p)break}b=l!==this.unitModificationTimeTicks.length?this.unitModificationTimeTicks[l][0]*this.unitModificationTimeTicks[l][1][c]:1;break;default:var d=Math.floor(Math.log(n)/Math.log(10)),g=n*Math.pow(10,-d);this.decimals=-d;for(var y=[1,2,5,10],v=!1,m=y.length-1;0<=m;m--)(!v||Math.abs(y[m]-g)<Math.abs(v-g))&&(v=y[m]);var b=v*Math.pow(10,d)}var x=i/b;return[b,x,t/e]}},{key:"setMinMaxToFitSeries",value:function(t){var e=this.getInterval();return this.options.logScale?(this.setCurrentMin(Math.max(1e-50,.9*this.getMinValue())),this.setCurrentMax(Math.max(1e-50,1.1*this.getMaxValue()))):(this.setCurrentMin(this.getMinValue()),this.setCurrentMax(this.getMaxValue()),!1===this.getForcedMin()&&this.setCurrentMin(this.getCurrentMin()-this.options.axisDataSpacing.min*e),!1===this.getForcedMax()&&this.setCurrentMax(this.getCurrentMax()+this.options.axisDataSpacing.max*e)),(isNaN(this.options.currentAxisMin)||isNaN(this.options.currentAxisMax))&&(this.options.currentAxisMax=void 0,this.options.currentAxisMin=void 0),this.cache(),this._zoomed=!1,this.adapt(),t||this.graph._axisHasChanged(this),this.emit("zoomOutFull",[this.options.currentAxisMin,this.options.currentAxisMax,this]),this}},{key:"getInterval",value:function(){return this.getMaxValue()-this.getMinValue()}},{key:"getCurrentInterval",value:function(){return this.cachedInterval}},{key:"getCurrentMin",value:function(){return this.cachedCurrentMin}},{key:"getCurrentMax",value:function(){return this.cachedCurrentMax}},{key:"cacheCurrentMin",value:function(){this.cachedCurrentMin=this.options.currentAxisMin==this.options.currentAxisMax?this.options.logScale?this.options.currentAxisMin/10:this.options.currentAxisMin-1:this.options.currentAxisMin}},{key:"cacheCurrentMax",value:function(){this.cachedCurrentMax=this.options.currentAxisMax==this.options.currentAxisMin?this.options.logScale?10*this.options.currentAxisMax:this.options.currentAxisMax+1:this.options.currentAxisMax}},{key:"cacheInterval",value:function(){this.cachedInterval=this.cachedCurrentMax-this.cachedCurrentMin}},{key:"cache",value:function(){this.cacheCurrentMin(),this.cacheCurrentMax(),this.cacheInterval()}},{key:"setCurrentMin",value:function(t){return(void 0===t||!1!==this.getForcedMin()&&(t<this.getForcedMin()||t<this.options.lowestMin||void 0===t))&&(t=this.getMinValue()),this.options.currentAxisMin=t,this.options.logScale&&(this.options.currentAxisMin=Math.max(1e-50,t)),this.cacheCurrentMin(),this.cacheInterval(),this.graph._axisHasChanged(this),this}},{key:"setCurrentMax",value:function(t){(void 0===t||!1!==this.getForcedMax()&&(t>this.getForcedMax()||t>this.options.highestMax||void 0===t))&&(t=this.getMaxValue()),this.options.currentAxisMax=t,this.options.logScale&&(this.options.currentAxisMax=Math.max(1e-50,t)),this.cacheCurrentMax(),this.cacheInterval(),this.graph._axisHasChanged(this)}},{key:"flip",value:function(t){return this.options.flipped=t,this.setMinMaxFlipped(),this}},{key:"isFlipped",value:function(){return this.options.flipped}},{key:"_draw",value:function(){var e=this;void 0!==this.options.currentAxisMin&&void 0!==this.options.currentAxisMax||this.setMinMaxToFitSeries(!0);var t,i=Math.abs(this.getMaxPx()-this.getMinPx()),n=this.getCurrentInterval();if(!this.isShown())return this.line.setAttribute("display","none"),0;if(this.line.setAttribute("display","block"),1==this.options.scientificScale?this.options.scientificScaleExponent?this.scientificExponent=this.options.scientificScaleExponent:this.scientificExponent=Math.floor(Math.log(Math.max(Math.abs(this.getCurrentMax()),Math.abs(this.getCurrentMin())))/Math.log(10)):this.scientificExponent=0,this.gridLinePath.primary="",this.gridLinePath.secondary="",this.options.useKatexForLabel&&this.graph.hasKatexRenderer()){var r=this.getLabel();this.options.unitDecade&&this.options.unit&&0!==this.scientificExponent&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent))&&(t=this.getExponentGreekLetter(this.scientificExponent))?(r+=t,this.preunitTspan.innerHTML=t,this.preunitTspan.setAttribute("display","visible"),this.unitTspan.setAttribute("dx",0),r+=" ".concat(t," ").concat(this.options.unit)):0===this.scientificExponent||isNaN(this.scientificExponent)||(this.options.engineeringScale&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent)),r+=" \\cdot 10^".concat(this.scientificExponent," ").concat(this.options.unit)),this.katexElement=this.graph.renderWithKatex(r,this.katexElement)}else this.options.unitDecade&&this.options.unit&&0!==this.scientificExponent&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent))&&(t=this.getExponentGreekLetter(this.scientificExponent))?(this.preunit=t,this.unitTspan.setAttribute("dx",0)):0===this.scientificExponent||isNaN(this.scientificExponent)?(this.options.unit||this.unitTspan.setAttribute("display","none"),this.preunit="",this.expTspan.setAttribute("display","none"),this.expTspanExp.setAttribute("display","none")):(this.options.engineeringScale&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent)),this.preunit="",this.expTspan.setAttribute("display","visible"),this.expTspanExp.setAttribute("display","visible"),this.expTspan.textContent="x10",this.expTspanExp.textContent=this.scientificExponent),this.writeUnit();if(this.options.hideTicks)o=0;else if(this.resetTicksLength(),this.linkedToAxis){this.linkedToAxis.deltaPx=10;var o=this.drawLinkedToAxisTicksWrapper(i,n)}else if(this.options.logScale)o=this.drawLogTicks();else var o=this.drawLinearTicksWrapper(i,n);return this.removeUselessTicks(),this.removeUselessTickLabels(),this.gridPrimary.setAttribute("d",this.gridLinePath.primary),this.gridSecondary.setAttribute("d",this.gridLinePath.secondary),this.graph.findAxesLinkedTo(this).forEach(function(t){t.linkedToAxis&&(t.setMinPx(e.getMinPx()),t.setMaxPx(e.getMaxPx()),t.draw())}),o}},{key:"drawLines",value:function(){var i=this;this.options.lineAt&&Array.isArray(this.options.lineAt)&&this.options.lineAt.forEach(function(t,e){!isNaN(t)&&i.getCurrentMin()<=t&&i.getCurrentMax()>=t?i._lines[e]=i._drawLine(t,i._lines[e]):i._hideLine(i._lines[e])})}},{key:"writeUnit",value:function(){this.options.unit?(this.unitTspan.setAttribute("display","visible"),this.unitTspan.setAttribute("dx",5),this.unitTspan.innerHTML=(this.options.unitWrapperBefore+this.preunit+this.options.unit+this.options.unitWrapperAfter).replace(/\^([-+0-9]*)(.*)/g,"<tspan dy='-5' font-size='0.7em'>$1</tspan><tspan dy='5' font-size='1em'>$2</tspan>")):this.unitTspan.setAttribute("display","none")}},{key:"getExponentGreekLetter",value:function(t){switch(t){case 3:return"k";case 6:return"M";case 9:return"G";case 12:return"T";case 15:return"E";case-3:return"m";case-6:return"&mu;";case-9:return"n";case-12:return"p";case-15:return"f";default:return""}}},{key:"drawLinearTicksWrapper",value:function(t,e){var i;return this.options.primaryTickUnit?i=this.options.primaryTickUnit:(i=this.getUnitPerTick(t,this.getNbTicksPrimary(),e)[0],this.options.maxPrimaryTickUnit&&this.options.maxPrimaryTickUnit<i?i=this.options.maxPrimaryTickUnit:this.options.minPrimaryTickUnit&&this.options.minPrimaryTickUnit>i&&(i=this.options.minPrimaryTickUnit)),this.drawTicks(i,this.secondaryTicks())}},{key:"forcePrimaryTickUnit",value:function(t){this.options.primaryTickUnit=t,this.decimals=Math.max(0,Math.round(-Math.log(t)/Math.log(10)))}},{key:"forcePrimaryTickUnitMax",value:function(t){this.options.maxPrimaryTickUnit=t}},{key:"forcePrimaryTickUnitMin",value:function(t){this.options.minPrimaryTickUnit=t}},{key:"getPrimaryTickUnit",value:function(){return this.incrTick}},{key:"setTickLabelRatio",value:function(t){this.options.ticklabelratio=t}},{key:"doesHideWhenNoSeriesShown",value:function(){return this.options.hideWhenNoSeriesShown}},{key:"draw",value:function(){this._widthLabels=0;var t=this._draw();return this._widthLabels+=t,t}},{key:"drawTicks",value:function(t,e){var i,n,r,o=t,s=this.getCurrentMin(),a=this.getCurrentMax(),u=0;for(e&&(i=o/e),n=this.options.shiftToZero?this.dataMin-Math.ceil((this.dataMin-s)/o)*o:Math.floor(s/o)*o,this.incrTick=t;n<=a&&!(1e3<++u);){if(e){r=n+i,this.subIncrTick=r;for(var l=0;r<n+o&&1e-7<Math.abs(r-(n+o))&&!(100<++l);)r<s||a<r||this.drawTickWrapper(r,!1,Math.abs(r-n-o/2)<1e-4?2:3),r+=i}n<s||a<n||this.drawTickWrapper(n,!0,1),n+=t}return this.widthHeightTick=this.getMaxSizeTick(),this.widthHeightTick}},{key:"nextTick",value:function(t,e){if(this.ticks[t]=this.ticks[t]||[],this.lastCurrentTick[t]=this.lastCurrentTick[t]||0,this.currentTick[t]=this.currentTick[t]||0,this.currentTick[t]>=this.ticks[t].length){var i=document.createElementNS(this.graph.ns,"line");this.groupTicks.appendChild(i),this.ticks[t].push(i),e(i)}i=this.ticks[t][this.currentTick[t]];return this.currentTick[t]>=this.lastCurrentTick[t]&&i.setAttribute("display","visible"),this.currentTick[t]++,i}},{key:"nextTickLabel",value:function(t){if(this.ticksLabels=this.ticksLabels||[],this.lastCurrentTickLabel=this.lastCurrentTickLabel||0,this.currentTickLabel=this.currentTickLabel||0,this.currentTickLabel>=this.ticksLabels.length){var e=document.createElementNS(this.graph.ns,"text");this.groupTickLabels.appendChild(e),this.ticksLabels.push(e),t(e)}e=this.ticksLabels[this.currentTickLabel];return this.currentTickLabel>=this.lastCurrentTickLabel&&e.setAttribute("display","visible"),this.currentTickLabel++,e}},{key:"removeUselessTicks",value:function(){for(var t in this.currentTick){for(var e=this.currentTick[t];e<this.ticks[t].length;e++)this.ticks[t][e].setAttribute("display","none");this.lastCurrentTick[t]=this.currentTick[t],this.currentTick[t]=0}}},{key:"removeUselessTickLabels",value:function(){for(var t=this.currentTickLabel;t<this.ticksLabels.length;t++)this.ticksLabels[t].setAttribute("display","none");this.lastCurrentTickLabel=this.currentTickLabel,this.currentTickLabel=0}},{key:"nextGridLine",value:function(t,e,i,n,r){(t&&this.options.primaryGrid||!t&&this.options.secondaryGrid)&&(this.gridLinePath[t?"primary":"secondary"]+="M ".concat(e," ").concat(n," L ").concat(i," ").concat(r))}},{key:"setGridLineStyle",value:function(t,e){var i;t.setAttribute("shape-rendering","crispEdges"),t.setAttribute("stroke",e?this.getPrimaryGridColor():this.getSecondaryGridColor()),t.setAttribute("stroke-width",e?this.getPrimaryGridWidth():this.getSecondaryGridWidth()),t.setAttribute("stroke-opacity",e?this.getPrimaryGridOpacity():this.getSecondaryGridOpacity()),(i=e?this.getPrimaryGridDasharray():this.getSecondaryGridDasharray())&&t.setAttribute("stroke-dasharray",i)}},{key:"setGridLinesStyle",value:function(){return this.setGridLineStyle(this.gridPrimary,!0),this.setGridLineStyle(this.gridSecondary,!1),this}},{key:"resetTicksLength",value:function(){}},{key:"secondaryTicks",value:function(){return this.options.nbTicksSecondary}},{key:"drawLogTicks",value:function(){var t=this.getCurrentMin(),e=this.getCurrentMax(),i=Math.min(t,e);e=Math.max(t,e);i<1e-50&&(i=1e-50),20<Math.log(i)-Math.log(e)&&(e=Math.pow(10,20*Math.log(i)));var n={fontSize:"1.0em",exponential:!0,overwrite:!1};i<0&&(i=0);var r,o=0==i?0:Math.floor(Math.log(i)/Math.log(10));for(i=1;(r=i*Math.pow(10,o))<e;)1==i&&t<r&&this.drawTickWrapper(r,!0,1,n),10==i?(i=1,o++):(1!=i&&t<r&&this.drawTickWrapper(r,!1,2,{overwrite:"",fontSize:"0.6em"}),i++);return this.widthHeightTick=this.getMaxSizeTick(),this.widthHeightTick}},{key:"drawTickWrapper",value:function(t,e,i,n){this.drawTick(t,i,n)}},{key:"linkToAxis",value:function(t,e,i){this.linkedToAxis={axis:t,scalingFunction:e,decimals:i||1}}},{key:"drawLinkedToAxisTicksWrapper",value:function(t,e){var i,n,r,o,s=this.linkedToAxis,a=0;s.deltaPx||(s.deltaPx=10);do{if(i=s.scalingFunction(s.axis.getVal(a+this.getMinPx())),s.decimals&&(this.decimals=s.decimals),!(n=this.drawTick(i,1,{},a+this.getMinPx())))throw console.error(i,a,this.getMinPx()),new Error("Unable to draw tick. Please report the test-case");if(r=8*String(n[1].textContent).length,(o=5*Math.round(r/5))>s.deltaPx)return s.deltaPx=o,void this.drawLinkedToAxisTicksWrapper(t,e);a+=s.deltaPx}while(a<t)}},{key:"getPos",value:function(t){return this.getPx(t)}},{key:"getPx",value:function(t){if(this.options.logScale){if(t<0)return;return t=(Math.log(t)-Math.log(this.getCurrentMin()))/(Math.log(this.getCurrentMax())-Math.log(this.getCurrentMin()))*(this.getMaxPx()-this.getMinPx())+this.getMinPx()}return(t-this.getCurrentMin())/this.getCurrentInterval()*(this.getMaxPx()-this.getMinPx())+this.getMinPx()}},{key:"getRoundedPx",value:function(t){return Math.round(10*this.getPx(t))/10}},{key:"getVal",value:function(t){return this.options.logScale?Math.exp((t-this.getMinPx())/(this.getMaxPx()-this.getMinPx())*(Math.log(this.getCurrentMax())-Math.log(this.getCurrentMin()))+Math.log(this.getCurrentMin())):(t-this.getMinPx())/(this.getMaxPx()-this.getMinPx())*this.getCurrentInterval()+this.getCurrentMin()}},{key:"getRelPx",value:function(t){return t/this.getCurrentInterval()*(this.getMaxPx()-this.getMinPx())}},{key:"getRelVal",value:function(t){return t/(this.getMaxPx()-this.getMinPx())*this.getCurrentInterval()}},{key:"valueToText",value:function(t,e){if(this.scientificExponent)return(t/=Math.pow(10,this.scientificExponent)).toFixed(1);if(t=t*Math.pow(10,this.getExponentialFactor())*Math.pow(10,this.getExponentialLabelFactor()),this.options.shiftToZero&&(t-=this.dataMin),this.options.ticklabelratio&&(t*=this.options.ticklabelratio),this.options.unitModification)return t=this.modifyUnit(t,this.options.unitModification);var i=this.decimals-this.getExponentialFactor()-this.getExponentialLabelFactor();return isNaN(t)?"":(t=0<e?t.toFixed(e):0<i?t.toFixed(i):t.toFixed(0),this.options.unitInTicks&&this.options.unit&&(t+=" ".concat(this.options.unit)),t)}},{key:"valueToHtml",value:function(t,e,i){var n,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,o=this.valueToText(t,r);return this.options.unitDecade&&this.options.unit&&0!==this.scientificExponent&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent))&&(n=this.getExponentGreekLetter(this.scientificExponent))?o+=n:0===this.scientificExponent||isNaN(this.scientificExponent)||e||(o+="x10",o+="<sup>".concat(this.scientificExponent,"</sup>")),this.options.unit&&!i&&(o+=this.options.unit.replace(/\^([-+0-9]*)/g,"<sup>$1</sup>")),o}},{key:"getModifiedValue",value:function(t){return this.options.ticklabelratio&&(t*=this.options.ticklabelratio),this.options.shiftToZero&&(t-=this.getMinValue()*(this.options.ticklabelratio||1)),t}},{key:"modifyUnit",value:function(t,e){var i,n="",r=this.incrTick;switch(e){case"time":var o=this.getModifiedValue(this.getMaxValue()),s=[[60,"min"],[3600,"h"],[86400,"d"]];if(o<3600?i=0:o<86400?i=1:o<2592e3&&(i=2),!s[i])return!1;for(t/=s[i][0],n=(a=Math.floor(t))+s[i][1],i--;r<1*s[i+1][0]&&-1<i;)t=(t-a)*s[i+1][0]/s[i][0],a=Math.round(t),n+=" ".concat(a).concat(s[i][1]),i--;break;case"time:min.sec":t/=60;var a=Math.floor(t),u="".concat(Math.round(60*(t-a)));u=1==u.length?"0".concat(u):u,n="".concat(a,".").concat(u)}return n}},{key:"getExponentialFactor",value:function(){return this.options.exponentialFactor}},{key:"setExponentialFactor",value:function(t){this.options.exponentialFactor=t}},{key:"setExponentialLabelFactor",value:function(t){this.options.exponentialLabelFactor=t}},{key:"getExponentialLabelFactor",value:function(){return this.options.exponentialLabelFactor}},{key:"setName",value:function(t){return this.options.name=t,this}},{key:"setLabel",value:function(t){return this.options.label=t,this}},{key:"setLabelFont",value:function(t){return this.options.labelFont=t,this}},{key:"getLabel",value:function(){return this.options.label}},{key:"setSpan",value:function(t,e){return this.options.span=[t,e],this}},{key:"getSpan",value:function(){return this.options.span}},{key:"setLevel",value:function(t){return this._level=t,this}},{key:"getLevel",value:function(){return this._level}},{key:"setShift",value:function(t){this.shift=t}},{key:"getShift",value:function(){return this.shift}},{key:"setTickPosition",value:function(t){switch(t){case 3:case"outside":case o.default.TICKS_OUTSIDE:t=3;break;case 2:case"centered":case o.default.TICKS_CENTERED:t=2;break;case 1:case"inside":case o.default.TICKS_INSIDE:default:t=1}switch(this.options.tickPosition=t,this.options.tickPosition){case 3:this.tickPx1=-2,this.tickPx2=0;break;case 2:this.tickPx1=-1,this.tickPx2=1;break;default:case 1:this.tickPx1=0,this.tickPx2=2}return this}},{key:"setGrids",value:function(t){return this.options.primaryGrid=t,this.options.secondaryGrid=t,this}},{key:"setPrimaryGrid",value:function(t){return this.options.primaryGrid=t,this}},{key:"setSecondaryGrid",value:function(t){return this.options.secondaryGrid=t,this}},{key:"primaryGridOn",value:function(){return this.setPrimaryGrid(!0)}},{key:"primaryGridOff",value:function(){return this.setPrimaryGrid(!1)}},{key:"secondaryGridOn",value:function(){return this.setSecondaryGrid(!0)}},{key:"secondaryGridOff",value:function(){return this.setSecondaryGrid(!1)}},{key:"gridsOn",value:function(){return this.setGrids(!0)}},{key:"gridsOff",value:function(){return this.setGrids(!1)}},{key:"turnGridsOff",value:function(){return this.gridsOff.apply(this,arguments)}},{key:"turnGridsOn",value:function(){return this.gridsOn.apply(this,arguments)}},{key:"setColor",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"black";return this.options.axisColor=t,this.options.primaryTicksColor=t,this.options.secondaryTicksColor=t,this.options.ticksLabelColor=t,this.options.primaryGridColor=t,this.options.secondaryGridColor=t,this.options.labelColor=t,this}},{key:"setAxisColor",value:function(t){return this.options.axisColor=t,this}},{key:"getAxisColor",value:function(){return this.options.axisColor||"black"}},{key:"setTickLabelOffset",value:function(t){return this.options.tickLabelOffset=t,this}},{key:"setPrimaryTicksColor",value:function(t){return this.options.primaryTicksColor=t,this}},{key:"getPrimaryTicksColor",value:function(){return this.options.primaryTicksColor||"black"}},{key:"setSecondaryTicksColor",value:function(t){return this.options.secondaryTicksColor=t,this}},{key:"getSecondaryTicksColor",value:function(){return this.options.secondaryTicksColor||"black"}},{key:"setTicksLabelColor",value:function(e){return this.options.ticksLabelColor=e,Array.isArray(this.ticksLabels)&&this.ticksLabels.forEach(function(t){t.setAttribute("fill",e)}),this}},{key:"getTicksLabelColor",value:function(){return this.options.ticksLabelColor||"black"}},{key:"setPrimaryGridColor",value:function(t){return this.options.primaryGridColor=t,this.setGridLinesStyle(),this}},{key:"getPrimaryGridColor",value:function(){return this.options.primaryGridColor}},{key:"setSecondaryGridColor",value:function(t){return this.options.secondaryGridColor=t,this.setGridLinesStyle(),this}},{key:"getSecondaryGridColor",value:function(){return this.options.secondaryGridColor}},{key:"setPrimaryGridWidth",value:function(t){return this.options.primaryGridWidth=t,this.setGridLinesStyle(),this}},{key:"getPrimaryGridWidth",value:function(){return this.options.primaryGridWidth}},{key:"setSecondaryGridWidth",value:function(t){return this.options.secondaryGridWidth=t,this.setGridLinesStyle(),this}},{key:"getSecondaryGridWidth",value:function(){return this.options.secondaryGridWidth}},{key:"setPrimaryGridOpacity",value:function(t){return this.options.primaryGridOpacity=t,this}},{key:"getPrimaryGridOpacity",value:function(){return this.options.primaryGridOpacity}},{key:"setSecondaryGridOpacity",value:function(t){return this.options.secondaryGridOpacity=t,this}},{key:"getSecondaryGridOpacity",value:function(){return this.options.secondaryGridOpacity}},{key:"setPrimaryGridDasharray",value:function(t){return this.options.primaryGridDasharray=t,this}},{key:"getPrimaryGridDasharray",value:function(){return this.options.primaryGridDasharray}},{key:"setSecondaryGridDasharray",value:function(t){return this.options.secondaryGridDasharray=t,this}},{key:"getSecondaryGridDasharray",value:function(){return this.options.secondaryGridDasharray}},{key:"setLabelColor",value:function(t){return this.options.labelColor=t,this}},{key:"getLabelColor",value:function(){return this.options.labelColor}},{key:"setTickContent",value:function(t,e,i){if(i||(i={}),i.overwrite||!i.exponential)t.textContent=i.overwrite||this.valueToText(e);else{var n=Math.round(Math.log(e)/Math.log(10)),r=Math.floor(e*Math.pow(10,-n));t.textContent=1!=r?"".concat(r,"x10"):"10";var o=document.createElementNS(this.graph.ns,"tspan");o.textContent=n,o.setAttribute("font-size","0.7em"),o.setAttribute("dy",-5),t.appendChild(o)}i.fontSize&&t.setAttribute("font-size",i.fontSize)}},{key:"isX",value:function(){return!1}},{key:"isY",value:function(){return!1}},{key:"setUnit",value:function(t){return this.options.unit=t,this}},{key:"setUnitInTicks",value:function(t){return this.options.unitInTicks=t,this}},{key:"setUnitWrapper",value:function(t,e){return this.options.unitWrapperBefore=t,this.options.unitWrapperAfter=e,this}},{key:"setUnitDecade",value:function(t){return this.options.unitDecade=t,this}},{key:"setScientific",value:function(t){return this.options.scientificScale=t,this}},{key:"setScientificScaleExponent",value:function(t){return this.options.scientificScaleExponent=t,this}},{key:"setEngineering",value:function(t){return this.options.scientificScale=t,this.options.engineeringScale=t,this}},{key:"getEngineeringExponent",value:function(t){return t-=0<t?t%3:(3- -t%3)%3}},{key:"setLogScale",value:function(t){return this.options.logScale=t,this}},{key:"isZoomed",value:function(){return!(this.options.currentAxisMin==this.getMinValue()||this.options.currentAxisMax==this.getMaxValue())}},{key:"hasAxis",value:function(){return!1}},{key:"getType",value:function(){return null}},{key:"useKatexForLabel",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return this.options.useKatexForLabel=t,this}},{key:"zoomLock",set:function(t){this._zoomLocked=t},get:function(){return this._zoomLocked||!1}}])&&u(i.prototype,n),r&&u(i,r),e}();n.prototype.getValue=n.prototype.getVal,n.prototype.getDeltaPx=n.prototype.getRelPx;var r=n;t.default=r,p.exports=d.default},i=[d,t(65),t(52),t(5)],void 0===(n="function"==typeof(e=r)?e.apply(d,i):e)||(p.exports=n)},function(i,n,t){var e,r,o,s;s=function(t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,u=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(u);var e={makeBarY:function(t,e,i){if(t&&void 0!==i){var n=u.isNumeric(i.width)?i.width:10;return" V ".concat(t," m -").concat(n/2," 0 h ").concat(n," m -").concat(n/2," 0 V ").concat(e," ")}},makeBoxY:function(t,e,i){if(t&&void 0!==i)return" m 5 0 V ".concat(t," h -10 V ").concat(e," m 5 0 ")},makeBarX:function(t,e,i){if(t&&void 0!==i){var n=u.isNumeric(i.width)?i.width:10;return" H ".concat(t," m 0 -").concat(n/2," v ").concat(n," m 0 -").concat(n/2," H ").concat(e," ")}},makeBoxX:function(t,e,i){if(t&&void 0!==i)return" v 5 H ".concat(t," v -10 H ").concat(e," v 5 ")},setErrorBarStyle:function(t){return this.errorbarStyle=this._setErrorStyle(t),this},setErrorBoxStyle:function(t){return this.errorboxStyle=this._setErrorStyle(t),this},_setErrorStyle:function(){var t,e=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=[],r=[["y","top","bottom"],["x","left","right"]];n={};"string"==typeof i&&(i={});for(var o=0,s=r.length;o<s;o++){i.all&&(i[r[o][1]]=u.extend(!0,{},i.all),i[r[o][2]]=u.extend(!0,{},i.all)),i[r[o][0]]&&(i[r[o][1]]=u.extend(!0,{},i[r[o][0]]),i[r[o][2]]=u.extend(!0,{},i[r[o][0]]));for(var a=1;a<=2;a++)i[r[o][a]]&&(n[r[o][a]]=i[r[o][a]],(t=n[r[o][a]]).dom=document.createElementNS(e.graph.ns,"path"),t.dom.setAttribute("fill",t.fillColor||"none"),t.dom.setAttribute("stroke",t.strokeColor||"black"),t.dom.setAttribute("stroke-opacity",t.strokeOpacity||1),t.dom.setAttribute("fill-opacity",t.fillOpacity||1),t.dom.setAttribute("stroke-width",t.strokeWidth||1),e.groupMain.appendChild(t.dom))}return n},errorDrawInit:function(){this.errorboxStyle&&(this.errorboxStyle.paths={top:"",bottom:"",left:"",right:""}),this.errorbarStyle&&(this.errorbarStyle.paths={top:"",bottom:"",left:"",right:""})},errorAddPoint:function(t,e,i,n,r){var o;this.errorbarStyle&&((o=this.waveform.getErrorBarXBelow(t))&&(this.errorbarStyle.paths.left+=" M ".concat(n," ").concat(r),this.errorbarStyle.paths.left+=this.makeBarX(this.getX(e-o),n,this.errorbarStyle.left)),(o=this.waveform.getErrorBarXAbove(t))&&(this.errorbarStyle.paths.right+=" M ".concat(n," ").concat(r),this.errorbarStyle.paths.right+=this.makeBarX(this.getX(e+o),n,this.errorbarStyle.right)),(o=this.waveform.getErrorBarYBelow(t))&&(this.errorbarStyle.paths.bottom+=" M ".concat(n," ").concat(r),this.errorbarStyle.paths.bottom+=this.makeBarY(this.getY(i-o),r,this.errorbarStyle.bottom)),(o=this.waveform.getErrorBarYAbove(t))&&(this.errorbarStyle.paths.top+=" M ".concat(n," ").concat(r),this.errorbarStyle.paths.top+=this.makeBarY(this.getY(i+o),r,this.errorbarStyle.top))),this.errorboxStyle&&((o=this.waveform.getErrorBoxXBelow(t))&&(this.errorboxStyle.paths.left+=" M ".concat(n," ").concat(r),this.errorboxStyle.paths.left+=this.makeBoxX(this.getX(e-o),n,this.errorboxStyle.left)),(o=this.waveform.getErrorBoxXAbove(t))&&(this.errorboxStyle.paths.right+=" M ".concat(n," ").concat(r),this.errorboxStyle.paths.right+=this.makeBoxX(this.getX(e+o),n,this.errorboxStyle.right)),(o=this.waveform.getErrorBoxYBelow(t))&&(this.errorboxStyle.paths.bottom+=" M ".concat(n," ").concat(r),this.errorboxStyle.paths.bottom+=this.makeBoxY(this.getY(i-o),r,this.errorboxStyle.bottom)),(o=this.waveform.getErrorBoxYAbove(t))&&(this.errorboxStyle.paths.top+=" M ".concat(n," ").concat(r),this.errorboxStyle.paths.top+=this.makeBoxY(this.getY(i+o),r,this.errorboxStyle.top)))},errorAddPointBarChart:function(t,e,i,n){var r;this.error&&(r=this.error[t])&&this.doErrorDraw("y",r,e,n,i,n)},errorDraw:function(){if(this.errorbarStyle)for(var t in this.errorbarStyle.paths)this.errorbarStyle[t]&&this.errorbarStyle[t].dom&&this.errorbarStyle[t].dom.setAttribute("d",this.errorbarStyle.paths[t]);if(this.errorboxStyle)for(var t in this.errorboxStyle.paths)this.errorboxStyle[t]&&this.errorboxStyle[t].dom&&this.errorboxStyle[t].dom.setAttribute("d",this.errorboxStyle.paths[t])}};t.default=e,i.exports=n.default},r=[n,t(5)],void 0===(o="function"==typeof(e=s)?e.apply(n,r):e)||(i.exports=o)},function(o,p,t){var e,i,n,r;r=function(t,r,s,a){"use strict";var e;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r=(e=r)&&e.__esModule?e:{default:e},s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(s);var f={redrawShapesAfterDraw:!1},n=function(t){function o(t,e,i,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(r=l(this,h(o).apply(this,arguments))).options=s.extend(!0,{},f,n,i),r.graph=t,r.name=e,r.groupMain=document.createElementNS(r.graph.ns,"g"),r._symbolLegendContainer=document.createElementNS(r.graph.ns,"g"),r}var e,i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(o,r.default),e=o,(i=[{key:"postInit",value:function(){}},{key:"draw",value:function(){}},{key:"beforeDraw",value:function(){}},{key:"afterDraw",value:function(){this.options.redrawShapesAfterDraw&&this.graph.getShapesOfSerie(this).forEach(function(t){t.redraw()}),this.emit("draw")}},{key:"setData",value:function(t,e,i){if(t instanceof a.Waveform)return this.setWaveform(t);throw"Setting data other than waveforms in not supported by default. You must implemented this method in the inherited class."}},{key:"_addData",value:function(t,e){return[]}},{key:"clearData",value:function(){return this.setData(new a.Waveform),this}},{key:"getData",value:function(){return this.data}},{key:"setOptions",value:function(t){this.options=t||{}}},{key:"setOption",value:function(t,e){this.options[t]=e}},{key:"kill",value:function(t){return this.graph.removeSerieFromDom(this),this.graph._removeSerie(this),this.graph.legend&&!t&&this.graph.legend.update(),this.graph=void 0,this}},{key:"hide",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.bindShapesToDisplayState,e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.hidden=!0,this.groupMain.setAttribute("display","none"),this.getSymbolForLegend().setAttribute("opacity",.5),this.getTextForLegend().setAttribute("opacity",.5),this.hideImpl(),t)for(var i=this.graph.getShapesOfSerie(this),n=0,r=i.length;n<r;n++)i[n].hide();return e||this.emit("hide"),(this.getXAxis().doesHideWhenNoSeriesShown()||this.getYAxis().doesHideWhenNoSeriesShown())&&this.graph.draw(!0),this.graph.hasPlugin("peakPicking")&&this.graph.getPlugin("peakPicking").getSerie()==this&&this.graph.getPlugin("peakPicking").hidePeakPicking(),this}},{key:"show",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.bindShapesToDisplayState,e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.hidden=!1,this.groupMain.setAttribute("display","block"),this.getSymbolForLegend().setAttribute("opacity",1),this.getTextForLegend().setAttribute("opacity",1),this.showImpl(),this.draw(!0),t)for(var i=this.graph.getShapesOfSerie(this),n=0,r=i.length;n<r;n++)i[n].show();return e||this.emit("show"),(this.getXAxis().doesHideWhenNoSeriesShown()||this.getYAxis().doesHideWhenNoSeriesShown())&&this.graph.draw(!0),this.graph.hasPlugin("peakPicking")&&this.graph.getPlugin("peakPicking").getSerie()==this&&this.graph.getPlugin("peakPicking").showPeakPicking(),this}},{key:"hideImpl",value:function(){}},{key:"showImpl",value:function(){}},{key:"toggleDisplay",value:function(){return this.isShown()?this.hide():this.show(),this}},{key:"isShown",value:function(){return!this.hidden}},{key:"axisCheck",value:function(){if(!this.getXAxis()||!this.getYAxis())throw"No axis exist for this serie. Check that they were properly assigned";if(isNaN(this.getXAxis().getCurrentMin())||isNaN(this.getXAxis().getCurrentMax())||isNaN(this.getYAxis().getCurrentMin())||isNaN(this.getYAxis().getCurrentMax()))throw"Axis min and max values are not defined. Try autoscaling"}},{key:"getX",value:function(t){return(t=this.getXAxis().getPx(t))-t%.2}},{key:"getY",value:function(t){return(t=this.getYAxis().getPx(t))-t%.2}},{key:"isSelected",value:function(){return this.selected||"unselected"!==this.selectionType}},{key:"_checkX",value:function(t){this.minX=Math.min(this.minX,t),this.maxX=Math.max(this.maxX,t)}},{key:"_checkY",value:function(t){this.minY=Math.min(this.minY,t),this.maxY=Math.max(this.maxY,t)}},{key:"getName",value:function(){return this.name}},{key:"autoAxis",value:function(){return this.isFlipped()?(this.setXAxis(this.graph.getYAxis()),this.setYAxis(this.graph.getXAxis())):(this.setXAxis(this.graph.getXAxis()),this.setYAxis(this.graph.getYAxis())),this.graph.updateDataMinMaxAxes(),this}},{key:"autoAxes",value:function(){return this.autoAxis.apply(this,arguments)}},{key:"setXAxis",value:function(t){return this.xaxis="number"==typeof t?this.isFlipped()?this.graph.getYAxis(t):this.graph.getXAxis(t):t,this.graph.updateDataMinMaxAxes(),this}},{key:"setYAxis",value:function(t){return"number"==typeof t?this.xaxis=this.isFlipped()?this.graph.getXAxis(t):this.graph.getYAxis(t):this.yaxis=t,this.graph.updateDataMinMaxAxes(),this}},{key:"setAxes",value:function(){for(var t=0;t<2;t++)arguments[t]&&this[arguments[t].isX()?"setXAxis":"setYAxis"](arguments[t]);return this.graph.updateDataMinMaxAxes(),this}},{key:"getXAxis",value:function(){return this.xaxis}},{key:"getYAxis",value:function(){return this.yaxis}},{key:"getMinX",value:function(){return this.minX}},{key:"getMaxX",value:function(){return this.maxX}},{key:"getMinY",value:function(){return this.minY}},{key:"getMaxY",value:function(){return this.maxY}},{key:"getWaveform",value:function(){return this.waveform}},{key:"getWaveforms",value:function(){return[this.waveform]}},{key:"setWaveform",value:function(t){if(!(t instanceof a.Waveform))throw console.trace(),console.error(t),new Error("Cannot assign waveform to serie. Waveform is not of the proper Waveform instance");return this.waveform=t,this.minX=this.waveform.getXMin(),this.maxX=this.waveform.getXMax(),this.minY=this.waveform.getMin(),this.maxY=this.waveform.getMax(),this.graph.updateDataMinMaxAxes(),this.dataHasChanged(),this}},{key:"getSymbolForLegend",value:function(){if(!this.lineForLegend){var t=document.createElementNS(this.graph.ns,"line");this.applyLineStyle(t),t.setAttribute("x1",5),t.setAttribute("x2",25),t.setAttribute("y1",0),t.setAttribute("y2",0),t.setAttribute("cursor","pointer"),this.lineForLegend=t}return this.lineForLegend}},{key:"_getSymbolForLegendContainer",value:function(){return this._symbolLegendContainer}},{key:"setLegendSymbolStyle",value:function(){this.applyLineStyle(this.getSymbolForLegend())}},{key:"updateStyle",value:function(){this.setLegendSymbolStyle(),this.graph.updateLegend()}},{key:"getTextForLegend",value:function(){if(!this.textForLegend){var t=document.createElementNS(this.graph.ns,"text");t.setAttribute("cursor","pointer"),t.textContent=this.getLabel(),this.textForLegend=t}return this.textForLegend}},{key:"getIndex",value:function(){return this.graph.series.indexOf(this)}},{key:"getLabel",value:function(){return this.options.label||this.name}},{key:"setLabel",value:function(t){return this.options.label=t,this.textForLegend&&(this.textForLegend.textContent=t),this.graph.requireLegendUpdate(),this}},{key:"setFlip",value:function(t){return this.options.flip=t,this}},{key:"getFlip",value:function(){return this.options.flip}},{key:"isFlipped",value:function(){return this.options.flip}},{key:"setLayer",value:function(t){var e=parseInt(t)||1;return e!==this.options.layer&&(this.options.layer=e,this.graph.appendSerieToDom(this)),this}},{key:"getLayer",value:function(){return this.options.layer||1}},{key:"setStyle",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"unselected";this.styles[e]=t,this.styleHasChanged(e)}},{key:"styleHasChanged",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"unselected";if(this._changedStyles=this._changedStyles||{},!1===t)for(var e in this._changedStyles)this._changedStyles[e]=!1;else this._changedStyles[t||"unselected"]=!0;return this.graph.requireLegendUpdate(),this}},{key:"hasStyleChanged",value:function(t){return this._changedStyles=this._changedStyles||{},this._changedStyles[t||"unselected"]}},{key:"dataHasChanged",value:function(t){return this._dataHasChanged=void 0===t||t,this}},{key:"hasDataChanged",value:function(){return this._dataHasChanged}},{key:"setInfo",value:function(t,e){return this.infos=this.infos||{},this.infos[t]=e,this}},{key:"getInfo",value:function(t,e){return(this.infos||{})[t]}},{key:"setAdditionalData",value:function(t){return this.additionalData=t,this}},{key:"getAdditionalData",value:function(){return this.additionalData}},{key:"select",value:function(t){return"unselected"==t||(this.selected=!0),this}},{key:"unselect",value:function(){return this.selected=!1,this}},{key:"enableTracking",value:function(t,e){return this._tracker=!0,this}},{key:"disableTracking",value:function(){return this._trackerDom&&(this._trackerDom.remove(),this._trackerDom=null),this._tracker=!1,this}},{key:"allowTrackingLine",value:function(t){t=t||{},this.graph.addSerieToTrackingLine(this,t)}},{key:"getMarkerForLegend",value:function(){return!1}},{key:"getType",value:function(){return this._type}},{key:"excludeFromLegend",value:function(){return this._excludedFromLegend=!0,this}},{key:"includeInLegend",value:function(){return this._excludedFromLegend=!1,this}},{key:"setDataIndices",value:function(t,e){this.categoryIndices=t,this.nbCategories=e}},{key:"hasErrors",value:function(){return!!this.waveform&&this.waveform.hasErrorBars()}},{key:"type",get:function(){return this._type}}])&&u(e.prototype,i),n&&u(e,n),o}();t.default=n,o.exports=p.default},i=[p,t(52),t(5),t(53)],void 0===(n="function"==typeof(e=r)?e.apply(p,i):e)||(o.exports=n)},function(t,e,i){var n=i(4),r=i(3).document,o=n(r)&&n(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,i){var n=i(10),r=i(3),o="__core-js_shared__",s=r[o]||(r[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:i(33)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,i){e.f=i(6)},function(t,e,i){var n=i(70)("keys"),r=i(32);t.exports=function(t){return n[t]||(n[t]=r(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var n=i(26);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(3).document;t.exports=n&&n.documentElement},function(t,e,r){var i=r(4),n=r(2),o=function(t,e){if(n(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,i,n){try{(n=r(24)(Function.call,r(20).f(Object.prototype,"__proto__").set,2))(t,[]),i=!(t instanceof Array)}catch(t){i=!0}return function(t,e){return o(t,e),i?t.__proto__=e:n(t,e),t}}({},!1):void 0),check:o}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,i){var o=i(4),s=i(76).set;t.exports=function(t,e,i){var n,r=e.constructor;return r!==i&&"function"==typeof r&&(n=r.prototype)!==i.prototype&&o(n)&&s&&s(t,n),t}},function(t,e,i){"use strict";var r=i(19),o=i(27);t.exports=function(t){var e=String(o(this)),i="",n=r(t);if(n<0||n==1/0)throw RangeError("Count can't be negative");for(;0<n;(n>>>=1)&&(e+=e))1&n&&(i+=e);return i}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var i=Math.expm1;t.exports=!i||22025.465794806718<i(10)||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(t){return 0==(t=+t)?t:-1e-6<t&&t<1e-6?t+t*t/2:Math.exp(t)-1}:i},function(t,e,i){var u=i(19),l=i(27);t.exports=function(a){return function(t,e){var i,n,r=String(l(t)),o=u(e),s=r.length;return o<0||s<=o?a?"":void 0:(i=r.charCodeAt(o))<55296||56319<i||o+1===s||(n=r.charCodeAt(o+1))<56320||57343<n?a?r.charAt(o):i:a?r.slice(o,o+2):n-56320+(i-55296<<10)+65536}}},function(t,e,i){"use strict";var b=i(33),x=i(0),k=i(11),S=i(15),w=i(40),M=i(113),A=i(39),_=i(38),P=i(6)("iterator"),O=!([].keys&&"next"in[].keys()),C="values",L=function(){return this};t.exports=function(t,e,i,n,r,o,s){M(i,e,n);var a,u,l,h=function(t){if(!O&&t in d)return d[t];switch(t){case"keys":case C:return function(){return new i(this,t)}}return function(){return new i(this,t)}},c=e+" Iterator",f=r==C,p=!1,d=t.prototype,g=d[P]||d["@@iterator"]||r&&d[r],y=g||h(r),v=r?f?h("entries"):y:void 0,m="Array"==e&&d.entries||g;if(m&&(l=_(m.call(new t)))!==Object.prototype&&l.next&&(A(l,c,!0),b||"function"==typeof l[P]||S(l,P,L)),f&&g&&g.name!==C&&(p=!0,y=function(){return g.call(this)}),b&&!s||!O&&!p&&d[P]||S(d,P,y),w[e]=y,w[c]=L,r)if(a={values:f?y:h(C),keys:o?y:h("keys"),entries:v},s)for(u in a)u in d||k(d,u,a[u]);else x(x.P+x.F*(O||p),e,a);return a}},function(t,e,i){var n=i(85),r=i(27);t.exports=function(t,e,i){if(n(e))throw TypeError("String#"+i+" doesn't accept regex!");return String(r(t))}},function(t,e,i){var n=i(4),r=i(26),o=i(6)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},function(t,e,i){var n=i(6)("match");t.exports=function(e){var i=/./;try{"/./"[e](i)}catch(t){try{return i[n]=!1,!"/./"[e](i)}catch(t){}}return!0}},function(t,e,i){var n=i(40),r=i(6)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[r]===t)}},function(t,e,i){"use strict";var n=i(8),r=i(31);t.exports=function(t,e,i){e in t?n.f(t,e,r(0,i)):t[e]=i}},function(t,e,i){var n=i(49),r=i(6)("iterator"),o=i(40);t.exports=i(10).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[n(t)]}},function(t,e,i){"use strict";var a=i(12),u=i(35),l=i(7);t.exports=function(t){for(var e=a(this),i=l(e.length),n=arguments.length,r=u(1<n?arguments[1]:void 0,i),o=2<n?arguments[2]:void 0,s=void 0===o?i:u(o,i);r<s;)e[r++]=t;return e}},function(t,e,i){"use strict";var n=i(41),r=i(117),o=i(40),s=i(16);t.exports=i(83)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(t,e,i){"use strict";var n,r,o=i(58),s=RegExp.prototype.exec,a=String.prototype.replace,u=s,l="lastIndex",h=(n=/a/,r=/b*/g,s.call(n,"a"),s.call(r,"a"),0!==n[l]||0!==r[l]),c=void 0!==/()??/.exec("")[1];(h||c)&&(u=function(t){var e,i,n,r;return c&&(i=new RegExp("^"+this.source+"$(?!\\s)",o.call(this))),h&&(e=this[l]),n=s.call(this,t),h&&n&&(this[l]=this.global?n.index+n[0].length:e),c&&n&&1<n.length&&a.call(n[0],i,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(n[r]=void 0)}),n}),t.exports=u},function(t,e,i){"use strict";var n=i(82)(!0);t.exports=function(t,e,i){return e+(i?n(t,e).length:1)}},function(t,e,i){var n,r,o,s=i(24),a=i(107),u=i(75),l=i(69),h=i(3),c=h.process,f=h.setImmediate,p=h.clearImmediate,d=h.MessageChannel,g=h.Dispatch,y=0,v={},m="onreadystatechange",b=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},x=function(t){b.call(t.data)};f&&p||(f=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return v[++y]=function(){a("function"==typeof t?t:Function(t),e)},n(y),y},p=function(t){delete v[t]},"process"==i(26)(c)?n=function(t){c.nextTick(s(b,t,1))}:g&&g.now?n=function(t){g.now(s(b,t,1))}:d?(o=(r=new d).port2,r.port1.onmessage=x,n=s(o.postMessage,o,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(n=function(t){h.postMessage(t+"","*")},h.addEventListener("message",x,!1)):n=m in l("script")?function(t){u.appendChild(l("script"))[m]=function(){u.removeChild(this),b.call(t)}}:function(t){setTimeout(s(b,t,1),0)}),t.exports={set:f,clear:p}},function(t,e,i){"use strict";var n=i(3),r=i(9),o=i(33),s=i(64),a=i(15),u=i(44),l=i(1),h=i(43),c=i(19),f=i(7),p=i(125),d=i(37).f,g=i(8).f,y=i(90),v=i(39),m="ArrayBuffer",b="DataView",x="prototype",k="Wrong index!",S=n[m],w=n[b],M=n.Math,A=n.RangeError,_=n.Infinity,P=S,O=M.abs,C=M.pow,L=M.floor,E=M.log,T=M.LN2,j="byteLength",D="byteOffset",X=r?"_b":"buffer",N=r?"_l":j,I=r?"_o":D;function Y(t,e,i){var n,r,o,s=new Array(i),a=8*i-e-1,u=(1<<a)-1,l=u>>1,h=23===e?C(2,-24)-C(2,-77):0,c=0,f=t<0||0===t&&1/t<0?1:0;for((t=O(t))!=t||t===_?(r=t!=t?1:0,n=u):(n=L(E(t)/T),t*(o=C(2,-n))<1&&(n--,o*=2),2<=(t+=1<=n+l?h/o:h*C(2,1-l))*o&&(n++,o/=2),u<=n+l?(r=0,n=u):1<=n+l?(r=(t*o-1)*C(2,e),n+=l):(r=t*C(2,l-1)*C(2,e),n=0));8<=e;s[c++]=255&r,r/=256,e-=8);for(n=n<<e|r,a+=e;0<a;s[c++]=255&n,n/=256,a-=8);return s[--c]|=128*f,s}function F(t,e,i){var n,r=8*i-e-1,o=(1<<r)-1,s=o>>1,a=r-7,u=i-1,l=t[u--],h=127&l;for(l>>=7;0<a;h=256*h+t[u],u--,a-=8);for(n=h&(1<<-a)-1,h>>=-a,a+=e;0<a;n=256*n+t[u],u--,a-=8);if(0===h)h=1-s;else{if(h===o)return n?NaN:l?-_:_;n+=C(2,e),h-=s}return(l?-1:1)*n*C(2,h-e)}function B(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function R(t){return[255&t]}function H(t){return[255&t,t>>8&255]}function W(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function z(t){return Y(t,52,8)}function V(t){return Y(t,23,4)}function U(t,e,i){g(t[x],e,{get:function(){return this[i]}})}function G(t,e,i,n){var r=p(+i);if(r+e>t[N])throw A(k);var o=t[X]._b,s=r+t[I],a=o.slice(s,s+e);return n?a:a.reverse()}function Z(t,e,i,n,r,o){var s=p(+i);if(s+e>t[N])throw A(k);for(var a=t[X]._b,u=s+t[I],l=n(+r),h=0;h<e;h++)a[u+h]=l[o?h:e-h-1]}if(s.ABV){if(!l(function(){S(1)})||!l(function(){new S(-1)})||l(function(){return new S,new S(1.5),new S(NaN),S.name!=m})){for(var q,K=(S=function(t){return h(this,S),new P(p(t))})[x]=P[x],Q=d(P),J=0;Q.length>J;)(q=Q[J++])in S||a(S,q,P[q]);o||(K.constructor=S)}var $=new w(new S(2)),tt=w[x].setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||u(w[x],{setInt8:function(t,e){tt.call(this,t,e<<24>>24)},setUint8:function(t,e){tt.call(this,t,e<<24>>24)}},!0)}else S=function(t){h(this,S,m);var e=p(t);this._b=y.call(new Array(e),0),this[N]=e},w=function(t,e,i){h(this,w,b),h(t,S,b);var n=t[N],r=c(e);if(r<0||n<r)throw A("Wrong offset!");if(n<r+(i=void 0===i?n-r:f(i)))throw A("Wrong length!");this[X]=t,this[I]=r,this[N]=i},r&&(U(S,j,"_l"),U(w,"buffer","_b"),U(w,j,"_l"),U(w,D,"_o")),u(w[x],{getInt8:function(t){return G(this,1,t)[0]<<24>>24},getUint8:function(t){return G(this,1,t)[0]},getInt16:function(t){var e=G(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=G(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return B(G(this,4,t,arguments[1]))},getUint32:function(t){return B(G(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return F(G(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return F(G(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){Z(this,1,t,R,e)},setUint8:function(t,e){Z(this,1,t,R,e)},setInt16:function(t,e){Z(this,2,t,H,e,arguments[2])},setUint16:function(t,e){Z(this,2,t,H,e,arguments[2])},setInt32:function(t,e){Z(this,4,t,W,e,arguments[2])},setUint32:function(t,e){Z(this,4,t,W,e,arguments[2])},setFloat32:function(t,e){Z(this,4,t,V,e,arguments[2])},setFloat64:function(t,e){Z(this,8,t,z,e,arguments[2])}});v(S,m),v(w,b),a(w[x],s.VIEW,!0),e[m]=S,e[b]=w},function(r,c,t){var e,i,n,o;o=function(t,o){"use strict";var e;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t,e,i){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o=(e=o)&&e.__esModule?e:{default:e};var n=function(t){function r(t,e){var i,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(i=a(this,l(r).call(this,t,e,n))).top="top"==e,i}var e,i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(r,o.default),e=r,(i=[{key:"getAxisPosition",value:function(){return this.options.display?(0==this.options.tickLabelOffset?(t=1==this.options.tickPosition?8:20,t+=1*this.graph.options.fontSize):t=1==this.options.tickPosition?0:12,this.getLabel()&&(t+=this.graph.options.fontSize),t):0;var t}},{key:"isX",value:function(){return!0}},{key:"isY",value:function(){return!1}},{key:"forceHeight",value:function(t){return this.options.forcedHeight=t,this}},{key:"setShift",value:function(t){this.shift=t,void 0!==this.getShift()&&this.graph.getDrawingHeight()&&this.group.setAttribute("transform","translate(0 ".concat(this.floating?this.getShift():this.top?this.shift:this.graph.getDrawingHeight()-this.shift,")"))}},{key:"getMaxSizeTick",value:function(){return(this.top?-1:1)*(this.options.tickPosition,10)}},{key:"drawTick",value:function(t,e,i,n){var r,o=this,s=this;if(null!=(r=n||this.getPos(t))&&!isNaN(r)){var a=this.nextTick(e,function(t){t.setAttribute("y1",(s.top?1:-1)*s.tickPx1*s.tickScaling[e]),t.setAttribute("y2",(s.top?1:-1)*s.tickPx2*s.tickScaling[e]),1==e?t.setAttribute("stroke",s.getPrimaryTicksColor()):t.setAttribute("stroke",s.getSecondaryTicksColor())});if(a.setAttribute("x1",r),a.setAttribute("x2",r),this.nextGridLine(1==e,r,r,0,this.graph.getDrawingHeight()),1==e){var u=this.nextTickLabel(function(t){t.setAttribute("y",(s.top?-1:1)*((1==s.options.tickPosition?8:20)+(s.top?10:0))+o.options.tickLabelOffset),t.setAttribute("text-anchor","middle"),"black"!==s.getTicksLabelColor()&&t.setAttribute("fill",s.getTicksLabelColor()),t.style.dominantBaseline="hanging"});u.setAttribute("x",r),this.setTickContent(u,t,i)}return[a,u]}}},{key:"drawLabel",value:function(){"black"!==this.getLabelColor()&&this.label.setAttribute("fill",this.getLabelColor()),this.options.labelFont&&this.label.setAttribute("font-family",this.options.labelFont),this.label.setAttribute("text-anchor","middle"),this.label.setAttribute("style","display: initial;"),this.label.setAttribute("x",Math.abs(this.getMaxPx()+this.getMinPx())/2),this.label.setAttribute("y",(this.top?-1:1)*((1==this.options.tickPosition?10:25)+this.graph.options.fontSize)),this.labelTspan.textContent=this.getLabel()}},{key:"draw",value:function(){var t=u(l(r.prototype),"draw",this).apply(this,arguments);return this.drawSpecifics(),t}},{key:"drawSpecifics",value:function(){this.drawLabel(),this.line.setAttribute("x1",this.getMinPx()),this.line.setAttribute("x2",this.getMaxPx()),this.line.setAttribute("y1",0),this.line.setAttribute("y2",0),this.line.setAttribute("stroke",this.getAxisColor()),this.top||(this.labelTspan.style.dominantBaseline="hanging",this.expTspan.style.dominantBaseline="hanging",this.expTspanExp.style.dominantBaseline="hanging",this.unitTspan.style.dominantBaseline="hanging");var t=this.getSpan();this.line.setAttribute("marker-start",this.options.splitMarks&&0!=t[0]?"url(#horionzalsplit_".concat(this.graph.getId(),")"):""),this.line.setAttribute("marker-end",this.options.splitMarks&&1!=t[1]?"url(#horionzalsplit_".concat(this.graph.getId(),")"):"")}},{key:"_drawLine",value:function(t,e){var i=this.getPx(t);return e?e.setAttribute("display","initial"):e=document.createElementNS(this.graph.ns,"line"),e.setAttribute("x1",i),e.setAttribute("x2",i),e.setAttribute("y1",0),e.setAttribute("y2",this.graph.drawingSpaceHeight),e.setAttribute("stroke","black"),this.group.appendChild(e),e}},{key:"_hideLine",value:function(t){t&&t.setAttribute("display","none")}},{key:"handleMouseMoveLocal",value:function(t){t-=this.graph.getPaddingLeft(),this.mouseVal=this.getVal(t)}},{key:"setMinMaxFlipped",value:function(){var t=this.maxPx-this.minPx;if(!isNaN(t)){var e=t*this.options.span[1]+this.minPx-this.options.marginMax,i=t*this.options.span[0]+this.minPx+this.options.marginMin;this.minPxFlipped=this.isFlipped()?e:i,this.maxPxFlipped=this.isFlipped()?i:e}}},{key:"getZProj",value:function(t){return t*this.graph.options.zAxis.shiftX}}])&&s(e.prototype,i),n&&s(e,n),r}();t.default=n,r.exports=c.default},i=[c,t(66)],void 0===(n="function"==typeof(e=o)?e.apply(c,i):e)||(r.exports=n)},function(d,g,t){var e,i,n,r;r=function(t,u,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,i){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,u=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(u),e=i(e),r=i(r);var p={markers:!0,markerStyles:{unselected:{default:{shape:"circle",cx:0,cy:0,r:3,stroke:"transparent",fill:"black"}},selected:{default:{r:4}}}},n=function(t){function a(t,e,i,n){var r,o,s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),o=this,s=h(a).call(this,t,e,i,u.extend(!0,{},p,n)),(r=!s||"object"!==l(s)&&"function"!=typeof s?f(o):s)._type="scatter",u.mapEventEmission(r.options,f(f(r))),r.shapes=[],r.shapesDetails=[],r.shapes=[],r.keys=[],r.groupMarkers=document.createElementNS(r.graph.ns,"g"),r.groupMain.appendChild(r.groupMarkers),r.groupMarkers.addEventListener("mouseenter",function(t){var e=parseInt(t.target.parentElement.getAttribute("data-shapeid"));isNaN(e)||(r.options.selectMarkerOnHover&&r.selectMarker(e,"selected"),r.emit("mouseOverMarker",e,r.waveform.getX(e),r.waveform.getY(e)))},!0),r.groupMarkers.addEventListener("mouseout",function(t){var e=parseInt(t.target.parentElement.getAttribute("data-shapeid"));isNaN(e)||(r.options.selectMarkerOnHover&&r.selectMarker(e,"unselected"),r.emit("mouseOutMarker",e,r.waveform.getX(e),r.waveform.getY(e)))}),r}var e,i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(a,r.default),e=a,(i=[{key:"setDataCategory",value:function(t){var e=!0,i=!1,n=void 0;try{for(var r,o=t[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;this._checkY(s.y.getMaxY()),this._checkY(s.y.getMinY())}}catch(t){i=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw n}}return this.data=t,this.dataHasChanged(),this.graph.updateDataMinMaxAxes(),this}},{key:"empty",value:function(){for(;this.groupMarkers.firstChild;)this.groupMarkers.removeChild(this.groupMarkers.firstChild)}},{key:"getSymbolForLegend",value:function(){if(this.markers){var t=s(h(a.prototype),"_getSymbolForLegendContainer",this).call(this);this.shapeLegend||(this.shapeLegend=this._makeMarker(t,this.options.markerStyles.unselected.default),t.appendChild(this.shapeLegend));var e=this.getMarkerStyle("unselected",-1,!0);for(var i in e[-1])"shape"!=i&&this.shapeLegend.setAttribute(i,e[-1][i]);return t}}},{key:"setStyle",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"unselected";return this.setMarkerStyle(t,void 0,e)}},{key:"setMarkerStyle",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"unselected";return"string"==typeof e&&(i=e,e=!1),this.options.markerStyles[i]=this.options.markerStyles[i]||{},this.options.markerStyles[i].all=t,this.options.markerStyles[i].modifiers=e,this.styleHasChanged(i),this}},{key:"draw",value:function(t){if((t||this.hasDataChanged()||this.hasStyleChanged("unselected"))&&this.options.markers){var e,i,n,r="category"==this.getXAxis().getType(),o=[];if(this.dataHasChanged(!1),this.styleHasChanged(!1),this.groupMain.removeChild(this.groupMarkers),n=0,this.hasErrors()&&this.errorDrawInit(),r){for(var s=0;n<this.data.length;n++)if(this.categoryIndices.hasOwnProperty(this.data[n].x)){this.error;for(var a=0,u=this.data[n].y.getLength();a<u;a++)i=this.getY(this.data[n].y.getY(a)),e=this.getX(a/(u-1)*(.8/this.nbCategories)+this.categoryIndices[this.data[n].x]+.1/this.nbCategories),a++,this.shapesDetails[s]=this.shapesDetails[s]||[],this.shapesDetails[s][0]=e,this.shapesDetails[s][1]=i,o.push(s),s++}}else for(;n<this.waveform.getLength();n++)this.waveform.getX(n)<this.getXAxis().getCurrentMin()||this.waveform.getX(n)>this.getXAxis().getCurrentMax()||this.waveform.getY(n)<this.getYAxis().getCurrentMin()||this.waveform.getY(n)>this.getYAxis().getCurrentMax()?this.shapes[n]&&(this.shapes[n].setAttribute("display","none"),this.shapes[n]._hidden=!0):(this.shapes[n]&&this.shapes[n]._hidden&&(this.shapes[n].setAttribute("display","initial"),this.shapes[n]._hidden=!1),e=this.getX(this.waveform.getX(n)),i=this.getY(this.waveform.getY(n)),this.hasErrors()&&this.errorAddPoint(n,this.waveform.getX(n),this.waveform.getY(n),e,i),this.shapesDetails[n]=this.shapesDetails[n]||[],this.shapesDetails[n][0]=e,this.shapesDetails[n][1]=i,o.push(n));this.hasErrors()&&this.errorDraw(),this.applyMarkerStyle(this.selectionType||"unselected",o),this.keys=o,this.groupMain.appendChild(this.groupMarkers)}}},{key:"_makeMarker",value:function(t,e){var i=document.createElementNS(this.graph.ns,e.shape);return t.appendChild(i),i}},{key:"getMarkerStyle",value:function(t,e,i){t=t||"unselected";var n,r,o,s,a={};"number"==typeof e?n=[e]:Array.isArray(e)&&(n=e),this.options.markerStyles[t]||(t="unselected");var u=this.options.markerStyles[t].all;u||(u=this.options.markerStyles[t].default),"function"==typeof u&&(u=u());var l=this.options.markerStyles[t].default?this.options.markerStyles[t].default:this.options.markerStyles.unselected.default;u=Object.assign({},l,u);for(var h=0,c=n.length;h<c;h++){if(e=n[h],r=this.shapes[e],(o=this.options.markerStyles[t].modifiers)&&("function"==typeof o||o[e])){if("function"==typeof o){if(!1===(s=o(this.waveform.getX(e),this.waveform.getY(e),e,r,u)))continue}else o[e]&&(s=o[e]);a[e]=Object.assign({},u,s)}else a[e]=void 0!==u?u:this.options.markerStyles[t].default;if(a[e]||(a[e]=u),!r){if(!a[e].shape)throw console.error(s),'No shape was defined with the style "'.concat(s,'".');var f=document.createElementNS(this.graph.ns,"g");f.setAttribute("data-shapeid",e),this.shapes[e]=this._makeMarker(f,a[e]),this.groupMarkers.appendChild(f),r=this.shapes[e]}i||this.shapesDetails[e][0]!=this.shapesDetails[e][0]||this.shapesDetails[e][1]!=this.shapesDetails[e][1]||r.parentNode.setAttribute("transform","translate(".concat(this.shapesDetails[e][0],", ").concat(this.shapesDetails[e][1],")"))}return a}},{key:"applyMarkerStyle",value:function(t,e,i){var n,r,o=this.getMarkerStyle(t,e,i);for(n in o)for(r in o[n])"shape"!==r&&this.shapes[n]&&(o[n][r]?this.shapes[n].setAttribute(r,o[n][r]):this.shapes[n].removeAttribute(r))}},{key:"unselectMarker",value:function(t){this.selectMarker(t,!1)}},{key:"selectMarker",value:function(t,e,i){if(!this.shapesDetails[t][2]||this.shapesDetails[t][2]!=i){if("string"==typeof e&&(i=e,e=void 0),Array.isArray(t))return this.selectMarkers(t);if(this.shapes[t]&&this.shapesDetails[t])if(!this.shapesDetails[t][2]&&!1!==e||!0===e)i=i||"selected",this.shapesDetails[t][2]=i,this.applyMarkerStyle(i,t,!0);else{var n=this.shapesDetails[t][2];this.shapesDetails[t][2]=!1;var r=this.getMarkerStyle(n,t,!0);for(var o in r[t])this.shapes[t].removeAttribute(o);this.applyMarkerStyle("unselected",t,!0)}}}},{key:"select",value:function(t){this.selectionType=t,this.applyMarkerStyle(this.selectionType||"selected",this.keys),s(h(a.prototype),"select",this).call(this,t)}},{key:"unselect",value:function(){this.selectionType="unselected",this.applyMarkerStyle(this.selectionType||"unselected",this.keys),s(h(a.prototype),"unselect",this).call(this)}},{key:"setMarkers",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return this.options.markers=t,this}},{key:"showMarkers",value:function(){if(!this.options.markers)return this.options.markers=!0,this.groupMarkers.setAttribute("display","initial"),this.shapeLegend&&this.shapeLegend.setAttribute("display","initial"),this}},{key:"hideMarkers",value:function(){if(this.options.markers)return this.options.markers=!1,this.groupMarkers.setAttribute("display","none"),this.shapeLegend&&this.shapeLegend.setAttribute("display","none"),this}},{key:"getUsedCategories",value:function(){return"object"==l(this.data[0])?this.data.map(function(t){return t.x}):[]}},{key:"getClosestPointToXY",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getXAxis().getMouseVal(),e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.getYAxis().getMouseVal(),i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,r=(4<arguments.length&&void 0!==arguments[4]&&arguments[4],!(5<arguments.length&&void 0!==arguments[5])||arguments[5]),o=this.getXAxis().getRelVal(i),s=this.getYAxis().getRelVal(n),a=this.waveform.findWithShortestDistance({x:t,y:e,xMax:o,yMax:s,interpolation:!1,scaleX:r?1/this.getXAxis().getRelVal(1):1,scaleY:r?1/this.getYAxis().getRelVal(1):1});return{indexBefore:a,indexAfter:a,xBefore:this.waveform.getX(a),xAfter:this.waveform.getX(a),yBefore:this.waveform.getY(a),yAfter:this.waveform.getX(a),xExact:t,indexClosest:a,interpolatedY:this.waveform.getY(a),xClosest:this.waveform.getX(a),yClosest:this.waveform.getY(a)}}}])&&o(e.prototype,i),n&&o(e,n),a}();u.mix(n,e.default);var a=n;t.default=a,d.exports=g.default},i=[g,t(5),t(67),t(68)],void 0===(n="function"==typeof(e=r)?e.apply(g,i):e)||(d.exports=n)},function(r,h,t){var e,i,n,o;o=function(t,o){"use strict";var e;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o=(e=o)&&e.__esModule?e:{default:e};var n=function(t){function i(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),a(this,u(i).call(this,t,e))}var e,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(i,o.default),e=i,(n=[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"line"),this.getStrokeColor()||this.setStrokeColor("black"),void 0===this.getStrokeWidth()&&this.setStrokeWidth(1)}},{key:"createHandles",value:function(){this._createHandles(2,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"applyPosition",value:function(){var t=this.calculatePosition(0),e=this.calculatePosition(1);if(t&&t.x&&t.y)return this.setDom("x2",t.x),this.setDom("y2",t.y),this.setDom("y1",e.y),this.setDom("x1",e.x),this.currentPos2x=e.x,this.currentPos2y=e.y,this.currentPos1x=t.x,this.currentPos1y=t.y,!0}},{key:"handleMouseMoveImpl",value:function(t,e,i,n,r){if(!this.isLocked()){var o,s=this.getPosition(0),a=this.getPosition(1);if(1==this.handleSelected?o=s:2==this.handleSelected&&(o=a),o&&(this._data.vertical||o.deltaPosition("x",e,this.getXAxis()),this._data.horizontal||o.deltaPosition("y",i,this.getYAxis())),this.moving&&(console.log(this._data),s.x&&!this._data.noX&&s.deltaPosition("x",e,this.getXAxis()),s.y&&!this._data.noY&&s.deltaPosition("y",i,this.getYAxis()),a.x&&!this._data.noX&&a.deltaPosition("x",e,this.getXAxis()),a.y&&!this._data.noY&&a.deltaPosition("y",i,this.getYAxis())),this._data.forcedCoords){var u=this._data.forcedCoords;void 0!==u.y&&("function"==typeof u.y?a.y=s.y=u.y(this):(a.y=u.y,s.y=u.y)),void 0!==u.x&&("function"==typeof u.x?a.x=s.x=u.x(this):(a.x=u.x,s.x=u.x))}return this.rectEvent&&this.setEventReceptacle(),this.redraw(),this.changed(),this.setHandles(),!0}}},{key:"setHandles",value:function(){this.areHandlesInDom()&&(isNaN(this.currentPos1x)||(this.handles[1].setAttribute("x",this.currentPos1x),this.handles[1].setAttribute("y",this.currentPos1y),this.handles[2].setAttribute("x",this.currentPos2x),this.handles[2].setAttribute("y",this.currentPos2y)))}},{key:"setEventReceptacle",value:function(){this.currentPos1x&&(this.rectEvent||(this.rectEvent=document.createElementNS(this.graph.ns,"line"),this.rectEvent.setAttribute("pointer-events","stroke"),this.rectEvent.setAttribute("stroke","transparent"),(this.rectEvent.jsGraphIsShape=this).group.appendChild(this.rectEvent)),this.rectEvent.setAttribute("x1",this.currentPos1x),this.rectEvent.setAttribute("y1",this.currentPos1y),this.rectEvent.setAttribute("x2",this.currentPos2x),this.rectEvent.setAttribute("y2",this.currentPos2y),this.rectEvent.setAttribute("stroke-width",this.getProp("strokeWidth")+2))}}])&&s(e.prototype,n),r&&s(e,r),i}();t.default=n,r.exports=h.default},i=[h,t(18)],void 0===(n="function"==typeof(e=o)?e.apply(h,i):e)||(r.exports=n)},function(t,e,i){t.exports=!i(9)&&!i(1)(function(){return 7!=Object.defineProperty(i(69)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){var n=i(3),r=i(10),o=i(33),s=i(71),a=i(8).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,i){var s=i(14),a=i(16),u=i(54)(!1),l=i(72)("IE_PROTO");t.exports=function(t,e){var i,n=a(t),r=0,o=[];for(i in n)i!=l&&s(n,i)&&o.push(i);for(;e.length>r;)s(n,i=e[r++])&&(~u(o,i)||o.push(i));return o}},function(t,e,i){var s=i(8),a=i(2),u=i(34);t.exports=i(9)?Object.defineProperties:function(t,e){a(t);for(var i,n=u(e),r=n.length,o=0;o<r;)s.f(t,i=n[o++],e[i]);return t}},function(t,e,i){var n=i(16),r=i(37).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return s.slice()}}(t):r(n(t))}},function(t,e,i){"use strict";var f=i(34),p=i(55),d=i(48),g=i(12),y=i(47),r=Object.assign;t.exports=!r||i(1)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=r({},t)[i]||Object.keys(r({},e)).join("")!=n})?function(t,e){for(var i=g(t),n=arguments.length,r=1,o=p.f,s=d.f;r<n;)for(var a,u=y(arguments[r++]),l=o?f(u).concat(o(u)):f(u),h=l.length,c=0;c<h;)s.call(u,a=l[c++])&&(i[a]=u[a]);return i}:r},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,i){"use strict";var o=i(25),s=i(4),a=i(107),u=[].slice,l={};t.exports=Function.bind||function(e){var i=o(this),n=u.call(arguments,1),r=function(){var t=n.concat(u.call(arguments));return this instanceof r?function(t,e,i){if(!(e in l)){for(var n=[],r=0;r<e;r++)n[r]="a["+r+"]";l[e]=Function("F,a","return new F("+n.join(",")+")")}return l[e](t,i)}(i,t.length,t):a(i,t,e)};return s(i.prototype)&&(r.prototype=i.prototype),r}},function(t,e){t.exports=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){var n=i(3).parseInt,r=i(56).trim,o=i(77),s=/^[-+]?0[xX]/;t.exports=8!==n(o+"08")||22!==n(o+"0x16")?function(t,e){var i=r(String(t),3);return n(i,e>>>0||(s.test(i)?16:10))}:n},function(t,e,i){var n=i(3).parseFloat,r=i(56).trim;t.exports=1/n(i(77)+"-0")!=-1/0?function(t){var e=r(String(t),3),i=n(e);return 0===i&&"-"==e.charAt(0)?-0:i}:n},function(t,e,i){var n=i(26);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=n(t))throw TypeError(e);return+t}},function(t,e,i){var n=i(4),r=Math.floor;t.exports=function(t){return!n(t)&&isFinite(t)&&r(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return-1e-8<(t=+t)&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,i){"use strict";var n=i(36),r=i(31),o=i(39),s={};i(15)(s,i(6)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(s,{next:r(1,i)}),o(t,e+" Iterator")}},function(t,e,i){var o=i(2);t.exports=function(e,t,i,n){try{return n?t(o(i)[0],i[1]):t(i)}catch(t){var r=e.return;throw void 0!==r&&o(r.call(e)),t}}},function(t,e,i){var h=i(25),c=i(12),f=i(47),p=i(7);t.exports=function(t,e,i,n,r){h(e);var o=c(t),s=f(o),a=p(o.length),u=r?a-1:0,l=r?-1:1;if(i<2)for(;;){if(u in s){n=s[u],u+=l;break}if(u+=l,r?u<0:a<=u)throw TypeError("Reduce of empty array with no initial value")}for(;r?0<=u:u<a;u+=l)u in s&&(n=e(n,s[u],u,o));return n}},function(t,e,i){"use strict";var l=i(12),h=i(35),c=i(7);t.exports=[].copyWithin||function(t,e){var i=l(this),n=c(i.length),r=h(t,n),o=h(e,n),s=2<arguments.length?arguments[2]:void 0,a=Math.min((void 0===s?n:h(s,n))-o,n-r),u=1;for(o<r&&r<o+a&&(u=-1,o+=a-1,r+=a-1);0<a--;)o in i?i[r]=i[o]:delete i[r],r+=u,o+=u;return i}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){"use strict";var n=i(92);i(0)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},function(t,e,i){i(9)&&"g"!=/./g.flags&&i(8).f(RegExp.prototype,"flags",{configurable:!0,get:i(58)})},function(t,e,i){"use strict";var n,r,o,s,a=i(33),u=i(3),l=i(24),h=i(49),c=i(0),f=i(4),p=i(25),d=i(43),g=i(61),y=i(50),v=i(94).set,m=i(249)(),b=i(121),x=i(250),k=i(62),S=i(122),w="Promise",M=u.TypeError,A=u.process,_=A&&A.versions,P=_&&_.v8||"",O=u[w],C="process"==h(A),L=function(){},E=r=b.f,T=!!function(){try{var t=O.resolve(1),e=(t.constructor={})[i(6)("species")]=function(t){t(L,L)};return(C||"function"==typeof PromiseRejectionEvent)&&t.then(L)instanceof e&&0!==P.indexOf("6.6")&&-1===k.indexOf("Chrome/66")}catch(t){}}(),j=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},D=function(h,i){if(!h._n){h._n=!0;var n=h._c;m(function(){for(var u=h._v,l=1==h._s,t=0,e=function(t){var e,i,n,r=l?t.ok:t.fail,o=t.resolve,s=t.reject,a=t.domain;try{r?(l||(2==h._h&&I(h),h._h=1),!0===r?e=u:(a&&a.enter(),e=r(u),a&&(a.exit(),n=!0)),e===t.promise?s(M("Promise-chain cycle")):(i=j(e))?i.call(e,o,s):o(e)):s(u)}catch(t){a&&!n&&a.exit(),s(t)}};n.length>t;)e(n[t++]);h._c=[],h._n=!1,i&&!h._h&&X(h)})}},X=function(o){v.call(u,function(){var t,e,i,n=o._v,r=N(o);if(r&&(t=x(function(){C?A.emit("unhandledRejection",n,o):(e=u.onunhandledrejection)?e({promise:o,reason:n}):(i=u.console)&&i.error&&i.error("Unhandled promise rejection",n)}),o._h=C||N(o)?2:1),o._a=void 0,r&&t.e)throw t.v})},N=function(t){return 1!==t._h&&0===(t._a||t._c).length},I=function(e){v.call(u,function(){var t;C?A.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},Y=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},F=function(t){var i,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw M("Promise can't be resolved itself");(i=j(t))?m(function(){var e={_w:n,_d:!1};try{i.call(t,l(F,e,1),l(Y,e,1))}catch(t){Y.call(e,t)}}):(n._v=t,n._s=1,D(n,!1))}catch(t){Y.call({_w:n,_d:!1},t)}}};T||(O=function(t){d(this,O,w,"_h"),p(t),n.call(this);try{t(l(F,this,1),l(Y,this,1))}catch(t){Y.call(this,t)}},(n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(44)(O.prototype,{then:function(t,e){var i=E(y(this,O));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=C?A.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&D(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new n;this.promise=t,this.resolve=l(F,t,1),this.reject=l(Y,t,1)},b.f=E=function(t){return t===O||t===s?new o(t):r(t)}),c(c.G+c.W+c.F*!T,{Promise:O}),i(39)(O,w),i(42)(w),s=i(10)[w],c(c.S+c.F*!T,w,{reject:function(t){var e=E(this);return(0,e.reject)(t),e.promise}}),c(c.S+c.F*(a||!T),w,{resolve:function(t){return S(a&&this===s?O:this,t)}}),c(c.S+c.F*!(T&&i(57)(function(t){O.all(t).catch(L)})),w,{all:function(t){var s=this,e=E(s),a=e.resolve,u=e.reject,i=x(function(){var n=[],r=0,o=1;g(t,!1,function(t){var e=r++,i=!1;n.push(void 0),o++,s.resolve(t).then(function(t){i||(i=!0,n[e]=t,--o||a(n))},u)}),--o||a(n)});return i.e&&u(i.v),e.promise},race:function(t){var e=this,i=E(e),n=i.reject,r=x(function(){g(t,!1,function(t){e.resolve(t).then(i.resolve,n)})});return r.e&&n(r.v),i.promise}})},function(t,e,i){"use strict";var r=i(25);function n(t){var i,n;this.promise=new t(function(t,e){if(void 0!==i||void 0!==n)throw TypeError("Bad Promise constructor");i=t,n=e}),this.resolve=r(i),this.reject=r(n)}t.exports.f=function(t){return new n(t)}},function(t,e,i){var n=i(2),r=i(4),o=i(121);t.exports=function(t,e){if(n(t),r(e)&&e.constructor===t)return e;var i=o.f(t);return(0,i.resolve)(e),i.promise}},function(t,e,i){"use strict";var s=i(8).f,a=i(36),u=i(44),l=i(24),h=i(43),c=i(61),n=i(83),r=i(117),o=i(42),f=i(9),p=i(30).fastKey,d=i(45),g=f?"_s":"size",y=function(t,e){var i,n=p(e);if("F"!==n)return t._i[n];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,o,i,n){var r=t(function(t,e){h(t,r,o,"_i"),t._t=o,t._i=a(null),t._f=void 0,t._l=void 0,t[g]=0,null!=e&&c(e,i,t[n],t)});return u(r.prototype,{clear:function(){for(var t=d(this,o),e=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete e[i.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var e=d(this,o),i=y(e,t);if(i){var n=i.n,r=i.p;delete e._i[i.i],i.r=!0,r&&(r.n=n),n&&(n.p=r),e._f==i&&(e._f=n),e._l==i&&(e._l=r),e[g]--}return!!i},forEach:function(t){d(this,o);for(var e,i=l(t,1<arguments.length?arguments[1]:void 0,3);e=e?e.n:this._f;)for(i(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!y(d(this,o),t)}}),f&&s(r.prototype,"size",{get:function(){return d(this,o)[g]}}),r},def:function(t,e,i){var n,r,o=y(t,e);return o?o.v=i:(t._l=o={i:r=p(e,!0),k:e,v:i,p:n=t._l,n:void 0,r:!1},t._f||(t._f=o),n&&(n.n=o),t[g]++,"F"!==r&&(t._i[r]=o)),t},getEntry:y,setStrong:function(t,i,e){n(t,i,function(t,e){this._t=d(t,i),this._k=e,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?r(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,r(1))},e?"entries":"values",!e,!0),o(i)}}},function(t,e,i){"use strict";var s=i(44),a=i(30).getWeak,r=i(2),u=i(4),l=i(43),h=i(61),n=i(22),c=i(14),f=i(45),o=n(5),p=n(6),d=0,g=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},v=function(t,e){return o(t.a,function(t){return t[0]===e})};y.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var i=v(this,t);i?i[1]=e:this.a.push([t,e])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(t,i,n,r){var o=t(function(t,e){l(t,o,i,"_i"),t._t=i,t._i=d++,t._l=void 0,null!=e&&h(e,n,t[r],t)});return s(o.prototype,{delete:function(t){if(!u(t))return!1;var e=a(t);return!0===e?g(f(this,i)).delete(t):e&&c(e,this._i)&&delete e[this._i]},has:function(t){if(!u(t))return!1;var e=a(t);return!0===e?g(f(this,i)).has(t):e&&c(e,this._i)}}),o},def:function(t,e,i){var n=a(r(e),!0);return!0===n?g(t).set(e,i):n[t._i]=i,t},ufstore:g}},function(t,e,i){var n=i(19),r=i(7);t.exports=function(t){if(void 0===t)return 0;var e=n(t),i=r(e);if(e!==i)throw RangeError("Wrong length!");return i}},function(t,e,i){var n=i(37),r=i(55),o=i(2),s=i(3).Reflect;t.exports=s&&s.ownKeys||function(t){var e=n.f(o(t)),i=r.f;return i?e.concat(i(t)):e}},function(t,e,i){var h=i(7),c=i(79),f=i(27);t.exports=function(t,e,i,n){var r=String(f(t)),o=r.length,s=void 0===i?" ":String(i),a=h(e);if(a<=o||""==s)return r;var u=a-o,l=c.call(s,Math.ceil(u/s.length));return l.length>u&&(l=l.slice(0,u)),n?l+r:r+l}},function(t,e,i){var u=i(34),l=i(16),h=i(48).f;t.exports=function(a){return function(t){for(var e,i=l(t),n=u(i),r=n.length,o=0,s=[];o<r;)h.call(i,e=n[o++])&&s.push(a?[e,i[e]]:i[e]);return s}}},function(a,l,t){var e,i,n;i=[l],void 0===(n="function"==typeof(e=function(t){"use strict";function i(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(){function e(t){u(this,e),this.DELTAP=1e-6,this.BIGVAL=9e99,this.WEIGHT=1,this.setYData(t.dataY),this.setXData(t.dataX),this.setWeight(t.weight),this.setInitialParams(t.params),t.subsetIndex&&this.setSubset.apply(this,i(t.subsetIndex)),this.setFunction(t.function),t.progress&&this.hookIteration(t.progress),this.options=t}return r(e,[{key:"setYData",value:function(t){this.data=t}},{key:"setXData",value:function(t){this.dataX=t}},{key:"setWeight",value:function(t){this.weight=t}},{key:"setInitialParams",value:function(t){var e=this;this.parms=t,this.parms=this.parms.map(function(t){return"function"==typeof t?t(e.data,e.dataX):t}),this.NPARMS=t.length}},{key:"setSubset",value:function(t,e){void 0!==t&&void 0!==e&&(this._from=t,this._to=e)}},{key:"hookIteration",value:function(i){var n=this;this._hookIteration=function(t){var e=n.buildFit(t,200);i(e)}}},{key:"setFunction",value:function(t){this._func=t}},{key:"init",value:function(){var e=this;if(void 0!==this._from&&void 0!==this._to){if(this._from>=this._to)throw"Impossible to fit negative subranges. The starting index must be lower than the ending index";if(this.NPTS=this._to-this._from+1,this.data&&this.data.getLength()<=this._to)throw"Wave Y has not enough point to be fitted to subrange [".concat(this._from,", ").concat(this._to,"]");if(this._from<0)throw"Impossible to fit a subrange with negative indices"}else this.NPTS=this.data.getLength(),this._from=0,this._to=this.data.getLength()-1;if(this.dataX&&this.dataX.getLength()<=this._to)throw"Wave X has not enough point to be fitted to subrange [".concat(this._from,", ").concat(this._to,"]");this.arrY=this.data.getDataY(),this.dataX?this.arrX=this.dataX.getDataY():this.arrX=this.data.getDataX(),this.resid=new Array(this.NPTS).fill(0),this.jac=new Array(this.NPTS).fill(0),this.jac=this.jac.map(function(t){return new Array(e.NPARMS)})}},{key:"fit",value:function(){return this.log("Starting the fit with initial parameter list {".concat(this.parms.join(),"};")),new o(this,this.NPARMS,this.NPTS,this._hookIteration),this.log("Fit successful. Output parameters {".concat(this.parms.join(),"};")),this._result=this.buildFit(this.parms,200),this.options.done&&this.options.done(this.parms,this._result),this._result}},{key:"func",value:function(t,e){return this._func(t,e)}},{key:"computeResiduals",value:function(){for(var t=0,e=0;e<this.NPTS;e++)this.resid[e]=(this.func(this.arrX[e+this._from],this.parms)-this.arrY[e+this._from])*this.WEIGHT,t+=this.resid[e]*this.resid[e];return t}},{key:"log",value:function(t){this.options.log&&console.log(t)}},{key:"nudge",value:function(t){for(var e=0;e<this.NPARMS;e++)this.parms[e]+=t[e];return this.computeResiduals()}},{key:"buildJacobian",value:function(){for(var t=new Array(this.NPARMS),e=.5/this.DELTAP,i=0;i<this.NPARMS;i++){for(var n=0;n<this.NPARMS;n++)t[n]=n==i?this.DELTAP:0;if(this.nudge(t)==this.BIGVAL)throw"Bad dBuildJacobian() exit 2";for(var r=0;r<this.NPTS;r++)this.jac[r][i]=this.getResidualElement(r);for(n=0;n<this.NPARMS;n++)t[n]=n==i?-2*this.DELTAP:0;if(this.nudge(t)==this.BIGVAL)throw"Bad dBuildJacobian(). exit 3";for(r=0;r<this.NPTS;r++)this.jac[r][i]-=this.getResidualElement(r);for(r=0;r<this.NPTS;r++)this.jac[r][i]*=e;for(n=0;n<this.NPARMS;n++)t[n]=n==i?this.DELTAP:0;if(this.nudge(t)==this.BIGVAL)throw"Bad dBuildJacobian(). exit 4"}return!0}},{key:"getResidualElement",value:function(t){return this.resid[t]}},{key:"getJacobianElement",value:function(t,e){return this.jac[t][e]}},{key:"buildFit",value:function(t,i){var e;if(i){var n=this.dataX.getMin(this._from,this._to),r=this.dataX.getMax(this._from,this._to);e=new Array(i).fill(0).map(function(t,e){return e*(r-n)/(i-1)+n})}else e=this.arrX;for(var o=new Array(e.length),s=0,a=e.length;s<a;s++)o[s]=this.func(e[s],this.parms);var u=this.options.waveform;return u.setData(o,e),u}}]),e}(),o=function(){function a(t,e,i,n){var r=this;u(this,a),this.LMITER=100,this.LMBOOST=2,this.LMSHRINK=.1,this.LAMBDAZERO=.001,this.LAMBDAMAX=1e9,this.LMTOL=1e-12,this.BIGVAL=9e99,this.sos,this.sosprev,this.lambda,this.myH=null,this.nadj=0,this.npts=0,this.delta,this.beta,this.alpha,this.amatrix,this.myH=t,this.nadj=e,this.npts=i,this.delta=new Array(this.nadj).fill(0),this.beta=new Array(this.nadj).fill(0),this.alpha=new Array(this.nadj).fill(0),this.amatrix=new Array(this.nadj).fill(0),this.alpha=this.alpha.map(function(){return new Array(r.nadj)}),this.amatrix=this.amatrix.map(function(){return new Array(r.nadj)}),this.lambda=this.LAMBDAZERO;for(var o=0,s=!1;s=this.bLMiter(),n&&n(this.myH.params),!s&&++o<this.LMITER;);}return r(a,[{key:"bLMiter",value:function(){for(var t=0;t<this.nadj;t++)this.delta[t]=0;if(this.sos=this.myH.nudge(this.delta),this.sos==this.BIGVAL)return console.error("  bLMiter finds faulty initial nudge()"),!1;if(this.sosprev=this.sos,this.myH.log("  bLMiter..SumOfSquares= ".concat(this.sos)),!this.myH.buildJacobian())return console.error("  bLMiter finds buildJacobian()=false"),!1;for(t=0;t<this.nadj;t++)for(var e=this.beta[t]=0;e<this.npts;e++)this.beta[t]-=this.myH.getResidualElement(e)*this.myH.getJacobianElement(e,t);for(t=0;t<this.nadj;t++)for(var i=0;i<this.nadj;i++)for(e=this.alpha[i][t]=0;e<this.npts;e++)this.alpha[i][t]+=this.myH.getJacobianElement(e,i)*this.myH.getJacobianElement(e,t);var n=0;do{for(t=0;t<this.nadj;t++)for(i=0;i<this.nadj;i++)this.amatrix[i][t]=this.alpha[i][t]+(i==t?this.lambda:0);this.gaussj(this.amatrix,this.nadj);for(t=0;t<this.nadj;t++)for(i=this.delta[t]=0;i<this.nadj;i++)this.delta[t]+=this.amatrix[i][t]*this.beta[i];if(this.sos=this.myH.nudge(this.delta),this.sos==this.BIGVAL)return console.error("  LMinner failed SOS step"),!1;if((n=(this.sos-this.sosprev)/(1+this.sos))<=0){this.lambda*=this.LMSHRINK;break}for(var r=0;r<this.nadj;r++)this.delta[r]*=-1;if(this.myH.nudge(this.delta),n<this.LMTOL)break;this.lambda*=this.LMBOOST}while(this.lambda<this.LAMBDAMAX);return n>-this.LMTOL||this.lambda>this.LAMBDAMAX}},{key:"gaussj",value:function(t,e){var i,n,r,o,s,a,u=1,l=new Array(100),h=new Array(100);for(s=0;s<e;s++){for(i=0,r=s;r<e;r++)for(o=s;o<e;o++)Math.abs(i)<=Math.abs(t[r][o])&&(i=t[r][o],l[s]=r,h[s]=o);if(0==i)return 0;if(s<(r=l[s]))for(o=0;o<e;o++)n=t[s][o],t[s][o]=t[r][o],t[r][o]=-n;if(s<(o=h[s]))for(r=0;r<e;r++)n=t[r][s],t[r][s]=t[r][o],t[r][o]=-n;for(r=0;r<e;r++)r!=s&&(t[r][s]=-t[r][s]/i);for(r=0;r<e;r++)for(o=0;o<e;o++)r!=s&&o!=s&&(t[r][o]+=t[r][s]*t[s][o]);for(o=0;o<e;o++)o!=s&&(t[s][o]/=i);t[s][s]=1/i,u*=i}for(a=0;a<e;a++){if((s=e-a-1)<(o=l[s]))for(r=0;r<e;r++)n=t[r][s],t[r][s]=-t[r][o],t[r][o]=n;if(s<(r=h[s]))for(o=0;o<e;o++)n=t[s][o],t[s][o]=-t[r][o],t[r][o]=n}return u}}]),a}(),s=e;t.default=s,a.exports=l.default})?e.apply(l,i):e)||(a.exports=n)},function(r,c,t){var e,i,n,o;o=function(t,o){"use strict";var e;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t,e,i){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o=(e=o)&&e.__esModule?e:{default:e};var n=function(t){function r(t,e,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=a(this,l(r).call(this,t,e,i))).leftright=e,n.left="left"==e,n}var e,i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(r,o.default),e=r,(i=[{key:"forceWidth",value:function(t){return this.options.forcedWidth=t,this}},{key:"setAxisPosition",value:function(t){this.shiftPosition=t}},{key:"getAxisPosition",value:function(){return this.shiftPosition||0}},{key:"getAdditionalWidth",value:function(){var t=0;return this.getLabel()&&(t+=this.graph.options.fontSize),this.isShown()&&(t+=Math.abs(this.tickMargin)),t}},{key:"isX",value:function(){return!1}},{key:"isY",value:function(){return!0}},{key:"resetTicksLength",value:function(){this.longestTick=[!1,0]}},{key:"getMaxSizeTick",value:function(){return this.longestTick&&this.longestTick[0]?this.longestTick[0].getComputedTextLength()+5:0}},{key:"draw",value:function(){this.tickMargin=this.left?-5-this.tickPx1*this.tickScaling[1]:2-this.tickPx1*this.tickScaling[1];var t=u(l(r.prototype),"draw",this).apply(this,arguments);return t+=this.getAdditionalWidth(),this.drawSpecifics(t),this.fullwidthlabel=t}},{key:"equalizePosition",value:function(t){return this.placeLabel(this.left?-t:t),this.getLabel()?t+this.graph.options.fontSize:0}},{key:"drawTick",value:function(t,e,i,n){var r,o,s,a=this;null==(r=n||this.getPos(t))||isNaN(r)||((o=this.nextTick(e,function(t){t.setAttribute("x1",(a.left?1:-1)*a.tickPx1*a.tickScaling[e]),t.setAttribute("x2",(a.left?1:-1)*a.tickPx2*a.tickScaling[e]),1==e?t.setAttribute("stroke",a.getPrimaryTicksColor()):t.setAttribute("stroke",a.getSecondaryTicksColor())})).setAttribute("y1",r),o.setAttribute("y2",r),this.nextGridLine(1==e,0,this.graph.getDrawingWidth(),r,r),1==e&&((s=this.nextTickLabel(function(t){t.setAttribute("x",a.tickMargin+a.options.tickLabelOffset),"black"!==a.getTicksLabelColor()&&t.setAttribute("fill",a.getTicksLabelColor()),a.left?t.setAttribute("text-anchor","end"):t.setAttribute("text-anchor","start"),t.style.dominantBaseline="central"})).setAttribute("y",r),this.setTickContent(s,t,i),String(s.textContent).length>=this.longestTick[1]&&(this.longestTick[0]=s,this.longestTick[1]=String(s.textContent).length)))}},{key:"drawLabel",value:function(){"black"!==this.getLabelColor()&&this.label.setAttribute("fill",this.getLabelColor()),this.label.setAttribute("dominant-baseline",(this.left,"auto")),this.labelTspan.textContent=this.getLabel()}},{key:"placeLabel",value:function(t){this.label.setAttribute("transform","translate(".concat(t,", ").concat(Math.abs(this.getMaxPx()+this.getMinPx())/2,") rotate(-90)"))}},{key:"drawSpecifics",value:function(){this.line.setAttribute("y1",this.getMinPx()),this.line.setAttribute("y2",this.getMaxPx()),this.line.setAttribute("x1",0),this.line.setAttribute("x2",0),this.line.setAttribute("stroke",this.getAxisColor());var t=this.getSpan();this.line.setAttribute("marker-start",this.options.splitMarks&&0!=t[0]?"url(#verticalsplit_".concat(this.graph.getId(),")"):""),this.line.setAttribute("marker-end",this.options.splitMarks&&1!=t[1]?"url(#verticalsplit_".concat(this.graph.getId(),")"):"")}},{key:"setShift",value:function(t){if(this.shift=t,this.shift&&this.graph.getWidth()){var e=this.shift;e=this.floating?e:this.isLeft()?e:this.graph.getWidth()-this.graph.getPaddingRight()-this.graph.getPaddingLeft()-e,this.group.setAttribute("transform","translate( ".concat(e," 0 )")),this.drawLabel()}}},{key:"isLeft",value:function(){return this.left}},{key:"isRight",value:function(){return!this.left}},{key:"isFlipped",value:function(){return!this.options.flipped}},{key:"_drawLine",value:function(t,e){var i=this.getPx(t);return e?e.setAttribute("display","initial"):e=document.createElementNS(this.graph.ns,"line"),e.setAttribute("y1",i),e.setAttribute("y2",i),e.setAttribute("x1",0),e.setAttribute("x2",this.graph.drawingSpaceWidth),e.setAttribute("stroke","black"),this.group.appendChild(e),e}},{key:"_hideLine",value:function(t){t&&t.setAttribute("display","none")}},{key:"handleMouseMoveLocal",value:function(t,e){e-=this.graph.getPaddingTop(),this.mouseVal=this.getVal(e)}},{key:"scaleToFitAxis",value:function(t,e,i,n,r,o){t&&t.isX()||(t=this.graph.getXAxis()),isNaN(i)&&(i=t.getCurrentMin()),isNaN(n)&&(n=t.getCurrentMax()),void 0===r&&(r=!0),void 0===o&&(o=!0),"number"==typeof e&&(n=i,i=e,e=!1);for(var s=-1/0,a=1/0,u=0,l=0,h=this.graph.series.length;l<h;l++)this.graph.series[l].isShown()&&this.graph.series[l]!=e&&this.graph.series[l].getXAxis()==t&&this.graph.series[l].getYAxis()===this&&(u++,s=o?Math.max(s,this.graph.series[l].getMax(i,n)):0,a=r?Math.min(a,this.graph.series[l].getMin(i,n)):0);if(0==u)this.setMinMaxToFitSeries();else{a=r?a:this.getCurrentMin();var c=(s=o?s:this.getCurrentMax())-a;a-=this.options.axisDataSpacing.min*c,s+=this.options.axisDataSpacing.max*c,this._doZoomVal(a,s)}return this}},{key:"setMinMaxFlipped",value:function(){var t=this.maxPx-this.minPx;if(!isNaN(t)){var e=this.maxPx-t*this.options.span[0]-this.options.marginMin,i=this.maxPx-t*this.options.span[1]+this.options.marginMax;this.minPxFlipped=this.isFlipped()?e:i,this.maxPxFlipped=this.isFlipped()?i:e}}},{key:"getZProj",value:function(t){return t*this.graph.options.zAxis.shiftY}}])&&s(e.prototype,i),n&&s(e,n),r}();t.default=n,r.exports=c.default},i=[c,t(66)],void 0===(n="function"==typeof(e=o)?e.apply(c,i):e)||(r.exports=n)},function(n,r,t){var e,i,o;i=[r],void 0===(o="function"==typeof(e=function(t){"use strict";function e(t,e,i){var n,r,o,s,a,u=t.getWaveforms(),l=!0,h=!1,c=void 0;try{for(var f,p=u[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var d=f.value;for(n=0,r=d.getLength(),o=d.getData();n<r;n+=1)s=e?t.getXAxis().getVal(t.getX(d.getX(n,!0))):t.getYAxis().getVal(t.getY(o[n])),a=0==n?s:i?Math.min(a,s):Math.max(a,s)}}catch(t){h=!0,c=t}finally{try{l||null==p.return||p.return()}finally{if(h)throw c}}return a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={getX:function(t){return(t=this.getXAxis().getPx(t))-t%.2+this.getXAxis().getZProj(this.options.zpos)},getY:function(t){return(t=this.getYAxis().getPx(t))-t%.2+this.getYAxis().getZProj(this.options.zpos)},getZPos:function(){return this.options.zpos},getMinX:function(t){return t?e(this,!0,!0):this.minX},getMaxX:function(t){return t?e(this,!0,!1):this.maxX},getMinY:function(t){return t?e(this,!1,!0):this.minY},getMaxY:function(t){return t?e(this,!1,!1):this.maxY}};t.default=i,n.exports=r.default})?e.apply(r,i):e)||(n.exports=o)},function(f,p,t){var e,i,n,r;r=function(t,o,s,e){"use strict";var i;function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=(i=e)&&i.__esModule?i:{default:i};var c=function(t){function r(t,e,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=a(this,u(r).apply(this,arguments))).selectionType="unselected",n.id=(0,s.guid)(),n.groupZones=document.createElementNS(n.graph.ns,"g"),n.lineZone=document.createElementNS(n.graph.ns,"path"),n.lineZone.setAttribute("stroke","black"),n.lineZone.setAttribute("stroke-width","1px"),n.groupMain.appendChild(n.groupZones),n.groupZones.appendChild(n.lineZone),n.applyLineStyle(n.lineZone),n.styleHasChanged(),n.clip=document.createElementNS(n.graph.ns,"clipPath"),n.clipId=(0,s.guid)(),n.clip.setAttribute("id",n.clipId),n.graph.defs.appendChild(n.clip),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(r,e.default),l(r,null,[{key:"default",value:function(){return{fillColor:"rgba( 0, 0, 0, 0.1 )",lineColor:"rgba( 0, 0, 0, 1 )",lineWidth:"1px"}}}]),l(r,[{key:"setWaveform",value:function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return this.waveforms=i,this.waveforms=this.waveforms.map(function(t){return t instanceof o.Waveform?t:new o.Waveform(t)}),this.minX=this.waveforms[0].getXMin(),this.maxX=this.waveforms[0].getXMax(),this.minY=this.waveforms[0].getMin(),this.maxY=this.waveforms[0].getMax(),this.waveforms.map(function(t){e.minX=Math.min(t.getXMin(),e.minX),e.maxX=Math.max(t.getXMin(),e.maxX),e.minY=Math.min(t.getMin(),e.minY),e.maxY=Math.max(t.getMax(),e.maxY)}),this.graph.updateDataMinMaxAxes(),this.dataHasChanged(),this}},{key:"setWaveforms",value:function(){return this.setWaveform.apply(this,arguments)}},{key:"getWaveforms",value:function(){return this.waveforms}},{key:"setMinMaxWaveforms",value:function(t,e){return this.waveforms=[t,e.reverse()],this}},{key:"empty",value:function(){for(;this.group.firstChild;)this.group.removeChild(this.group.firstChild)}},{key:"draw",value:function(t){if(t||this.hasDataChanged()){if(!this.waveforms)return;var e,i=0,n=0,r=0,o=0,s=0,a="",u=!1,l=(this.getXAxis().getMinPx(),this.getXAxis().getMaxPx(),this.getYAxis().getMinPx(),this.getYAxis().getMaxPx(),this.getXAxis().getCurrentMin()),h=this.getXAxis().getCurrentMax(),c=this.getYAxis().getCurrentMin(),f=this.getYAxis().getCurrentMax();this.groupMain.removeChild(this.groupZones);var p=!0,d=!1,g=void 0;try{for(var y,v=this.waveforms[Symbol.iterator]();!(p=(y=v.next()).done);p=!0){var m=y.value;for(s=0;s<m.getLength();s+=1)if(i=m.getX(s,!0),(n=m.getY(s,!0))[s]<c?o=this.getY(c):n[s]>f&&(o=this.getY(f)),i==i)if(n==n)o=this.getY(n),r=this.getX(i),i<l||h<i?e=[i,n[s],r,o]:(u&&(a+=" M ".concat(r,", ").concat(this.getY(m.getMinY())," "),u=!1),0<a.length&&(a+=" L "),e?(a+="".concat(e[2],",").concat(e[3]," "),e=!1):a+="".concat(r,",").concat(o," "));else{if(0==a.length)continue;a+="L ".concat(r,", ").concat(this.getY(m.getMinY())),u=!0}}}catch(t){d=!0,g=t}finally{try{p||null==v.return||v.return()}finally{if(d)throw g}}""!==a?this.lineZone.setAttribute("d","M ".concat(a," z")):this.lineZone.setAttribute("d",""),this.groupMain.appendChild(this.groupZones)}this.hasStyleChanged(this.selectionType)&&(this.applyLineStyle(this.lineZone),this.styleHasChanged(!1))}},{key:"applyLineStyle",value:function(t){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()),t.setAttribute("fill",this.getFillColor()),t.setAttribute("fill-opacity",this.getFillOpacity()),t.setAttribute("stroke-opacity",this.getLineOpacity())}},{key:"setLineWidth",value:function(t){return this.options.lineWidth=t,this.styleHasChanged(),this}},{key:"getLineWidth",value:function(){return this.options.lineWidth}},{key:"setLineOpacity",value:function(t){return this.options.lineOpacity=t,this.styleHasChanged(),this}},{key:"getLineOpacity",value:function(){return this.options.lineOpacity}},{key:"setLineColor",value:function(t){return this.options.lineColor=t,this.styleHasChanged(),this}},{key:"getLineColor",value:function(){return this.options.lineColor}},{key:"setFillOpacity",value:function(t){return this.options.fillOpacity=t,this.styleHasChanged(),this}},{key:"getFillOpacity",value:function(){return this.options.fillOpacity}},{key:"setFillColor",value:function(t){return this.options.fillColor=t,this.styleHasChanged(),this}},{key:"getFillColor",value:function(){return this.options.fillColor}}]),r}();t.default=c,f.exports=p.default},i=[p,t(53),t(5),t(68)],void 0===(n="function"==typeof(e=r)?e.apply(p,i):e)||(f.exports=n)},function(n,r,t){var e,i,o,s;s=function(t,o,s){"use strict";var e;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function h(t,e,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(o),s=(e=s)&&e.__esModule?e:{default:e};var i=function(t){function n(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),l(this,c(n).call(this,t,e))}var e,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(n,s.default),e=n,(i=[{key:"createDom",value:function(){return this._dom=document.createElementNS(this.graph.ns,"rect"),this.getStrokeColor()||this.setStrokeColor("black"),void 0===this.getStrokeWidth()&&this.setStrokeWidth(1),this.getFillColor()||this.setFillColor("transparent"),this}},{key:"createHandles",value:function(){if(this.hasHandles()){var t=this.getProp("handles");switch("object"!=a(t)&&(t={}),t.type||(t.type="corners"),t.type){case"sides":o.extend(t,{sides:{top:!0,bottom:!0,left:!0,right:!0}});var e=0;for(var i in t.sides)t.sides[i]&&e++;this._createHandles(e,"g").map(function(t){var e=document.createElementNS(self.graph.ns,"rect");e.setAttribute("x","-3"),e.setAttribute("width","6"),e.setAttribute("y","-6"),e.setAttribute("height","12"),e.setAttribute("stroke","black"),e.setAttribute("fill","white"),e.setAttribute("cursor","pointer"),t.appendChild(e)});e=1;for(var i in t.sides)t.sides[i]&&(this.handles[i]=this["handle".concat(e)],this.sides[e]=i,e++);break;case"corners":this._createHandles(4,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white"}),this.handles&&(this.handles[2].setAttribute("cursor","nesw-resize"),this.handles[4].setAttribute("cursor","nesw-resize"),this.handles[1].setAttribute("cursor","nwse-resize"),this.handles[3].setAttribute("cursor","nwse-resize"));break;case"seamlessX":this._createHandles(2,"rect",{transform:"translate(-3 -3)",stroke:"transparent",fill:"transparent",width:"20px",cursor:"ew-resize"})}return h(c(n.prototype),"createHandles",this).call(this),this}}},{key:"applyPosition",value:function(){var t,e,i,n,r=this.computePosition(0),o=this.computePosition(1);if(r&&o)return i=r.x<o.x?(t=r.x,o.x-r.x):(t=o.x,r.x-o.x),n=r.y<o.y?(e=r.y,o.y-r.y):(e=o.y,r.y-o.y),this.currentX=t,this.currentY=e,this.currentW=i,this.currentH=n,!isNaN(t)&&!isNaN(e)&&!1!==t&&!1!==e&&(this.setDom("width",i),this.setDom("height",n),this.setDom("x",t),this.setDom("y",e),this.setHandles(),this.updateMask(),!0)}},{key:"handleMouseMoveImpl",value:function(t,e,i,n,r){var o=this.getProp("handles");if(this.moving||this.handleSelected){var s=this.getPosition(0),a=this.getPosition(1);this.getXAxis().isFlipped(),this.getYAxis().isFlipped(),s.x,s.y,a.x,a.y;if(this.moving)s.deltaPosition("x",e,this.getXAxis()),s.deltaPosition("y",i,this.getYAxis()),a.deltaPosition("x",e,this.getXAxis()),a.deltaPosition("y",i,this.getYAxis());else switch(o.type){case"seamlessX":switch(this.handleSelected){case 1:s.deltaPosition("x",e,this.getXAxis());break;case 2:a.deltaPosition("x",e,this.getXAxis())}break;case"sides":switch(this.sides[this.handleSelected]){case"left":s.deltaPosition("x",e,this.getXAxis());break;case"right":a.deltaPosition("x",e,this.getXAxis());break;case"top":s.deltaPosition("y",i,this.getYAxis());break;case"bottom":a.deltaPosition("y",i,this.getYAxis())}break;case"corners":default:1==this.handleSelected?(s.deltaPosition("x",e,this.getXAxis()),s.deltaPosition("y",i,this.getYAxis())):2==this.handleSelected?(a.deltaPosition("x",e,this.getXAxis()),s.deltaPosition("y",i,this.getYAxis())):3==this.handleSelected?(a.deltaPosition("y",i,this.getYAxis()),a.deltaPosition("x",e,this.getXAxis())):4==this.handleSelected&&(s.deltaPosition("x",e,this.getXAxis()),a.deltaPosition("y",i,this.getYAxis()))}return this.redraw(),this.changed(),this.setHandles(),!0}}},{key:"setHandles",value:function(){if(!this.isLocked()&&(this.isSelectable()||this._staticHandles)&&this.handlesInDom){var t=this.computePosition(0),e=this.computePosition(1);switch(this.getProp("handles").type){case"seamlessX":this.handles[1]&&(this.handles[1].setAttribute("transform","translate(-10) translate(".concat(t.x,")")),this.handles[1].setAttribute("height",Math.abs(e.y-t.y)),this.handles[1].setAttribute("y",Math.min(e.y,t.y))),this.handles[2]&&(this.handles[2].setAttribute("transform","translate(-10)  translate(".concat(e.x,")")),this.handles[2].setAttribute("height",Math.abs(e.y-t.y)),this.handles[2].setAttribute("y",Math.min(e.y,t.y)));break;case"sides":this.handles.left&&this.handles.left.setAttribute("transform","translate(".concat(this.currentX," ").concat(this.currentY+this.currentH/2,")")),this.handles.right&&this.handles.right.setAttribute("transform","translate( ".concat(this.currentX+this.currentW," ").concat(this.currentY+this.currentH/2,")")),this.handles.top&&this.handles.top.setAttribute("transform","translate( ".concat(this.currentX+this.currentW/2," ").concat(this.currentY,")")),this.handles.bottom&&this.handles.bottom.setAttribute("transform","translate( ".concat(this.currentX+this.currentW/2," ").concat(this.currentY+this.currentH,")"));break;case"corners":default:this.handles[1].setAttribute("x",t.x),this.handles[1].setAttribute("y",t.y),this.handles[2].setAttribute("x",e.x),this.handles[2].setAttribute("y",t.y),this.handles[3].setAttribute("x",e.x),this.handles[3].setAttribute("y",e.y),this.handles[4].setAttribute("x",t.x),this.handles[4].setAttribute("y",e.y)}}}}])&&u(e.prototype,i),r&&u(e,r),n}();t.default=i,n.exports=r.default},i=[r,t(5),t(18)],void 0===(o="function"==typeof(e=s)?e.apply(r,i):e)||(n.exports=o)},function(t,e,i){i(135),t.exports=i(301)},function(t,e,i){"use strict";(function(t){i(137),i(280),i(282),i(284),i(286),i(288),i(290),i(292),i(294),i(296),i(300),t._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),t._babelPolyfill=!0}).call(e,i(136))},function(DQa,EQa){var FQa;FQa=function(){return this}();try{FQa=FQa||Function("return this")()||eval("this")}catch(t){"object"==typeof window&&(FQa=window)}DQa.exports=FQa},function(t,e,i){i(138),i(140),i(141),i(142),i(143),i(144),i(145),i(146),i(147),i(148),i(149),i(150),i(151),i(152),i(153),i(154),i(155),i(156),i(157),i(158),i(159),i(160),i(161),i(162),i(163),i(164),i(165),i(166),i(167),i(168),i(169),i(170),i(171),i(172),i(173),i(174),i(175),i(176),i(177),i(178),i(179),i(180),i(181),i(183),i(184),i(185),i(186),i(187),i(188),i(189),i(190),i(191),i(192),i(193),i(194),i(195),i(196),i(197),i(198),i(199),i(200),i(201),i(202),i(203),i(204),i(205),i(206),i(207),i(208),i(209),i(210),i(211),i(212),i(213),i(214),i(215),i(216),i(218),i(219),i(221),i(222),i(223),i(224),i(225),i(226),i(227),i(230),i(231),i(232),i(233),i(234),i(235),i(236),i(237),i(238),i(239),i(240),i(241),i(242),i(91),i(243),i(118),i(244),i(119),i(245),i(246),i(247),i(248),i(120),i(251),i(252),i(253),i(254),i(255),i(256),i(257),i(258),i(259),i(260),i(261),i(262),i(263),i(264),i(265),i(266),i(267),i(268),i(269),i(270),i(271),i(272),i(273),i(274),i(275),i(276),i(277),i(278),i(279),t.exports=i(10)},function(t,e,i){"use strict";var n=i(3),s=i(14),r=i(9),o=i(0),a=i(11),u=i(30).KEY,l=i(1),h=i(70),c=i(39),f=i(32),p=i(6),d=i(71),g=i(100),y=i(139),v=i(74),m=i(2),b=i(4),x=i(16),k=i(29),S=i(31),w=i(36),M=i(103),A=i(20),_=i(8),P=i(34),O=A.f,C=_.f,L=M.f,E=n.Symbol,T=n.JSON,j=T&&T.stringify,D="prototype",X=p("_hidden"),N=p("toPrimitive"),I={}.propertyIsEnumerable,Y=h("symbol-registry"),F=h("symbols"),B=h("op-symbols"),R=Object[D],H="function"==typeof E,W=n.QObject,z=!W||!W[D]||!W[D].findChild,V=r&&l(function(){return 7!=w(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=O(R,e);n&&delete R[e],C(t,e,i),n&&t!==R&&C(R,e,n)}:C,U=function(t){var e=F[t]=w(E[D]);return e._k=t,e},G=H&&"symbol"==typeof E.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof E},Z=function(t,e,i){return t===R&&Z(B,e,i),m(t),e=k(e,!0),m(i),s(F,e)?(i.enumerable?(s(t,X)&&t[X][e]&&(t[X][e]=!1),i=w(i,{enumerable:S(0,!1)})):(s(t,X)||C(t,X,S(1,{})),t[X][e]=!0),V(t,e,i)):C(t,e,i)},q=function(t,e){m(t);for(var i,n=y(e=x(e)),r=0,o=n.length;r<o;)Z(t,i=n[r++],e[i]);return t},K=function(t){var e=I.call(this,t=k(t,!0));return!(this===R&&s(F,t)&&!s(B,t))&&(!(e||!s(this,t)||!s(F,t)||s(this,X)&&this[X][t])||e)},Q=function(t,e){if(t=x(t),e=k(e,!0),t!==R||!s(F,e)||s(B,e)){var i=O(t,e);return!i||!s(F,e)||s(t,X)&&t[X][e]||(i.enumerable=!0),i}},J=function(t){for(var e,i=L(x(t)),n=[],r=0;i.length>r;)s(F,e=i[r++])||e==X||e==u||n.push(e);return n},$=function(t){for(var e,i=t===R,n=L(i?B:x(t)),r=[],o=0;n.length>o;)!s(F,e=n[o++])||i&&!s(R,e)||r.push(F[e]);return r};H||(a((E=function(){if(this instanceof E)throw TypeError("Symbol is not a constructor!");var e=f(0<arguments.length?arguments[0]:void 0),i=function(t){this===R&&i.call(B,t),s(this,X)&&s(this[X],e)&&(this[X][e]=!1),V(this,e,S(1,t))};return r&&z&&V(R,e,{configurable:!0,set:i}),U(e)})[D],"toString",function(){return this._k}),A.f=Q,_.f=Z,i(37).f=M.f=J,i(48).f=K,i(55).f=$,r&&!i(33)&&a(R,"propertyIsEnumerable",K,!0),d.f=function(t){return U(p(t))}),o(o.G+o.W+o.F*!H,{Symbol:E});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)p(tt[et++]);for(var it=P(p.store),nt=0;it.length>nt;)g(it[nt++]);o(o.S+o.F*!H,"Symbol",{for:function(t){return s(Y,t+="")?Y[t]:Y[t]=E(t)},keyFor:function(t){if(!G(t))throw TypeError(t+" is not a symbol!");for(var e in Y)if(Y[e]===t)return e},useSetter:function(){z=!0},useSimple:function(){z=!1}}),o(o.S+o.F*!H,"Object",{create:function(t,e){return void 0===e?w(t):q(w(t),e)},defineProperty:Z,defineProperties:q,getOwnPropertyDescriptor:Q,getOwnPropertyNames:J,getOwnPropertySymbols:$}),T&&o(o.S+o.F*(!H||l(function(){var t=E();return"[null]"!=j([t])||"{}"!=j({a:t})||"{}"!=j(Object(t))})),"JSON",{stringify:function(t){for(var e,i,n=[t],r=1;arguments.length>r;)n.push(arguments[r++]);if(i=e=n[1],(b(e)||void 0!==t)&&!G(t))return v(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!G(e))return e}),n[1]=e,j.apply(T,n)}}),E[D][N]||i(15)(E[D],N,E[D].valueOf),c(E,"Symbol"),c(Math,"Math",!0),c(n.JSON,"JSON",!0)},function(t,e,i){var a=i(34),u=i(55),l=i(48);t.exports=function(t){var e=a(t),i=u.f;if(i)for(var n,r=i(t),o=l.f,s=0;r.length>s;)o.call(t,n=r[s++])&&e.push(n);return e}},function(t,e,i){var n=i(0);n(n.S,"Object",{create:i(36)})},function(t,e,i){var n=i(0);n(n.S+n.F*!i(9),"Object",{defineProperty:i(8).f})},function(t,e,i){var n=i(0);n(n.S+n.F*!i(9),"Object",{defineProperties:i(102)})},function(t,e,i){var n=i(16),r=i(20).f;i(21)("getOwnPropertyDescriptor",function(){return function(t,e){return r(n(t),e)}})},function(t,e,i){var n=i(12),r=i(38);i(21)("getPrototypeOf",function(){return function(t){return r(n(t))}})},function(t,e,i){var n=i(12),r=i(34);i(21)("keys",function(){return function(t){return r(n(t))}})},function(t,e,i){i(21)("getOwnPropertyNames",function(){return i(103).f})},function(t,e,i){var n=i(4),r=i(30).onFreeze;i(21)("freeze",function(e){return function(t){return e&&n(t)?e(r(t)):t}})},function(t,e,i){var n=i(4),r=i(30).onFreeze;i(21)("seal",function(e){return function(t){return e&&n(t)?e(r(t)):t}})},function(t,e,i){var n=i(4),r=i(30).onFreeze;i(21)("preventExtensions",function(e){return function(t){return e&&n(t)?e(r(t)):t}})},function(t,e,i){var n=i(4);i(21)("isFrozen",function(e){return function(t){return!n(t)||!!e&&e(t)}})},function(t,e,i){var n=i(4);i(21)("isSealed",function(e){return function(t){return!n(t)||!!e&&e(t)}})},function(t,e,i){var n=i(4);i(21)("isExtensible",function(e){return function(t){return!!n(t)&&(!e||e(t))}})},function(t,e,i){var n=i(0);n(n.S+n.F,"Object",{assign:i(104)})},function(t,e,i){var n=i(0);n(n.S,"Object",{is:i(105)})},function(t,e,i){var n=i(0);n(n.S,"Object",{setPrototypeOf:i(76).set})},function(t,e,i){"use strict";var n=i(49),r={};r[i(6)("toStringTag")]="z",r+""!="[object z]"&&i(11)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},function(t,e,i){var n=i(0);n(n.P,"Function",{bind:i(106)})},function(t,e,i){var n=i(8).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||i(9)&&n(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,i){"use strict";var n=i(4),r=i(38),o=i(6)("hasInstance"),s=Function.prototype;o in s||i(8).f(s,o,{value:function(t){if("function"!=typeof this||!n(t))return!1;if(!n(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,i){var n=i(0),r=i(108);n(n.G+n.F*(parseInt!=r),{parseInt:r})},function(t,e,i){var n=i(0),r=i(109);n(n.G+n.F*(parseFloat!=r),{parseFloat:r})},function(t,e,i){"use strict";var n=i(3),r=i(14),o=i(26),s=i(78),h=i(29),a=i(1),u=i(37).f,l=i(20).f,c=i(8).f,f=i(56).trim,p="Number",d=n[p],g=d,y=d.prototype,v=o(i(36)(y))==p,m="trim"in String.prototype,b=function(t){var e=h(t,!1);if("string"==typeof e&&2<e.length){var i,n,r,o=(e=m?e.trim():f(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(i=e.charCodeAt(2))||120===i)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+e}for(var s,a=e.slice(2),u=0,l=a.length;u<l;u++)if((s=a.charCodeAt(u))<48||r<s)return NaN;return parseInt(a,n)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof d&&(v?a(function(){y.valueOf.call(i)}):o(i)!=p)?s(new g(b(e)),i,d):b(e)};for(var x,k=i(9)?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;k.length>S;S++)r(g,x=k[S])&&!r(d,x)&&c(d,x,l(g,x));(d.prototype=y).constructor=d,i(11)(n,p,d)}},function(t,e,i){"use strict";var n=i(0),l=i(19),h=i(110),c=i(79),r=1..toFixed,o=Math.floor,s=[0,0,0,0,0,0],f="Number.toFixed: incorrect invocation!",p=function(t,e){for(var i=-1,n=e;++i<6;)n+=t*s[i],s[i]=n%1e7,n=o(n/1e7)},d=function(t){for(var e=6,i=0;0<=--e;)i+=s[e],s[e]=o(i/t),i=i%t*1e7},g=function(){for(var t=6,e="";0<=--t;)if(""!==e||0===t||0!==s[t]){var i=String(s[t]);e=""===e?i:e+c.call("0",7-i.length)+i}return e},y=function(t,e,i){return 0===e?i:e%2==1?y(t,e-1,i*t):y(t*t,e/2,i)};n(n.P+n.F*(!!r&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i(1)(function(){r.call({})})),"Number",{toFixed:function(t){var e,i,n,r,o=h(this,f),s=l(t),a="",u="0";if(s<0||20<s)throw RangeError(f);if(o!=o)return"NaN";if(o<=-1e21||1e21<=o)return String(o);if(o<0&&(a="-",o=-o),1e-21<o)if(i=(e=function(t){for(var e=0,i=t;4096<=i;)e+=12,i/=4096;for(;2<=i;)e+=1,i/=2;return e}(o*y(2,69,1))-69)<0?o*y(2,-e,1):o/y(2,e,1),i*=4503599627370496,0<(e=52-e)){for(p(0,i),n=s;7<=n;)p(1e7,0),n-=7;for(p(y(10,n,1),0),n=e-1;23<=n;)d(1<<23),n-=23;d(1<<n),p(1,1),d(2),u=g()}else p(0,i),p(1<<-e,0),u=g()+c.call("0",s);return u=0<s?a+((r=u.length)<=s?"0."+c.call("0",s-r)+u:u.slice(0,r-s)+"."+u.slice(r-s)):a+u}})},function(t,e,i){"use strict";var n=i(0),r=i(1),o=i(110),s=1..toPrecision;n(n.P+n.F*(r(function(){return"1"!==s.call(1,void 0)})||!r(function(){s.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},function(t,e,i){var n=i(0);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,i){var n=i(0),r=i(3).isFinite;n(n.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,e,i){var n=i(0);n(n.S,"Number",{isInteger:i(111)})},function(t,e,i){var n=i(0);n(n.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,i){var n=i(0),r=i(111),o=Math.abs;n(n.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},function(t,e,i){var n=i(0);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,i){var n=i(0);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,i){var n=i(0),r=i(109);n(n.S+n.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,e,i){var n=i(0),r=i(108);n(n.S+n.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(t,e,i){var n=i(0),r=i(112),o=Math.sqrt,s=Math.acosh;n(n.S+n.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:94906265.62425156<t?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},function(t,e,i){var n=i(0),r=Math.asinh;n(n.S+n.F*!(r&&0<1/r(0)),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,i){var n=i(0),r=Math.atanh;n(n.S+n.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,i){var n=i(0),r=i(80);n(n.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,i){var n=i(0);n(n.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,i){var n=i(0),r=Math.exp;n(n.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},function(t,e,i){var n=i(0),r=i(81);n(n.S+n.F*(r!=Math.expm1),"Math",{expm1:r})},function(t,e,i){var n=i(0);n(n.S,"Math",{fround:i(182)})},function(t,e,i){var o=i(80),n=Math.pow,s=n(2,-52),a=n(2,-23),u=n(2,127)*(2-a),l=n(2,-126);t.exports=Math.fround||function(t){var e,i,n=Math.abs(t),r=o(t);return n<l?r*(n/l/a+1/s-1/s)*l*a:u<(i=(e=(1+a/s)*n)-(e-n))||i!=i?r*(1/0):r*i}},function(t,e,i){var n=i(0),u=Math.abs;n(n.S,"Math",{hypot:function(t,e){for(var i,n,r=0,o=0,s=arguments.length,a=0;o<s;)a<(i=u(arguments[o++]))?(r=r*(n=a/i)*n+1,a=i):r+=0<i?(n=i/a)*n:i;return a===1/0?1/0:a*Math.sqrt(r)}})},function(t,e,i){var n=i(0),r=Math.imul;n(n.S+n.F*i(1)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(t,e){var i=+t,n=+e,r=65535&i,o=65535&n;return 0|r*o+((65535&i>>>16)*o+r*(65535&n>>>16)<<16>>>0)}})},function(t,e,i){var n=i(0);n(n.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,i){var n=i(0);n(n.S,"Math",{log1p:i(112)})},function(t,e,i){var n=i(0);n(n.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,i){var n=i(0);n(n.S,"Math",{sign:i(80)})},function(t,e,i){var n=i(0),r=i(81),o=Math.exp;n(n.S+n.F*i(1)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,i){var n=i(0),r=i(81),o=Math.exp;n(n.S,"Math",{tanh:function(t){var e=r(t=+t),i=r(-t);return e==1/0?1:i==1/0?-1:(e-i)/(o(t)+o(-t))}})},function(t,e,i){var n=i(0);n(n.S,"Math",{trunc:function(t){return(0<t?Math.floor:Math.ceil)(t)}})},function(t,e,i){var n=i(0),o=i(35),s=String.fromCharCode,r=String.fromCodePoint;n(n.S+n.F*(!!r&&1!=r.length),"String",{fromCodePoint:function(t){for(var e,i=[],n=arguments.length,r=0;r<n;){if(e=+arguments[r++],o(e,1114111)!==e)throw RangeError(e+" is not a valid code point");i.push(e<65536?s(e):s(55296+((e-=65536)>>10),e%1024+56320))}return i.join("")}})},function(t,e,i){var n=i(0),s=i(16),a=i(7);n(n.S,"String",{raw:function(t){for(var e=s(t.raw),i=a(e.length),n=arguments.length,r=[],o=0;o<i;)r.push(String(e[o++])),o<n&&r.push(String(arguments[o]));return r.join("")}})},function(t,e,i){"use strict";i(56)("trim",function(t){return function(){return t(this,3)}})},function(t,e,i){"use strict";var n=i(82)(!0);i(83)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){"use strict";var n=i(0),r=i(82)(!1);n(n.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,e,i){"use strict";var n=i(0),s=i(7),a=i(84),u="endsWith",l=""[u];n(n.P+n.F*i(86)(u),"String",{endsWith:function(t){var e=a(this,t,u),i=1<arguments.length?arguments[1]:void 0,n=s(e.length),r=void 0===i?n:Math.min(s(i),n),o=String(t);return l?l.call(e,o,r):e.slice(r-o.length,r)===o}})},function(t,e,i){"use strict";var n=i(0),r=i(84);n(n.P+n.F*i(86)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,1<arguments.length?arguments[1]:void 0)}})},function(t,e,i){var n=i(0);n(n.P,"String",{repeat:i(79)})},function(t,e,i){"use strict";var n=i(0),r=i(7),o=i(84),s="startsWith",a=""[s];n(n.P+n.F*i(86)(s),"String",{startsWith:function(t){var e=o(this,t,s),i=r(Math.min(1<arguments.length?arguments[1]:void 0,e.length)),n=String(t);return a?a.call(e,n,i):e.slice(i,i+n.length)===n}})},function(t,e,i){"use strict";i(13)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(t,e,i){"use strict";i(13)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,i){"use strict";i(13)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,i){"use strict";i(13)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,i){"use strict";i(13)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,i){"use strict";i(13)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(t,e,i){"use strict";i(13)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(t,e,i){"use strict";i(13)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,i){"use strict";i(13)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(t,e,i){"use strict";i(13)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,i){"use strict";i(13)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,i){"use strict";i(13)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,i){"use strict";i(13)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,i){var n=i(0);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,i){"use strict";var n=i(0),r=i(12),o=i(29);n(n.P+n.F*i(1)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=r(this),i=o(e);return"number"!=typeof i||isFinite(i)?e.toISOString():null}})},function(t,e,i){var n=i(0),r=i(217);n(n.P+n.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(t,e,i){"use strict";var n=i(1),r=Date.prototype.getTime,o=Date.prototype.toISOString,s=function(t){return 9<t?t:"0"+t};t.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!n(function(){o.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this.getUTCFullYear(),e=this.getUTCMilliseconds(),i=t<0?"-":9999<t?"+":"";return i+("00000"+Math.abs(t)).slice(i?-6:-4)+"-"+s(this.getUTCMonth()+1)+"-"+s(this.getUTCDate())+"T"+s(this.getUTCHours())+":"+s(this.getUTCMinutes())+":"+s(this.getUTCSeconds())+"."+(99<e?e:"0"+s(e))+"Z"}:o},function(t,e,i){var n=Date.prototype,r="Invalid Date",o=n.toString,s=n.getTime;new Date(NaN)+""!=r&&i(11)(n,"toString",function(){var t=s.call(this);return t==t?o.call(this):r})},function(t,e,i){var n=i(6)("toPrimitive"),r=Date.prototype;n in r||i(15)(r,n,i(220))},function(t,e,i){"use strict";var n=i(2),r=i(29);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(n(this),"number"!=t)}},function(t,e,i){var n=i(0);n(n.S,"Array",{isArray:i(74)})},function(t,e,i){"use strict";var f=i(24),n=i(0),p=i(12),d=i(114),g=i(87),y=i(7),v=i(88),m=i(89);n(n.S+n.F*!i(57)(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,n,r,o=p(t),s="function"==typeof this?this:Array,a=arguments.length,u=1<a?arguments[1]:void 0,l=void 0!==u,h=0,c=m(o);if(l&&(u=f(u,2<a?arguments[2]:void 0,2)),null==c||s==Array&&g(c))for(i=new s(e=y(o.length));h<e;h++)v(i,h,l?u(o[h],h):o[h]);else for(r=c.call(o),i=new s;!(n=r.next()).done;h++)v(i,h,l?d(r,u,[n.value,h],!0):n.value);return i.length=h,i}})},function(t,e,i){"use strict";var n=i(0),r=i(88);n(n.S+n.F*i(1)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,i=new("function"==typeof this?this:Array)(e);t<e;)r(i,t,arguments[t++]);return i.length=e,i}})},function(t,e,i){"use strict";var n=i(0),r=i(16),o=[].join;n(n.P+n.F*(i(47)!=Object||!i(17)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},function(t,e,i){"use strict";var n=i(0),r=i(75),l=i(26),h=i(35),c=i(7),f=[].slice;n(n.P+n.F*i(1)(function(){r&&f.call(r)}),"Array",{slice:function(t,e){var i=c(this.length),n=l(this);if(e=void 0===e?i:e,"Array"==n)return f.call(this,t,e);for(var r=h(t,i),o=h(e,i),s=c(o-r),a=new Array(s),u=0;u<s;u++)a[u]="String"==n?this.charAt(r+u):this[r+u];return a}})},function(t,e,i){"use strict";var n=i(0),r=i(25),o=i(12),s=i(1),a=[].sort,u=[1,2,3];n(n.P+n.F*(s(function(){u.sort(void 0)})||!s(function(){u.sort(null)})||!i(17)(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),r(t))}})},function(t,e,i){"use strict";var n=i(0),r=i(22)(0),o=i(17)([].forEach,!0);n(n.P+n.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,e,i){var n=i(229);t.exports=function(t,e){return new(n(t))(e)}},function(t,e,i){var n=i(4),r=i(74),o=i(6)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),n(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,i){"use strict";var n=i(0),r=i(22)(1);n(n.P+n.F*!i(17)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(0),r=i(22)(2);n(n.P+n.F*!i(17)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(0),r=i(22)(3);n(n.P+n.F*!i(17)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(0),r=i(22)(4);n(n.P+n.F*!i(17)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(0),r=i(115);n(n.P+n.F*!i(17)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,e,i){"use strict";var n=i(0),r=i(115);n(n.P+n.F*!i(17)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},function(t,e,i){"use strict";var n=i(0),r=i(54)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(s||!i(17)(o)),"Array",{indexOf:function(t){return s?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(0),r=i(16),o=i(19),s=i(7),a=[].lastIndexOf,u=!!a&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(u||!i(17)(a)),"Array",{lastIndexOf:function(t){if(u)return a.apply(this,arguments)||0;var e=r(this),i=s(e.length),n=i-1;for(1<arguments.length&&(n=Math.min(n,o(arguments[1]))),n<0&&(n=i+n);0<=n;n--)if(n in e&&e[n]===t)return n||0;return-1}})},function(t,e,i){var n=i(0);n(n.P,"Array",{copyWithin:i(116)}),i(41)("copyWithin")},function(t,e,i){var n=i(0);n(n.P,"Array",{fill:i(90)}),i(41)("fill")},function(t,e,i){"use strict";var n=i(0),r=i(22)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),n(n.P+n.F*o,"Array",{find:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0)}}),i(41)("find")},function(t,e,i){"use strict";var n=i(0),r=i(22)(6),o="findIndex",s=!0;o in[]&&Array(1)[o](function(){s=!1}),n(n.P+n.F*s,"Array",{findIndex:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0)}}),i(41)(o)},function(t,e,i){i(42)("Array")},function(t,e,i){var n=i(3),o=i(78),r=i(8).f,s=i(37).f,a=i(85),u=i(58),l=n.RegExp,h=l,c=l.prototype,f=/a/g,p=/a/g,d=new l(f)!==f;if(i(9)&&(!d||i(1)(function(){return p[i(6)("match")]=!1,l(f)!=f||l(p)==p||"/a/i"!=l(f,"i")}))){l=function(t,e){var i=this instanceof l,n=a(t),r=void 0===e;return!i&&n&&t.constructor===l&&r?t:o(d?new h(n&&!r?t.source:t,e):h((n=t instanceof l)?t.source:t,n&&r?u.call(t):e),i?this:c,l)};for(var g=function(e){e in l||r(l,e,{configurable:!0,get:function(){return h[e]},set:function(t){h[e]=t}})},y=s(h),v=0;y.length>v;)g(y[v++]);(c.constructor=l).prototype=c,i(11)(n,"RegExp",l)}i(42)("RegExp")},function(t,e,i){"use strict";i(119);var n=i(2),r=i(58),o=i(9),s="toString",a=/./[s],u=function(t){i(11)(RegExp.prototype,s,t,!0)};i(1)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?u(function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)}):a.name!=s&&u(function(){return a.call(this)})},function(t,e,i){"use strict";var c=i(2),f=i(7),p=i(93),d=i(59);i(60)("match",1,function(n,r,l,h){return[function(t){var e=n(this),i=null==t?void 0:t[r];return void 0!==i?i.call(t,e):new RegExp(t)[r](String(e))},function(t){var e=h(l,t,this);if(e.done)return e.value;var i=c(t),n=String(this);if(!i.global)return d(i,n);for(var r,o=i.unicode,s=[],a=i.lastIndex=0;null!==(r=d(i,n));){var u=String(r[0]);""===(s[a]=u)&&(i.lastIndex=p(n,f(i.lastIndex),o)),a++}return 0===a?null:s}]})},function(t,e,i){"use strict";var M=i(2),n=i(12),A=i(7),_=i(19),P=i(93),O=i(59),C=Math.max,L=Math.min,f=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g;i(60)("replace",2,function(r,o,k,S){return[function(t,e){var i=r(this),n=null==t?void 0:t[o];return void 0!==n?n.call(t,i,e):k.call(String(i),t,e)},function(t,e){var i=S(k,t,this,e);if(i.done)return i.value;var n=M(t),r=String(this),o="function"==typeof e;o||(e=String(e));var s=n.global;if(s){var a=n.unicode;n.lastIndex=0}for(var u=[];;){var l=O(n,r);if(null===l)break;if(u.push(l),!s)break;""===String(l[0])&&(n.lastIndex=P(r,A(n.lastIndex),a))}for(var h,c="",f=0,p=0;p<u.length;p++){l=u[p];for(var d=String(l[0]),g=C(L(_(l.index),r.length),0),y=[],v=1;v<l.length;v++)y.push(void 0===(h=l[v])?h:String(h));var m=l.groups;if(o){var b=[d].concat(y,g,r);void 0!==m&&b.push(m);var x=String(e.apply(void 0,b))}else x=w(d,r,g,y,m,e);f<=g&&(c+=r.slice(f,g)+x,f=g+d.length)}return c+r.slice(f)}];function w(o,s,a,u,l,t){var h=a+o.length,c=u.length,e=d;return void 0!==l&&(l=n(l),e=p),k.call(t,e,function(t,e){var i;switch(e.charAt(0)){case"$":return"$";case"&":return o;case"`":return s.slice(0,a);case"'":return s.slice(h);case"<":i=l[e.slice(1,-1)];break;default:var n=+e;if(0===n)return t;if(c<n){var r=f(n/10);return 0===r?t:r<=c?void 0===u[r-1]?e.charAt(1):u[r-1]+e.charAt(1):t}i=u[n-1]}return void 0===i?"":i})}})},function(t,e,i){"use strict";var u=i(2),l=i(105),h=i(59);i(60)("search",1,function(n,r,s,a){return[function(t){var e=n(this),i=null==t?void 0:t[r];return void 0!==i?i.call(t,e):new RegExp(t)[r](String(e))},function(t){var e=a(s,t,this);if(e.done)return e.value;var i=u(t),n=String(this),r=i.lastIndex;l(r,0)||(i.lastIndex=0);var o=h(i,n);return l(i.lastIndex,r)||(i.lastIndex=r),null===o?-1:o.index}]})},function(t,e,i){"use strict";var c=i(85),b=i(2),x=i(50),k=i(93),S=i(7),w=i(59),f=i(92),n=i(1),M=Math.min,p=[].push,s="split",d="length",g="lastIndex",A=4294967295,_=!n(function(){RegExp(A,"y")});i(60)("split",2,function(r,o,y,v){var m;return m="c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[d]||2!="ab"[s](/(?:ab)*/)[d]||4!="."[s](/(.?)(.?)/)[d]||1<"."[s](/()()/)[d]||""[s](/.?/)[d]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!c(t))return y.call(i,t,e);for(var n,r,o,s=[],a=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,l=void 0===e?A:e>>>0,h=new RegExp(t.source,a+"g");(n=f.call(h,i))&&!(u<(r=h[g])&&(s.push(i.slice(u,n.index)),1<n[d]&&n.index<i[d]&&p.apply(s,n.slice(1)),o=n[0][d],u=r,s[d]>=l));)h[g]===n.index&&h[g]++;return u===i[d]?!o&&h.test("")||s.push(""):s.push(i.slice(u)),s[d]>l?s.slice(0,l):s}:"0"[s](void 0,0)[d]?function(t,e){return void 0===t&&0===e?[]:y.call(this,t,e)}:y,[function(t,e){var i=r(this),n=null==t?void 0:t[o];return void 0!==n?n.call(t,i,e):m.call(String(i),t,e)},function(t,e){var i=v(m,t,this,e,m!==y);if(i.done)return i.value;var n=b(t),r=String(this),o=x(n,RegExp),s=n.unicode,a=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(_?"y":"g"),u=new o(_?n:"^(?:"+n.source+")",a),l=void 0===e?A:e>>>0;if(0===l)return[];if(0===r.length)return null===w(u,r)?[r]:[];for(var h=0,c=0,f=[];c<r.length;){u.lastIndex=_?c:0;var p,d=w(u,_?r:r.slice(c));if(null===d||(p=M(S(u.lastIndex+(_?0:c)),r.length))===h)c=k(r,c,s);else{if(f.push(r.slice(h,c)),f.length===l)return f;for(var g=1;g<=d.length-1;g++)if(f.push(d[g]),f.length===l)return f;c=h=p}}return f.push(r.slice(h)),f}]})},function(t,e,i){var a=i(3),u=i(94).set,l=a.MutationObserver||a.WebKitMutationObserver,h=a.process,c=a.Promise,f="process"==i(26)(h);t.exports=function(){var i,n,r,t=function(){var t,e;for(f&&(t=h.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?r():n=void 0,t}}n=void 0,t&&t.enter()};if(f)r=function(){h.nextTick(t)};else if(!l||a.navigator&&a.navigator.standalone)if(c&&c.resolve){var e=c.resolve(void 0);r=function(){e.then(t)}}else r=function(){u.call(a,t)};else{var o=!0,s=document.createTextNode("");new l(t).observe(s,{characterData:!0}),r=function(){s.data=o=!o}}return function(t){var e={fn:t,next:void 0};n&&(n.next=e),i||(i=e,r()),n=e}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,i){"use strict";var n=i(123),r=i(45);t.exports=i(63)("Map",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{get:function(t){var e=n.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return n.def(r(this,"Map"),0===t?0:t,e)}},n,!0)},function(t,e,i){"use strict";var n=i(123),r=i(45);t.exports=i(63)("Set",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{add:function(t){return n.def(r(this,"Set"),t=0===t?0:t,t)}},n)},function(t,e,i){"use strict";var o,n=i(22)(0),s=i(11),r=i(30),a=i(104),u=i(124),l=i(4),h=i(1),c=i(45),f="WeakMap",p=r.getWeak,d=Object.isExtensible,g=u.ufstore,y={},v=function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},m={get:function(t){if(l(t)){var e=p(t);return!0===e?g(c(this,f)).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(c(this,f),t,e)}},b=t.exports=i(63)(f,v,m,u,!0,!0);h(function(){return 7!=(new b).set((Object.freeze||Object)(y),7).get(y)})&&(a((o=u.getConstructor(v,f)).prototype,m),r.NEED=!0,n(["delete","has","get","set"],function(n){var t=b.prototype,r=t[n];s(t,n,function(t,e){if(!l(t)||d(t))return r.call(this,t,e);this._f||(this._f=new o);var i=this._f[n](t,e);return"set"==n?this:i})}))},function(t,e,i){"use strict";var n=i(124),r=i(45);i(63)("WeakSet",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{add:function(t){return n.def(r(this,"WeakSet"),t,!0)}},n,!1,!0)},function(t,e,i){"use strict";var n=i(0),r=i(64),o=i(95),l=i(2),h=i(35),c=i(7),s=i(4),a=i(3).ArrayBuffer,f=i(50),p=o.ArrayBuffer,d=o.DataView,u=r.ABV&&a.isView,g=p.prototype.slice,y=r.VIEW,v="ArrayBuffer";n(n.G+n.W+n.F*(a!==p),{ArrayBuffer:p}),n(n.S+n.F*!r.CONSTR,v,{isView:function(t){return u&&u(t)||s(t)&&y in t}}),n(n.P+n.U+n.F*i(1)(function(){return!new p(2).slice(1,void 0).byteLength}),v,{slice:function(t,e){if(void 0!==g&&void 0===e)return g.call(l(this),t);for(var i=l(this).byteLength,n=h(t,i),r=h(void 0===e?i:e,i),o=new(f(this,p))(c(r-n)),s=new d(this),a=new d(o),u=0;n<r;)a.setUint8(u++,s.getUint8(n++));return o}}),i(42)(v)},function(t,e,i){var n=i(0);n(n.G+n.W+n.F*!i(64).ABV,{DataView:i(95).DataView})},function(t,e,i){i(28)("Int8",1,function(n){return function(t,e,i){return n(this,t,e,i)}})},function(t,e,i){i(28)("Uint8",1,function(n){return function(t,e,i){return n(this,t,e,i)}})},function(t,e,i){i(28)("Uint8",1,function(n){return function(t,e,i){return n(this,t,e,i)}},!0)},function(t,e,i){i(28)("Int16",2,function(n){return function(t,e,i){return n(this,t,e,i)}})},function(t,e,i){i(28)("Uint16",2,function(n){return function(t,e,i){return n(this,t,e,i)}})},function(t,e,i){i(28)("Int32",4,function(n){return function(t,e,i){return n(this,t,e,i)}})},function(t,e,i){i(28)("Uint32",4,function(n){return function(t,e,i){return n(this,t,e,i)}})},function(t,e,i){i(28)("Float32",4,function(n){return function(t,e,i){return n(this,t,e,i)}})},function(t,e,i){i(28)("Float64",8,function(n){return function(t,e,i){return n(this,t,e,i)}})},function(t,e,i){var n=i(0),o=i(25),s=i(2),a=(i(3).Reflect||{}).apply,u=Function.apply;n(n.S+n.F*!i(1)(function(){a(function(){})}),"Reflect",{apply:function(t,e,i){var n=o(t),r=s(i);return a?a(n,e,r):u.call(n,e,r)}})},function(t,e,i){var n=i(0),a=i(36),u=i(25),l=i(2),h=i(4),r=i(1),c=i(106),f=(i(3).Reflect||{}).construct,p=r(function(){function t(){}return!(f(function(){},[],t)instanceof t)}),d=!r(function(){f(function(){})});n(n.S+n.F*(p||d),"Reflect",{construct:function(t,e){u(t),l(e);var i=arguments.length<3?t:u(arguments[2]);if(d&&!p)return f(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(c.apply(t,n))}var r=i.prototype,o=a(h(r)?r:Object.prototype),s=Function.apply.call(t,o,e);return h(s)?s:o}})},function(t,e,i){var n=i(8),r=i(0),o=i(2),s=i(29);r(r.S+r.F*i(1)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,i){o(t),e=s(e,!0),o(i);try{return n.f(t,e,i),!0}catch(t){return!1}}})},function(t,e,i){var n=i(0),r=i(20).f,o=i(2);n(n.S,"Reflect",{deleteProperty:function(t,e){var i=r(o(t),e);return!(i&&!i.configurable)&&delete t[e]}})},function(t,e,i){"use strict";var n=i(0),r=i(2),o=function(t){this._t=r(t),this._i=0;var e,i=this._k=[];for(e in t)i.push(e)};i(113)(o,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),n(n.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,i){var s=i(20),a=i(38),u=i(14),n=i(0),l=i(4),h=i(2);n(n.S,"Reflect",{get:function t(e,i){var n,r,o=arguments.length<3?e:arguments[2];return h(e)===o?e[i]:(n=s.f(e,i))?u(n,"value")?n.value:void 0!==n.get?n.get.call(o):void 0:l(r=a(e))?t(r,i,o):void 0}})},function(t,e,i){var n=i(20),r=i(0),o=i(2);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return n.f(o(t),e)}})},function(t,e,i){var n=i(0),r=i(38),o=i(2);n(n.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},function(t,e,i){var n=i(0);n(n.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,i){var n=i(0),r=i(2),o=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},function(t,e,i){var n=i(0);n(n.S,"Reflect",{ownKeys:i(126)})},function(t,e,i){var n=i(0),r=i(2),o=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,i){var u=i(8),l=i(20),h=i(38),c=i(14),n=i(0),f=i(31),p=i(2),d=i(4);n(n.S,"Reflect",{set:function t(e,i,n){var r,o,s=arguments.length<4?e:arguments[3],a=l.f(p(e),i);if(!a){if(d(o=h(e)))return t(o,i,n,s);a=f(0)}if(c(a,"value")){if(!1===a.writable||!d(s))return!1;if(r=l.f(s,i)){if(r.get||r.set||!1===r.writable)return!1;r.value=n,u.f(s,i,r)}else u.f(s,i,f(0,n));return!0}return void 0!==a.set&&(a.set.call(s,n),!0)}})},function(t,e,i){var n=i(0),r=i(76);r&&n(n.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},function(t,e,i){i(281),t.exports=i(10).Array.includes},function(t,e,i){"use strict";var n=i(0),r=i(54)(!0);n(n.P,"Array",{includes:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0)}}),i(41)("includes")},function(t,e,i){i(283),t.exports=i(10).String.padStart},function(t,e,i){"use strict";var n=i(0),r=i(127),o=i(62);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0,!0)}})},function(t,e,i){i(285),t.exports=i(10).String.padEnd},function(t,e,i){"use strict";var n=i(0),r=i(127),o=i(62);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0,!1)}})},function(t,e,i){i(287),t.exports=i(71).f("asyncIterator")},function(t,e,i){i(100)("asyncIterator")},function(t,e,i){i(289),t.exports=i(10).Object.getOwnPropertyDescriptors},function(t,e,i){var n=i(0),u=i(126),l=i(16),h=i(20),c=i(88);n(n.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,i,n=l(t),r=h.f,o=u(n),s={},a=0;o.length>a;)void 0!==(i=r(n,e=o[a++]))&&c(s,e,i);return s}})},function(t,e,i){i(291),t.exports=i(10).Object.values},function(t,e,i){var n=i(0),r=i(128)(!1);n(n.S,"Object",{values:function(t){return r(t)}})},function(t,e,i){i(293),t.exports=i(10).Object.entries},function(t,e,i){var n=i(0),r=i(128)(!0);n(n.S,"Object",{entries:function(t){return r(t)}})},function(t,e,i){"use strict";i(120),i(295),t.exports=i(10).Promise.finally},function(t,e,i){"use strict";var n=i(0),r=i(10),o=i(3),s=i(50),a=i(122);n(n.P+n.R,"Promise",{finally:function(e){var i=s(this,r.Promise||o.Promise),t="function"==typeof e;return this.then(t?function(t){return a(i,e()).then(function(){return t})}:e,t?function(t){return a(i,e()).then(function(){throw t})}:e)}})},function(t,e,i){i(297),i(298),i(299),t.exports=i(10)},function(t,e,i){var n=i(3),r=i(0),o=i(62),s=[].slice,a=/MSIE .\./.test(o),u=function(r){return function(t,e){var i=2<arguments.length,n=!!i&&s.call(arguments,2);return r(i?function(){("function"==typeof t?t:Function(t)).apply(this,n)}:t,e)}};r(r.G+r.B+r.F*a,{setTimeout:u(n.setTimeout),setInterval:u(n.setInterval)})},function(t,e,i){var n=i(0),r=i(94);n(n.G+n.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,i){for(var n=i(91),r=i(34),o=i(11),s=i(3),a=i(15),u=i(40),l=i(6),h=l("iterator"),c=l("toStringTag"),f=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=r(p),g=0;g<d.length;g++){var y,v=d[g],m=p[v],b=s[v],x=b&&b.prototype;if(x&&(x[h]||a(x,h,f),x[c]||a(x,c,v),u[v]=f,m))for(y in n)x[y]||o(x,y,n[y],!0)}},function(T,t){!function(t){"use strict";var u,e=Object.prototype,l=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",n=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag",s="object"==typeof T,a=t.regeneratorRuntime;if(a)s&&(T.exports=a);else{(a=t.regeneratorRuntime=s?T.exports:{}).wrap=b;var c="suspendedStart",f="suspendedYield",p="executing",d="completed",g={},h={};h[r]=function(){return this};var y=Object.getPrototypeOf,v=y&&y(y(L([])));v&&v!==e&&l.call(v,r)&&(h=v);var m=w.prototype=k.prototype=Object.create(h);S.prototype=m.constructor=w,w.constructor=S,w[o]=S.displayName="GeneratorFunction",a.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===S||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,o in t||(t[o]="GeneratorFunction")),t.prototype=Object.create(m),t},a.awrap=function(t){return{__await:t}},M(A.prototype),A.prototype[n]=function(){return this},a.AsyncIterator=A,a.async=function(t,e,i,n){var r=new A(b(t,e,i,n));return a.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},M(m),m[o]="Generator",m[r]=function(){return this},m.toString=function(){return"[object Generator]"},a.keys=function(i){var n=[];for(var t in i)n.push(t);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in i)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=L,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&l.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=u)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(i){if(this.done)throw i;var n=this;function t(t,e){return o.type="throw",o.arg=i,n.next=t,e&&(n.method="next",n.arg=u),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],o=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var s=l.call(r,"catchLoc"),a=l.call(r,"finallyLoc");if(s&&a){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;0<=i;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&l.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),O(i),g}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;O(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:L(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=u),g}}}function b(t,e,i,n){var o,s,a,u,r=e&&e.prototype instanceof k?e:k,l=Object.create(r.prototype),h=new C(n||[]);return l._invoke=(o=t,s=i,a=h,u=c,function(t,e){if(u===p)throw new Error("Generator is already running");if(u===d){if("throw"===t)throw e;return E()}for(a.method=t,a.arg=e;;){var i=a.delegate;if(i){var n=_(i,a);if(n){if(n===g)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===c)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=p;var r=x(o,s,a);if("normal"===r.type){if(u=a.done?d:f,r.arg===g)continue;return{value:r.arg,done:a.done}}"throw"===r.type&&(u=d,a.method="throw",a.arg=r.arg)}}),l}function x(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}function k(){}function S(){}function w(){}function M(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function A(u){var e;this._invoke=function(i,n){function t(){return new Promise(function(t,e){!function e(t,i,n,r){var o=x(u[t],u,i);if("throw"!==o.type){var s=o.arg,a=s.value;return a&&"object"==typeof a&&l.call(a,"__await")?Promise.resolve(a.__await).then(function(t){e("next",t,n,r)},function(t){e("throw",t,n,r)}):Promise.resolve(a).then(function(t){s.value=t,n(s)},function(t){return e("throw",t,n,r)})}r(o.arg)}(i,n,t,e)})}return e=e?e.then(t,t):t()}}function _(t,e){var i=t.iterator[e.method];if(i===u){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=u,_(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var n=x(i,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,g;var r=n.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=u),e.delegate=null,g):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function L(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,n=function t(){for(;++i<e.length;)if(l.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=u,t.done=!0,t};return n.next=n}}return{next:E}}function E(){return{value:u,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(U,G,t){var e,i,n,r;r=function(t,e,i,n,r,o,s,a,u,l,h,c,f,p,d,g,y,v,m,b,x,k,S,w,M,A,_,P,O,C,L,E,T,j,D,X,N,I,Y,F,B,R,H,W){"use strict";function z(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=z(e),i=z(i),n=z(n),r=z(r),o=z(o),s=z(s),a=z(a),u=z(u),l=z(l),h=z(h),c=z(c),f=z(f),p=z(p),d=z(d),g=z(g),y=z(y),v=z(v),m=z(m),b=z(b),x=z(x),k=z(k),S=z(S),w=z(w),M=z(M),A=z(A),_=z(_),P=z(P),O=z(O),C=z(C),L=z(L),E=z(E),T=z(T),j=z(j),D=z(D),X=z(X),N=z(N),I=z(I),Y=z(Y),F=z(F),B=z(B),R=z(R),W=z(W),e.default.registerConstructor("graph.position",i.default),e.default.registerConstructor("graph.axis.x",r.default),e.default.registerConstructor("graph.axis.y",o.default),e.default.registerConstructor("graph.axis.x.bar",s.default),e.default.registerConstructor("graph.axis.x.time",a.default),e.default.registerConstructor("graph.serie.line",u.default),e.default.registerConstructor("graph.serie.line.3d",l.default),e.default.registerConstructor("graph.serie.line.color",f.default),e.default.registerConstructor("graph.serie.contour",v.default),e.default.registerConstructor("graph.serie.bar",h.default),e.default.registerConstructor("graph.serie.box",c.default),e.default.registerConstructor("graph.serie.scatter",p.default),e.default.registerConstructor("graph.serie.zone",d.default),e.default.registerConstructor("graph.serie.zone.3d",g.default),e.default.registerConstructor("graph.serie.densitymap",y.default),e.default.registerConstructor(e.default.SERIE_LINE,u.default),e.default.registerConstructor(e.default.SERIE_LINE_3D,l.default),e.default.registerConstructor(e.default.SERIE_LINE_COLORED,f.default),e.default.registerConstructor(e.default.SERIE_CONTOUR,v.default),e.default.registerConstructor(e.default.SERIE_BAR,h.default),e.default.registerConstructor(e.default.SERIE_BOX,c.default),e.default.registerConstructor(e.default.SERIE_SCATTER,p.default),e.default.registerConstructor(e.default.SERIE_ZONE,d.default),e.default.registerConstructor(e.default.SERIE_ZONE_3D,g.default),e.default.registerConstructor(e.default.SERIE_DENSITYMAP,y.default),e.default.registerConstructor("graph.plugin.shape",D.default),e.default.registerConstructor("graph.plugin.drag",j.default),e.default.registerConstructor("graph.plugin.zoom",N.default),e.default.registerConstructor("graph.plugin.selectScatter",X.default),e.default.registerConstructor("graph.plugin.timeSerieManager",I.default),e.default.registerConstructor("graph.plugin.serielinedifference",Y.default),e.default.registerConstructor("graph.plugin.serieLineDifference",Y.default),e.default.registerConstructor("graph.plugin.axissplitting",F.default),e.default.registerConstructor("graph.plugin.makeTracesDifferent",B.default),e.default.registerConstructor("graph.plugin.peakPicking",R.default),e.default.registerConstructor("graph.shape",m.default),e.default.registerConstructor("graph.shape.areaundercurve",b.default),e.default.registerConstructor("graph.shape.arrow",x.default),e.default.registerConstructor("graph.shape.ellipse",k.default),e.default.registerConstructor("graph.shape.polygon",M.default),e.default.registerConstructor("graph.shape.label",S.default),e.default.registerConstructor("graph.shape.polyline",w.default),e.default.registerConstructor("graph.shape.line",A.default),e.default.registerConstructor("graph.shape.nmrintegral",_.default),e.default.registerConstructor("graph.shape.html",E.default),e.default.registerConstructor("graph.shape.peakintegration2d",P.default),e.default.registerConstructor("graph.shape.rect",O.default),e.default.registerConstructor("graph.shape.rectangle",O.default),e.default.registerConstructor("graph.shape.cross",C.default),e.default.registerConstructor("graph.shape.peakboundariescenter",L.default),e.default.registerConstructor("graph.legend",n.default),e.default.registerConstructor("graph.waveform",H.Waveform);var V=e.default;t.default=V,U.exports=G.default},i=[G,t(65),t(51),t(307),t(96),t(130),t(308),t(309),t(46),t(310),t(311),t(312),t(313),t(97),t(132),t(314),t(315),t(316),t(18),t(317),t(318),t(319),t(320),t(321),t(322),t(98),t(323),t(324),t(133),t(325),t(326),t(327),t(23),t(328),t(329),t(330),t(331),t(332),t(334),t(335),t(336),t(337),t(53),t(129)],void 0===(n="function"==typeof(e=r)?e.apply(G,i):e)||(U.exports=n)},function(r,o,t){var e,i,n,s;s=function(t,u,n,l){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,u=e(u),n=e(n),l=e(l);var i=function(o,s,t){var a=[];if(s.resize(t.width||400,t.height||300),t.axes&&(0,n.default)(o,s,t.axes),t.legend){var e={};t.legend.seriesHideable&&(e.isSerieHideable=!0),t.legend.seriesSelectable&&(e.isSerieSelectable=!0);var i=s.makeLegend(e);if(t.legend.position)switch(t.legend.position){case"bottom":i.setAutoPosition("bottom");break;case"top":i.setAutoPosition("top");break;case"left":i.setAutoPosition("left");break;case"right":i.setAutoPosition("right");break;default:i.setPosition(t.legend.position)}}t.series&&(Array.isArray(t.series)||(t.series=[t.series]),t.series.forEach(function(t,e){var i,n;switch(t.type){case"scatter":i=o.SERIE_SCATTER;break;case"bar":i=o.SERIE_BAR;break;case"box":i=o.SERIE_BOX;break;case"line":default:i=o.SERIE_LINE}switch(t.type){case"bar":n=o.newWaveformHash(),t.data.errors?n.setData(t.data.values):n.setData(t.data);break;default:case"line":case"scatter":(n=o.newWaveform()).setData(t.data.y,t.data.x)}t.data.errors&&(t.data.errors.xBar&&n.setErrorBarX(t.data.errors.xBar),t.data.errors.xBarAbove&&n.setErrorBarXAbove(t.data.errors.xBarAbove),t.data.errors.xBarBelow&&n.setErrorBarXBelow(t.data.errors.xBarBelow),t.data.errors.yBar&&n.setErrorBar(t.data.errors.yBar),t.data.errors.yBarAbove&&n.setErrorBarAbove(t.data.errors.yBarAbove),t.data.errors.yBarBelow&&n.setErrorBarBelow(t.data.errors.yBarBelow),t.data.errors.xBox&&n.setErrorBoxX(t.data.errors.xBox),t.data.errors.xBoxAbove&&n.setErrorBoxXAbove(t.data.errors.xBoxAbove),t.data.errors.xBoxBelow&&n.setErrorBoxXBelow(t.data.errors.xBoxBelow),t.data.errors.yBox&&n.setErrorBox(t.data.errors.yBox),t.data.errors.yBoxAbove&&n.setErrorBoxAbove(t.data.errors.yBoxAbove),t.data.errors.yBoxBelow&&n.setErrorBoxBelow(t.data.errors.yBoxBelow));var r=s.newSerie(t.name||"_serie_".concat(e),t.options||{},i);r.autoAxis(),t.excludeFromLegend&&r.excludeFromLegend(!0),n.xAxis&&a[n.xAxis]&&r.setXAxis(a[n.xAxis]),n.yAxis&&a[n.yAxis]&&r.setYAxis(a[n.yAxis]),n&&r.setWaveform(n),t.style&&(0,u.default)(o,r,t,i),t.annotations&&t.annotations.forEach(function(t){(0,l.default)(s,t,r,a)})})),t.annotations&&t.annotations.forEach(function(t){(0,l.default)(s,t,void 0,a)})};t.default=i,r.exports=o.default},i=[o,t(303),t(304),t(305)],void 0===(n="function"==typeof(e=s)?e.apply(o,i):e)||(r.exports=n)},function(i,n,t){var e,r,o;r=[n],void 0===(o="function"==typeof(e=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(r,o,t,s){var e=t.style;Array.isArray(e)||(e=[{name:"unselected",style:e}]),e.map(function(t,e){var i=t.name,n=t.style;!n.line||s!=r.SERIE_LINE&&s!=r.SERIE_BAR||(n.line.color&&o.setLineColor(n.line.color,i),n.line.width&&o.setLineWidth(n.line.width,i),n.line.dash&&o.setLineStyle(n.line.dash,i),n.line.fill&&o.setFillColor(n.line.fill,i),n.line.fillOpacity&&o.setFillOpacity&&o.setFillOpacity(n.line.fillOpacity,i)),n.errorBar&&o.setErrorBarStyle(n.errorBar),n.errorBox&&o.setErrorBoxStyle(n.errorBox),!n.marker||s!=r.SERIE_LINE&&s!=r.SERIE_SCATTER||function(t,e,i){t.showMarkers();var n={},r=[];e.default?(n=e.default,e.modifiers&&(r=e.modifiers)):(n=e,r=[]),t.setMarkerStyle(n,r,i)}(o,n.marker,i)})};t.default=e,i.exports=n.default})?e.apply(n,r):e)||(i.exports=o)},function(i,n,t){var e,r,o;r=[n],void 0===(o="function"==typeof(e=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(n,r,o,t,s){Array.isArray(t)||(t=[t]),t.forEach(function(t){var e;"x"==o?o="bottom":"y"==o&&(o="left"),"bottom"==o||"top"==o?(e="graph.axis.x","category"==t.type&&(e+=".bar")):e="graph.axis.y";var i=new(n.getConstructor(e))(r,o);i.init(r,t),"bottom"==o?r.setBottomAxis(i,r.getNumAxes("bottom")):"top"==o?r.setTopAxis(i,r.getNumAxes("top")):"left"==o?r.setLeftAxis(i,r.getNumAxes("left")):"right"==o&&r.setRightAxis(i,r.getNumAxes("right")),"category"==t.type&&(i.categories=t.categories),t.name&&(s[name]=i)})},e=function(t,e,i){var n=[];i.x&&r(t,e,"x",i.x,n),i.y&&r(t,e,"y",i.y,n),i.top&&r(t,e,"top",i.top,n),i.left&&r(t,e,"left",i.left,n),i.bottom&&r(t,e,"bottom",i.bottom,n),i.right&&r(t,e,"right",i.right,n)};t.default=e,i.exports=n.default})?e.apply(n,r):e)||(i.exports=o)},function(i,n,t){var e,r,o;r=[n],void 0===(o="function"==typeof(e=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(t,r,e,i){if(r.type){r.properties.label&&(Array.isArray(r.properties.label)||(r.properties.label=[r.properties.label]),r.properties.label.forEach(function(t,e){for(var i in t){var n="label"+i.charAt(0).toUpperCase()+i.slice(1);r.properties[n]||(r.properties[n]=[]),r.properties[n][e]=t[i]}}));var n=t.newShape(r.type,{},!1,r.properties);r.serie&&n.setSerie(r.serie),e&&n.setSerie(e),r.layer&&n.setLayer(r.layer),r.xAxis&&n.setXAxis(i[r.xAxis]),r.yAxis&&n.setYAxis(i[r.yAxis]),n.draw(),n.redraw()}};t.default=e,i.exports=n.default})?e.apply(n,r):e)||(i.exports=o)},function(a,u,t){var e,i,n;i=[u],void 0===(n="function"==typeof(e=function(t){"use strict";var e;if(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,"undefined"==typeof URL||void 0===URL.createObjectURL||"undefined"==typeof Blob||"undefined"==typeof Worker)e=function(){};else{var n,r={},i=function(){onmessage=function(e){var t,i,n,r,o,s,a,u=e.data.data,l=e.data.maxX,h=e.data.minX,c=e.data.maxY,f=e.data.minY,p=e.data.direction,d=e.data.numPoints,g=u.length,y=0,v=-4,m=[],b=[],x=[],k=[];t=e.data.xdata?function(t){return e.data.xdata[t]}:function(t){return t*e.data.xScale+e.data.xOffset};var S={};if("x"==p)for(var w=d/(l-h);y<g;y++){if(i=Math.floor((t(y)-h)*w),m[v]!==i){var M=((m[v+=4]=i)+.5)/w+h;b[v]=M,b[v+1]=M,b[v+2]=M,b[v+3]=M,x[v]=u[y],x[v+1]=u[y],x[v+2]=u[y],x[v+3]=u[y],k[v]=0}x[v+1]=Math.min(u[y],x[v+1]),x[v+2]=Math.max(u[y],x[v+2]),x[v+3]=u[y],k[v]+=u[y]}else for(var A=d/(c-f);y<g;y++){if(i=Math.floor((u[y]-f)*A),m[v]!==i){var _=((m[v+=4]=i)+.5)/A+f;x[v]=_,x[v+1]=_,x[v+2]=_,x[v+3]=_,b[v]=u[y],b[v+1]=u[y],b[v+2]=u[y],b[v+3]=u[y],k[v]=0}b[v+1]=Math.min(t(y),b[v+1]),b[v+2]=Math.max(t(y),b[v+2]),b[v+3]=t(y),k[v]+=t(y)}for(S[d]={x:b,y:x,sums:k},r=x,n=b,o=k;256<d;){if(d/=2,s=[],a=[],v=0,"x"==p)for(y=0,g=r.length-8;y<g;y+=8)a[v]=(n[y]+n[y+4])/2,a[v+1]=a[v],a[v+2]=a[v],a[v+3]=a[v],s[v]=r[y],s[v+1]=Math.min(r[y+1],r[y+5]),s[v+2]=Math.max(r[y+2],r[y+6]),s[v+3]=r[y+7],k[v]=(o[y]+o[y+4])/2,v+=4;else for(y=0,g=r.length-8;y<g;y+=8)s[v]=(r[y]+r[y+4])/2,s[v+1]=s[v],s[v+2]=s[v],s[v+3]=s[v],a[v]=n[y],a[v+1]=Math.min(n[y+1],n[y+5]),a[v+2]=Math.max(n[y+2],n[y+6]),a[v+3]=n[y+7],k[v]=(o[y]+o[y+4])/2,v+=4;S[d]={x:a,y:s,sums:k},r=s,n=a,o=k,k=[]}postMessage({aggregates:S,_queueId:e.data._queueId})}}.toString();i=(i=i.replace(/^\s*function\s*\(\s*\)\s*\{/,"")).replace(/}\s*$/,"");var o=URL.createObjectURL(new Blob([i],{type:"application/javascript"}));(n=new Worker(o)).onmessage=function(t){var e=t.data._queueId;delete t.data._queueId,r[e](t.data),delete r[e]},e=function(t){var e=Date.now();t._queueId=e;var i=new Promise(function(t){r[e]=t});return n.postMessage(t),i}}var s=e;t.default=s,a.exports=u.default})?e.apply(u,i):e)||(a.exports=n)},function(r,u,t){var e,i,n,o;o=function(t,n,o){"use strict";var e;function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n=(e=n)&&e.__esModule?e:{default:e},o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(o);var a={backgroundColor:"rgba(255, 255, 255, 0.8)",frame:!0,frameWidth:1,frameColor:"black",paddingTop:10,paddingLeft:10,paddingBottom:10,paddingRight:10,color:"black",frameRounding:0,movable:!1,shapesToggleable:!0,isSerieHideable:!0,isSerieSelectable:!0};function d(t){try{return t.getBBox()}catch(t){return{height:0,width:0,x:0,y:0}}}var i=function(){function r(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.options=o.extend({},a,e),this.graph=t,this.svg=document.createElementNS(this.graph.ns,"g"),this.subG=document.createElementNS(this.graph.ns,"g"),this.groups=[],this.rect=document.createElementNS(this.graph.ns,"rect"),this.rectBottom=document.createElementNS(this.graph.ns,"rect"),this.rect.setAttribute("x",0),this.rect.setAttribute("y",0),this.rectBottom.setAttribute("x",0),this.rectBottom.setAttribute("y",0),this.series=!1,this.svg.setAttribute("display","none"),this.pos={x:void 0,y:void 0,transformX:0,transformY:0},this.setEvents(),this.eyeId=o.guid(),this.eyeCrossedId=o.guid();var i=o.SVGParser('<svg xmlns="http://www.w3.org/2000/svg"><symbol id="'.concat(this.eyeCrossedId,'" viewBox="0 -256 1850 1850"><rect pointer-events="fill" fill="transparent" x="-256" y="0" width="2106" height="1850" /><g transform="matrix(1,0,0,-1,30.372881,1214.339)"><path d="m 555,201 78,141 q -87,63 -136,159 -49,96 -49,203 0,121 61,225 Q 280,812 128,576 295,318 555,201 z m 389,759 q 0,20 -14,34 -14,14 -34,14 -125,0 -214.5,-89.5 Q 592,829 592,704 q 0,-20 14,-34 14,-14 34,-14 20,0 34,14 14,14 14,34 0,86 61,147 61,61 147,61 20,0 34,14 14,14 14,34 z m 363,191 q 0,-7 -1,-9 Q 1201,954 991,576 781,198 675,9 l -49,-89 q -10,-16 -28,-16 -12,0 -134,70 -16,10 -16,28 0,12 44,87 Q 349,154 228.5,262 108,370 20,507 0,538 0,576 q 0,38 20,69 153,235 380,371 227,136 496,136 89,0 180,-17 l 54,97 q 10,16 28,16 5,0 18,-6 13,-6 31,-15.5 18,-9.5 33,-18.5 15,-9 31.5,-18.5 16.5,-9.5 19.5,-11.5 16,-10 16,-27 z m 37,-447 Q 1344,565 1265,450.5 1186,336 1056,286 l 280,502 q 8,-45 8,-84 z m 448,-128 q 0,-35 -20,-69 Q 1733,443 1663,362 1513,190 1315.5,95 1118,0 896,0 l 74,132 q 212,18 392.5,137 180.5,119 301.5,307 -115,179 -282,294 l 63,112 q 95,-64 182.5,-153 87.5,-89 144.5,-184 20,-34 20,-69 z" fill="#c0c0c0"></path></g></symbol></svg>')),n=o.SVGParser('<svg xmlns="http://www.w3.org/2000/svg"><symbol id="'.concat(this.eyeId,'" viewBox="0 -256 1850 1850"><rect pointer-events="fill" x="-256" y="0" fill="transparent" width="2106" height="1850" /><g transform="matrix(1,0,0,-1,30.372881,1259.8983)"><path d="m 1664,576 q -152,236 -381,353 61,-104 61,-225 0,-185 -131.5,-316.5 Q 1081,256 896,256 711,256 579.5,387.5 448,519 448,704 448,825 509,929 280,812 128,576 261,371 461.5,249.5 662,128 896,128 1130,128 1330.5,249.5 1531,371 1664,576 z M 944,960 q 0,20 -14,34 -14,14 -34,14 -125,0 -214.5,-89.5 Q 592,829 592,704 q 0,-20 14,-34 14,-14 34,-14 20,0 34,14 14,14 14,34 0,86 61,147 61,61 147,61 20,0 34,14 14,14 14,34 z m 848,-384 q 0,-34 -20,-69 Q 1632,277 1395.5,138.5 1159,0 896,0 633,0 396.5,139 160,278 20,507 0,542 0,576 q 0,34 20,69 140,229 376.5,368 236.5,139 499.5,139 263,0 499.5,-139 236.5,-139 376.5,-368 20,-35 20,-69 z" fill="#444444" /></g></symbol></svg>'));this.svg.appendChild(document.adoptNode(n.documentElement.firstChild)),this.svg.appendChild(document.adoptNode(i.documentElement.firstChild)),this.svg.appendChild(this.subG),this.applyStyle()}var t,e,i;return t=r,(e=[{key:"setPosition",value:function(t,e,i){t&&(this.position=t,this.alignToX=e||"left",this.alignToY=i||"top")}},{key:"setDraggable",value:function(t){this.options.movable=t}},{key:"setAutoPosition",value:function(t){if(-1<["bottom","left","top","right"].indexOf(t=t.toLowerCase()))return this.autoPosition=t,this;this.requireDelayedUpdate(),this.autoPosition=!1}},{key:"autoPosition",value:function(){return this.setAutoPosition.apply(this,arguments)}},{key:"kill",value:function(){this.autoPosition?this.graph.getDom().removeChild(this.getDom()):this.graph.graphingZone.removeChild(this.getDom())}},{key:"buildLegendBox",value:function(){var t=this.series||this.graph.getSeries(),e=0,i=this.options.paddingTop;this.autoPosition?this.graph.getDom().appendChild(this.getDom()):this.graph.graphingZone.appendChild(this.getDom());for(var n=0,r=t.length;n<r;n++)if(!t[n].excludedFromLegend||this.series){if("bottom"==this.autoPosition||"top"==this.autoPosition)e+(o=d(this.groups[n])).width>this.graph.getDrawingWidth()-this.options.paddingRight&&(i+=16,e=0);this.groups[n].setAttribute("transform","translate( ".concat(e,", ").concat(i,")")),"bottom"==this.autoPosition||"top"==this.autoPosition?(e+=o.width+10,i+=0):(e=0,i+=16)}var o=d(this.subG);switch(this.width=o.width+this.options.paddingRight+this.options.paddingLeft,this.height=o.height+this.options.paddingBottom+this.options.paddingTop,this.rect.setAttribute("width",this.width),this.rect.setAttribute("height",this.height),this.rect.setAttribute("fill","none"),this.rect.setAttribute("pointer-events","fill"),this.rect.setAttribute("display","none"),this.options.movable&&(this.rectBottom.style.cursor="move"),this.rectBottom.setAttribute("width",this.width),this.rectBottom.setAttribute("height",this.height),this.rectBottom.setAttribute("x",o.x-this.options.paddingLeft),this.rectBottom.setAttribute("y",o.y-this.options.paddingTop),this.position=this.position||{},this.autoPosition){case"bottom":this.position.y="".concat(this.graph.getHeight(),"px"),this.position.x="".concat((this.graph.drawingSpaceWidth-this.width)/2+this.graph.drawingSpaceMinX,"px"),this.alignToY="bottom",this.alignToX=!1;break;case"left":this.position.x="6px",this.position.y="".concat((this.graph.getHeight()-this.height)/2,"px"),this.alignToX="left",this.alignToY=!1;break;case"right":this.position.x="".concat(this.graph.getWidth(),"px"),this.position.y="".concat((this.graph.getHeight()-this.height)/2,"px"),this.alignToX="right",this.alignToY=!1;break;case"top":this.position.x="".concat((this.graph.drawingSpaceWidth-this.width)/2+this.graph.drawingSpaceMinX,"px"),this.position.y="10px",this.alignToY="top",this.alignToX=!1;break;default:return void console.error("Position is not supported")}if(this.autoPosition){var s;switch(this.autoPosition){case"bottom":this.graph.options.paddingBottom=this.height+10,s=this.height!==this.previousHeight;break;case"top":this.graph.options.paddingTop=this.height+14,s=this.height!==this.previousHeight;break;case"left":this.graph.options.paddingLeft=this.width+5,s=this.width!==this.previousWidth;break;case"right":this.graph.options.paddingRight=this.width+10,s=this.width!==this.previousWidth}s&&(this.graph.draw(!0),this.previousHeight=this.height,this.previousWidth=this.width)}this.bbox=o}},{key:"calculatePosition",value:function(){var t=n.default.check(this.position),e=t.compute(this.graph,this.graph.getXAxis(),this.graph.getYAxis());e&&(t.y,t.x,"right"==this.alignToX&&(e.x-=this.width),"bottom"==this.alignToY&&(e.y-=this.height),this.pos.transformX=e.x,this.pos.transformY=e.y,this._setPosition())}},{key:"update",value:function(t){var e=this;if(!(this.graph.isDelayedUpdate()||!this._requiredUpdate&&t)){this._requiredUpdate=!1;var o=this;for(this.applyStyle();this.subG.hasChildNodes();)this.subG.removeChild(this.subG.lastChild);this.svg.insertBefore(this.rectBottom,this.svg.firstChild);var s=this.series||this.graph.getSeries();if(0<s.length){if(this.svg.setAttribute("display","block"),"bottom"==this.autoPosition||"top"==this.autoPosition)this.graph.getDrawingWidth();for(var i=function(i,t){if(s[i].excludedFromLegend&&!e.series)return"continue";0;var n=i;"bottom"!=e.autoPosition&&"top"!=e.autoPosition||e.graph.getDrawingWidth(),a=document.createElementNS(o.graph.ns,"g"),u=document.createElementNS(o.graph.ns,"rect"),o.subG.appendChild(a),a.appendChild(u),s[i].getSymbolForLegend(),l=s[i]._getSymbolForLegendContainer(),h=s[i].getMarkerForLegend(),c=s[i].getTextForLegend(),f=35;var r=document.createElementNS(o.graph.ns,"use");e.isHideable()&&(f+=20,r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#".concat(s[i].isShown()?e.eyeId:e.eyeCrossedId)),r.setAttribute("width",15),r.setAttribute("height",15),r.setAttribute("x",35),r.setAttribute("y",-8),r.addEventListener("click",function(t){var e;t.stopPropagation(),e=s[n].isShown()?(s[n].hide(o.options.hideShapesOnHideSerie),o.eyeCrossedId):(s[n].show(o.options.hideShapesOnHideSerie),o.eyeId),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#".concat(e))})),c.setAttribute("transform","translate(".concat(f,", 3)")),c.setAttribute("fill",e.options.color),l&&a.appendChild(l),"scatter"==s[i].getType()&&l.setAttribute("transform","translate( 20, 0 )"),h&&a.appendChild(h),r&&a.appendChild(r),a.appendChild(c),p=d(a),u.setAttribute("x",p.x),u.setAttribute("y",p.y),u.setAttribute("width",p.width),u.setAttribute("height",p.height),u.setAttribute("fill","none"),u.setAttribute("pointer-events","fill"),(o.groups[i]=a).addEventListener("click",function(t){var e=s[i];e.isShown()&&(o.isSelectable()&&!e.isSelected()?o.graph.selectSerie(e):o.graph.unselectSerie(e),t.preventDefault(),t.stopPropagation())})},n=0,r=s.length;n<r;n++){var a,u,l,h,c,f,p;i(n)}this.svg.appendChild(this.rect),this.buildLegendBox(),this.calculatePosition()}}}},{key:"isHideable",value:function(){return this.options.isSerieHideable}},{key:"notHideable",value:function(){return this.options.isSerieHideable=!1,this}},{key:"hideable",value:function(){return this.options.isSerieHideable=!0,this}},{key:"isSelectable",value:function(){return this.options.isSerieSelectable}},{key:"isToggleShapes",value:function(){return this.options.shapesToggleable}},{key:"getDom",value:function(){return this.svg}},{key:"setEvents",value:function(){var e=this,i=this.pos;this.svg.addEventListener("mousedown",function(t){t.stopPropagation(),e.options.movable&&(i.x=t.clientX,i.y=t.clientY,t.preventDefault(),e.mousedown=!0,e.graph.elementMoving(e),e.rect.setAttribute("display","block"))}),this.svg.addEventListener("click",function(t){t.stopPropagation()}),this.svg.addEventListener("dblclick",function(t){t.stopPropagation()}),this.svg.addEventListener("mousemove",function(t){e.handleMouseMove(t)})}},{key:"handleMouseUp",value:function(t){t.stopPropagation(),t.preventDefault(),this.mousedown=!1,this.rect.setAttribute("display","none"),this.graph.elementMoving(!1)}},{key:"handleMouseMove",value:function(t){if(this.mousedown){var e=this.pos,i=t.clientX-e.x,n=t.clientY-e.y;e.transformX+=i,e.transformY+=n,e.x=t.clientX,e.y=t.clientY,t.stopPropagation(),t.preventDefault(),this._setPosition()}}},{key:"_setPosition",value:function(){var t=this.pos;isNaN(t.transformX)||isNaN(t.transformY)||!1===t.transformX||!1===t.transformY||this.svg.setAttribute("transform","translate(".concat(t.transformX,", ").concat(t.transformY,")"))}},{key:"applyStyle",value:function(){this.options.frame&&(this.rectBottom.setAttribute("stroke",this.options.frameColor),this.rectBottom.setAttribute("stroke-width","".concat(this.options.frameWidth,"px")),this.rectBottom.setAttribute("rx",this.options.frameRounding),this.rectBottom.setAttribute("ry",this.options.frameRounding)),this.rectBottom.setAttribute("fill",this.options.backgroundColor)}},{key:"fixSeries",value:function(){var t=[];if(!1===arguments[0])return this.series=!1,void this.update();for(var e=0,i=arguments.length;e<i;e++)Array.isArray(arguments[e])?t=t.concat(arguments[e]):t.push(arguments[e]);this.update(),this.series=t}},{key:"fixSeriesAdd",value:function(t){this.series=this.series||[],this.series.push(t)}},{key:"requireDelayedUpdate",value:function(){this._requiredUpdate=!0}},{key:"seriesHideable",set:function(t){this.options.isSerieHideable=!!t},get:function(){return this.options.isSerieHideable}}])&&s(t.prototype,e),i&&s(t,i),r}();t.default=i,r.exports=u.default},i=[u,t(51),t(5)],void 0===(n="function"==typeof(e=o)?e.apply(u,i):e)||(r.exports=n)},function(n,r,t){var e,i,o,s;s=function(t,o){"use strict";var e;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o=(e=o)&&e.__esModule?e:{default:e};var i=function(t){function n(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),u(this,l(n).call(this,t,e,i))}var e,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(n,o.default),e=n,(i=[{key:"draw",value:function(){var t,e=this,i=this._barCategories;if(this.series&&0!=this.series.length||this.autoSeries(),this.forceMin(0),this.forceMax(1),this.cacheCurrentMin(),this.cacheCurrentMax(),this.cacheInterval(),i){Array.isArray(i)||(i=[i]);for(var n=0;n<=i.length;n++)this.drawTick(n/i.length,2),n<i.length&&((t=this.nextTickLabel(function(t){t.setAttribute("y",(e.top?-1:1)*((1==e.options.tickPosition?8:20)+(e.top?10:0))),t.setAttribute("text-anchor","middle"),"black"!==e.getTicksLabelColor()&&t.setAttribute("fill",e.getTicksLabelColor()),t.style.dominantBaseline="hanging"})).setAttribute("x",this.getPos((n+.5)/i.length)),t.textContent=i[n].title);return this.drawSpecifics(),this}}},{key:"autoSeries",value:function(){var t=[],e=!0,i=!1,n=void 0;try{for(var r,o=this.graph.series[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;s.getXAxis()==this&&t.push(s)}}catch(t){i=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw n}}return this.setSeries.apply(this,t),this}},{key:"setSeries",value:function(){var i=this;return this.series=arguments,Array.prototype.map.call(this.series,function(t,e){"object"!=s(t)&&(t=i.graph.getSerie(t)),t.setCategoryConfig&&t.setCategoryConfig(e,i._barCategories,i.series.length)}),this._getUsedCategories(),this}},{key:"_getUsedCategories",value:function(){var u={},l=0;Array.prototype.map.call(this.series,function(t){var e=t.getUsedCategories(),i=!0,n=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var a=o.value;u.hasOwnProperty(a)||(u[a]=1,l+=1),u[a]++,l++}}catch(t){n=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(n)throw r}}});var t=0;for(var e in u){var i=u[e];u[e]=t,t+=i}var n={};Array.prototype.map.call(this.series,function(t){var e=t.getUsedCategories(),i={};e.forEach(function(t){n[t]=n[t]||.5,i[t]=(u[t]+n[t])/l,n[t]++}),t.setDataIndices(i,l)})}},{key:"getType",value:function(){return"category"}},{key:"categories",set:function(t){return this._barCategories=t,this}}])&&a(e.prototype,i),r&&a(e,r),n}();t.default=i,n.exports=r.default},i=[r,t(96)],void 0===(o="function"==typeof(e=s)?e.apply(r,i):e)||(n.exports=o)},function(f,p,t){var e,i,n,r;r=function(t,o,d){"use strict";var e;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t,e,i){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o=(e=o)&&e.__esModule?e:{default:e},d=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(d);var m,b,x,k,g=[{threshold:20,increments:{1:{increment:1,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:1,unit:"s",format:'MM:ss"s"'}}},{threshold:50,increments:{1:{increment:1,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:2,unit:"s",format:'MM:ss"s"'}}},{threshold:100,increments:{1:{increment:1,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:5,unit:"s",format:'MM:ss"s"'}}},{threshold:600,increments:{1:{increment:10,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:30,unit:"s",format:'MM:ss"s"'}}},{threshold:1e3,increments:{1:{increment:1,unit:"h",format:'HH"h"MM (dd/mm/yy)'},2:{increment:10,unit:"i",format:'MM"min"'}}},{threshold:1500,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:1,unit:"i",format:'H"h"MM'}}},{threshold:3e3,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:2,unit:"i",format:'H"h"MM'}}},{threshold:8e3,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:10,unit:"i",format:'H"h"MM'}}},{threshold:26400,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:20,unit:"i",format:'H"h"MM'}}},{threshold:86400,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:1,unit:"h",format:'H"h"MM'}}},{threshold:2e5,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:2,unit:"h",format:'H"h"MM'}}},{threshold:4e5,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:6,unit:"h",format:'H"h"MM'}}},{threshold:14e5,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:12,unit:"h",format:'HH"h"MM'}}},{threshold:64e5,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:1,unit:"d",format:"dd"}}},{threshold:124e5,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:2,unit:"d",format:"dd"}}},{threshold:432e5,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:7,unit:"d",format:"dd"}}},{threshold:6912e4,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:15,unit:"d",format:"dd"}}},{threshold:864e5,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:3,unit:"m",format:"mm/yyyy"}}},{threshold:1728e5,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:4,unit:"m",format:"mm/yyyy"}}},{threshold:864e6,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:6,unit:"m",format:"mm/yyyy"}}},{threshold:10368e5,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:1,unit:"y",format:"yyyy"}}}],S=(m=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[WLloSZ]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,x=/[^-+\dA-Z]/g,k=function(t,e){for(t=String(t),e=e||2;t.length<e;)t="0".concat(t);return t},function(t,e,i){var n=S;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(t)||/\d/.test(t)||(e=t,t=void 0),t=t?new Date(t):new Date,isNaN(t))throw SyntaxError("invalid date:".concat(t));"UTC:"==(e=String(n.masks[e]||e||n.masks.default)).slice(0,4)&&(e=e.slice(4),i=!0);var r,o,s,a=i?"getUTC":"get",u=t["".concat(a,"Date")](),l=t["".concat(a,"Day")](),h=t["".concat(a,"Month")](),c=t["".concat(a,"FullYear")](),f=t["".concat(a,"Hours")](),p=t["".concat(a,"Minutes")](),d=t["".concat(a,"Seconds")](),g=t["".concat(a,"Milliseconds")](),y=i?0:t.getTimezoneOffset(),v={d:u,dd:k(u),ddd:n.i18n.dayNames[l],dddd:n.i18n.dayNames[l+7],m:h+1,mm:k(h+1),mmm:n.i18n.monthNames[h],mmmm:n.i18n.monthNames[h+12],yy:String(c).slice(2),yyyy:c,h:f%12||12,hh:k(f%12||12),H:f,HH:k(f),M:p,MM:k(p),s:d,ss:k(d),l:k(g,3),L:k(99<g?Math.round(g/10):g),t:f<12?"a":"p",tt:f<12?"am":"pm",T:f<12?"A":"P",TT:f<12?"AM":"PM",Z:i?"UTC":(String(t).match(b)||[""]).pop().replace(x,""),o:(0<y?"-":"+")+k(100*Math.floor(Math.abs(y)/60)+Math.abs(y)%60,4),S:["th","st","nd","rd"][3<u%10?0:(u%100-u%10!=10)*u%10],W:(r=t,o=a,s=new Date(r["".concat(o,"FullYear")](),0,1),Math.ceil(((r-s)/864e5+s["".concat(o,"Day")]()+1)/7))};return e.replace(m,function(t){return t in v?v[t]:t.slice(1,t.length-1)})});function n(t,e){return Math.round(t/e)*e}function y(t,e){switch(e.unit){case"s":t.setSeconds(n(t.getSeconds(),e.increment)),t.setMilliseconds(0);break;case"i":t.setMinutes(n(t.getMinutes(),e.increment)),t.setSeconds(0),t.setMilliseconds(0);break;case"h":t.setHours(n(t.getHours(),e.increment)),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);break;case"d":t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(n(t.getDate(),e.increment));break;case"m":t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(1),t.setMonth(n(t.getMonth(),e.increment));break;case"y":t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(1),t.setMonth(0);break;default:throw new Error("Date format not recognized")}return t}function v(t,e){switch(e.unit){case"s":t.setSeconds(t.getSeconds()+e.increment),t.setMilliseconds(0);break;case"i":t.setMinutes(t.getMinutes()+e.increment),t.setSeconds(0),t.setMilliseconds(0);break;case"h":t.setHours(t.getHours()+e.increment),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);break;case"d":t.setDate(t.getDate()+e.increment),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0);break;case"m":t.setMonth(t.getMonth()+e.increment),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(1);break;case"y":t.setFullYear(t.getFullYear()+e.increment),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(1),t.setMonth(0);break;default:throw new Error("Date format not recognized")}return t}function w(t,e,i){if(t.groups[e][i])return t.groups[e][i].group.setAttribute("display","block"),t.groups[e][i];var n={group:document.createElementNS(t.graph.ns,"g"),text:document.createElementNS(t.graph.ns,"text")},r=document.createElementNS(t.graph.ns,"line");switch(r.setAttribute("stroke","black"),r.setAttribute("y1",0),e){case 2:r.setAttribute("y2",6),n.text.setAttribute("y",15),n.line=r,n.group.appendChild(n.line);break;default:case 1:r.setAttribute("y2",20),n.text.setAttribute("y",10),n.line1=r,n.line2=r.cloneNode(),n.group.appendChild(n.line1),n.group.appendChild(n.line2)}return n.text.setAttribute("text-anchor","middle"),n.text.setAttribute("dominant-baseline","middle"),n.group.appendChild(n.text),t.getWrapper(e).appendChild(n.group),t.groups[e][i]=n}function M(t,e,i){for(;i<t.groups[e].length;i++)c(t.groups[e][i])}function c(t){t.group.setAttribute("display","none")}function A(t,e,i,n,r,o,s){switch(t){case 2:if(o<n||r<o)return void c(e);e.line.setAttribute("x1",o),e.line.setAttribute("x2",o),e.text.setAttribute("x",o),e.text.textContent=i;break;default:case 1:var a=Math.max(n,Math.min(r,o)),u=Math.max(n,Math.min(r,s));if(isNaN(u)||isNaN(a))return;for(e.line1.setAttribute("x1",a),e.line2.setAttribute("x1",u),e.line1.setAttribute("x2",a),e.line2.setAttribute("x2",u),e.text.setAttribute("x",(a+u)/2);8*i.length>u-a;)if(1==(i="".concat(i.substr(0,i.length-2),".")).length){i="";break}e.text.textContent=i}}S.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},S.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};var r=function(t){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),a(this,l(n).apply(this,arguments))}var e,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(n,o.default),e=n,(i=[{key:"init",value:function(t,e){u(l(n.prototype),"init",this).call(this,t,e),this.wrapper={1:document.createElementNS(t.ns,"g"),2:document.createElementNS(t.ns,"g")},this.groups={1:[],2:[]};var i=document.createElementNS(t.ns,"rect");i.setAttribute("fill","#c0c0c0"),i.setAttribute("stroke","#808080"),i.setAttribute("height","20"),i.setAttribute("x","0"),i.setAttribute("y","0"),this.rect=i,this.wrapper[1].appendChild(this.rect),this.group.appendChild(this.wrapper[1]),this.group.appendChild(this.wrapper[2]),this.wrapper[1].setAttribute("transform","translate( 0, 25 )"),this.wrapper[2].setAttribute("transform","translate( 0, 00 )")}},{key:"draw",value:function(){this.cacheCurrentMax(),this.cacheCurrentMin(),null!=this.currentAxisMin&&null!=this.currentAxisMax||this.setMinMaxToFitSeries(!0),this.line.setAttribute("x1",this.getMinPx()),this.line.setAttribute("x2",this.getMaxPx()),this.line.setAttribute("y1",0),this.line.setAttribute("y2",0);var t,e=this.maxPx-this.minPx,i=this.getCurrentInterval()/e,n=this.getCurrentMax(),r=this.getCurrentMin();if(this.rect.setAttribute("width",e),this.rect.setAttribute("x",this.minPx),!n||!r)return 0;for(h=0;h<g.length;h++)if(g[h].threshold>i){t=g[h];break}t||(t=g[g.length-1]);var o,s,a,u,l,h,c,f,p=0;for(p=1;p<=2;p++){if(!d.isNumeric(r)){M(this,p,0);break}a=y(new Date(r),t.increments[p]),h=0;do{if(c=a,f=t.increments[p].format,u=S(c,f),l=w(this,p,h),o=this.getPx(a.getTime()),a=v(a,t.increments[p]),s=this.getPx(a.getTime()),A(p,l,u,this.getMinPx(),this.getMaxPx(),o,s),100<++h)break}while(a.getTime()<n);M(this,p,h)}}},{key:"isX",value:function(){return!0}},{key:"getWrapper",value:function(t){return this.wrapper[t]}},{key:"setShift",value:function(t){this.shift=t,this.group.setAttribute("transform","translate(0 ".concat(this.top?this.shift:this.graph.getDrawingHeight()-this.shift,")"))}},{key:"getAxisPosition",value:function(){return 60}},{key:"setMinMaxFlipped",value:function(){var t=this.maxPx-this.minPx,e=t*this.options.span[1]+this.minPx,i=t*this.options.span[0]+this.minPx;this.minPxFlipped=this.isFlipped()?e:i,this.maxPxFlipped=this.isFlipped()?i:e}}])&&s(e.prototype,i),r&&s(e,r),n}();t.default=r,f.exports=p.default},i=[p,t(66),t(5)],void 0===(n="function"==typeof(e=r)?e.apply(p,i):e)||(f.exports=n)},function(p,d,t){var e,i,n,r;r=function(t,e,i,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e,i){return e&&u(t.prototype,e),i&&u(t,i),t}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=n(e),i=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(i),r=n(r);var c=function(t){function n(t,e,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),s(this,a(n).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(n,r.default),l(n,null,[{key:"defaults",value:function(){return{zpos:0}}}]),l(n,[{key:"setZPos",value:function(t){return this.options.zpos=t,this}},{key:"setz",value:function(){return this.setZPos.apply(this,arguments)}}]),n}();i.mix(c,e.default);var f=c;t.default=f,p.exports=d.default},i=[d,t(131),t(5),t(46)],void 0===(n="function"==typeof(e=r)?e.apply(d,i):e)||(p.exports=n)},function(c,f,t){var e,i,n,r;r=function(t,e,i,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(e),i=n(i),o=n(o);var h=function(t){function r(t,e,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=a(this,u(r).apply(this,arguments))).pathDom=document.createElementNS(n.graph.ns,"path"),n.groupMain.appendChild(n.pathDom),n.styles={},n.styles.unselected={lineColor:n.options.lineColor,lineStyle:n.options.lineStyle,lineWidth:n.options.lineWidth,fillColor:n.options.fillColor,fillOpacity:n.options.fillOpacity,markers:n.options.markers},n}var e,i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(r,o.default),e=r,(i=[{key:"setFillColor",value:function(t,e,i){return e=e||"unselected",this.styles[e]=this.styles[e]||{},this.styles[e].fillColor=t,i&&this.setFillColor(t,"selected"),this.styleHasChanged(e),this}},{key:"getFillColor",value:function(t){return this.getStyle(t).fillColor}},{key:"setFillOpacity",value:function(t,e,i){return e=e||"unselected",this.styles[e]=this.styles[e]||{},this.styles[e].fillOpacity=t,i&&this.setLineWidth(t,"selected"),this.styleHasChanged(e),this}},{key:"getFillOpacity",value:function(t){return this.getStyle(t).fillOpacity||1}},{key:"applyLineStyles",value:function(){this.applyLineStyle(this.pathDom)}},{key:"applyLineStyle",value:function(t){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()),this.getLineDashArray()?t.setAttribute("stroke-dasharray",this.getLineDashArray()):t.removeAttribute("stroke-dasharray"),t.setAttribute("fill",this.getFillColor()),t.setAttribute("fill-opacity",this.getFillOpacity()||1)}},{key:"draw",value:function(){var t="";this.hasErrors()&&this.errorDrawInit();for(var e=0;e<this.waveform.getLength();e++)if(this.categoryIndices[this.waveform.getX(e)]&&(t+="M ".concat(this.getXAxis().getPos(this.categoryIndices[this.waveform.getX(e)])," ").concat(this.getYAxis().getPos(this.getYAxis().getCurrentMin())," V ").concat(this.getYAxis().getPos(this.waveform.getY(e))," h ").concat(this.getXAxis().getDeltaPx(1/this.nbCategories)," V ").concat(this.getYAxis().getPos(this.getYAxis().getCurrentMin())),this.hasErrors())){var i=this.getXAxis().getPos(this.categoryIndices[this.waveform.getX(e)])+this.getXAxis().getDeltaPx(1/this.nbCategories)/2,n=this.getYAxis().getPos(this.waveform.getY(e));this.errorAddPoint(e,this.waveform.getX(e),this.waveform.getY(e),i,n)}this.hasErrors()&&this.errorDraw(),this.pathDom.setAttribute("d",t),this.applyLineStyles()}},{key:"setMarkers",value:function(){}},{key:"getUsedCategories",value:function(){return this.waveform.xdata}}])&&s(e.prototype,i),n&&s(e,n),r}();t.default=h,c.exports=f.default},i=[f,t(5),t(67),t(46)],void 0===(n="function"==typeof(e=r)?e.apply(f,i):e)||(c.exports=n)},function(o,c,t){var e,i,n,r;r=function(t,A,r){"use strict";var e;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r=(e=r)&&e.__esModule?e:{default:e};var h={orientation:"y",maxBoxWidth:20,defaultStyle:{meanLineColor:"rgb( 100, 0, 0 )",meanLineWidth:2,boxAboveLineWidth:1,boxAboveLineColor:"rgb( 0, 0, 0 )",boxAboveFillColor:"transparent",boxAboveFillOpacity:1,boxBelowLineWidth:1,boxBelowLineColor:"rgb( 0, 0, 0 )",boxBelowFillColor:"transparent",boxBelowFillOpacity:1,barAboveLineColor:"rgba( 0, 0, 0, 1 )",barAboveLineWidth:1,barBelowLineColor:"rgba( 0, 0, 0, 1 )",barBelowLineWidth:1,outlierLineWidth:1,outlierLineColor:"rgb( 255, 255, 255 )",outlierFillColor:"rgb( 0, 0, 0 )",outlierFillOpacity:1}},n=function(t){function o(t,e,i){var n,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(n=a(this,u(o).call(this,t,e,i,(0,A.extend)(!0,{},h,r)))).pathDom=document.createElementNS(n.graph.ns,"path"),n.groupMain.appendChild(n.pathDom),n.styles={},n.styles.unselected=n.options.defaultStyle,n}var e,i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(o,r.default),e=o,(i=[{key:"setData",value:function(t,e){if(this.data=t,Array.isArray(t)){var i,n,r,o,s;for(var a in"y"==this.options.orientation?(i=this.getXAxis(),n=this.getYAxis(),r=this._checkX.bind(this),o=this._checkY.bind(this),s=!0,this.minY=t[0].Q2,this.maxY=t[0].Q2,this.maxX=t[0].x,this.minX=t[0].x):(i=this.getYAxis(),n=this.getXAxis(),r=this._checkY.bind(this),o=this._checkX.bind(this),s=!1,this.minX=t[0].Q2,this.maxX=t[0].Q2,this.maxY=t[0].y,this.minY=t[0].y),e&&(r=function(){},o=function(){}),i&&n||(0,A.throwError)("Error in setting data of the box serie. The X and Y axes must be set beforehand"),this.data)this.data[a].pos=s?(r(this.data[a].x),this.data[a].x):(r(this.data[a].y),this.data[a].y),this.data[a].Q3&&o(this.data[a].Q3),this.data[a].Q1&&o(this.data[a].Q1),this.data[a].whiskers?Array.isArray(this.data[a].whiskers)?(0<this.data[a].whiskers.length&&o(this.data[a].whiskers[0]),1<this.data[a].whiskers.length&&o(this.data[a].whiskers[1])):(o(this.data[a].whiskers),this.data[a].whiskers=[this.data[a].whiskers]):this.data[a].whiskers=[],Array.isArray(this.data[a].outliers)?this.data[a].outliers.map(function(t){return o(t)}):this.data[a].outliers=[];return this.dataHasChanged(),this.graph.updateDataMinMaxAxes(),this}}},{key:"_style",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"unselected",n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];return this.styles[i]=this.styles[i]||{},this.styles[i][t]=e,n&&this._set(t,e,"selected"),this.styleHasChanged(i),this}},{key:"_gstyle",value:function(t,e){return this.getStyle(e)[t]}},{key:"getStyle",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"unselected";return this.styles[t]||{}}},{key:"setMeanLineColor",value:function(){return this._style.apply(this,["meanLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getMeanLineColor",value:function(){return this._gstyle.apply(this,["meanLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setStyle",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"unselected";this.styles[e]=(0,A.extend)({},this.default().defaultStyle,this.styles.unselected,t),this.styleHasChanged(e)}},{key:"setMeanLineWidth",value:function(){return this._style.apply(this,["meanLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getMeanLineWidth",value:function(){return this._gstyle.apply(this,["meanLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxAboveLineColor",value:function(){return this._style.apply(this,["boxAboveLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxAboveLineColor",value:function(){return this._gstyle.apply(this,["boxAboveLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxBelowLineColor",value:function(){return this._style.apply(this,["boxBelowLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxBelowLineColor",value:function(){return this._gstyle.apply(this,["boxBelowLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxAboveLineWidth",value:function(){return this._style.apply(this,["boxAboveLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxAboveLineWidth",value:function(){return this._gstyle.apply(this,["boxAboveLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxBelowLineWidth",value:function(){return this._style.apply(this,["boxBelowLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxBelowLineWidth",value:function(){return this._gstyle.apply(this,["boxBelowLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxAboveFillColor",value:function(){return this._style.apply(this,["boxAboveFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxAboveFillColor",value:function(){return this._gstyle.apply(this,["boxAboveFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxBelowFillColor",value:function(){return this._style.apply(this,["boxBelowFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxBelowFillColor",value:function(){return this._gstyle.apply(this,["boxBelowFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxAboveFillOpacity",value:function(){return this._style.apply(this,["boxAboveFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxAboveFillOpacity",value:function(){return this._gstyle.apply(this,["boxAboveFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxBelowFillOpacity",value:function(){return this._style.apply(this,["boxBelowFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxBelowFillOpacity",value:function(){return this._gstyle.apply(this,["boxBelowFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBarAboveLineColor",value:function(){return this._style.apply(this,["barAboveLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBarAboveLineColor",value:function(){return this._gstyle.apply(this,["barAboveLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBarBelowLineColor",value:function(){return this._style.apply(this,["barBelowLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBarBelowLineColor",value:function(){return this._gstyle.apply(this,["barBelowLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBarAboveLineWidth",value:function(){return this._style.apply(this,["barAboveLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBarAboveLineWidth",value:function(){return this._gstyle.apply(this,["barAboveLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBarBelowLineWidth",value:function(){return this._style.apply(this,["barBelowLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBarBelowLineWidth",value:function(){return this._gstyle.apply(this,["barBelowLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setOutlierLineColor",value:function(){return this._style.apply(this,["outlierLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getOutlierLineColor",value:function(){return this._gstyle.apply(this,["outlierLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setOutlierLineWidth",value:function(){return this._style.apply(this,["outlierLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getOutlierLineWidth",value:function(){return this._gstyle.apply(this,["outlierLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setOutlierFillColor",value:function(){return this._style.apply(this,["outlierFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getOutlierFillColor",value:function(){return this._gstyle.apply(this,["outlierFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setOutlierFillOpacity",value:function(){return this._style.apply(this,["outlierFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"getOutlierFillOpacity",value:function(){return this._gstyle.apply(this,["outlierFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"applyLineStyles",value:function(){this.applyLineStyle(this.pathDom)}},{key:"applyLineStyle",value:function(t){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()),t.removeAttribute("stroke-dasharray"),t.setAttribute("fill",this.getFillColor()),t.setAttribute("fill-opacity",this.getFillOpacity()||1)}},{key:"draw",value:function(){var i=this;if(this.data){var n,t,e,r,o,s,a,u,l="y"==this.options.orientation?this.getYAxis():this.getXAxis(),h="y"==this.options.orientation?this.getXAxis():this.getYAxis();if((0,A.emptyDom)(this.groupMain),"category"==h.getType())t=h.getRelPx(.8/this.nbCategories),!0;else{t=this.options.maxBoxWidth;for(var c=0,f=this.data.length;c<f-1;c++)t=Math.max(5,Math.min(t,Math.abs(h.getPx(this.data[c+1].x)-h.getPx(this.data[c].x))))}for(c=0,f=this.data.length;c<f;c++){if("category"==h.getType()){var p="y"==this.options.orientation?this.data[c].x:this.data[c].y;if(this.categoryIndices.hasOwnProperty(p))n=[h.getPos(this.categoryIndices[p])+1.2*t/2];else if(Array.isArray(this._linkedToScatterSeries)){var d=!0,g=!1,y=void 0;try{for(var v,m=this._linkedToScatterSeries[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){var b=v.value;if(b.categoryIndices.hasOwnProperty(p)){n=[h.getPos(b.categoryIndices[p])+1.2*t/2],l="y"==this.options.orientation?b.getYAxis():b.getXAxis();break}}}catch(t){g=!0,y=t}finally{try{d||null==m.return||m.return()}finally{if(g)throw y}}}}else n=[h.getPos("y"==this.options.orientation?this.data[c].x:this.data[c].y),t];e=l.getPos(this.data[c].Q2),r=l.getPos(this.data[c].Q3),o=l.getPos(this.data[c].Q1),this.data[c].whiskers.map(function(t){t<i.data[c].Q1?a=l.getPos(t):s=l.getPos(t)}),u=this.data[c].outliers.map(function(t){return l.getPos(t)});var x=document.createElementNS(this.graph.ns,"line");this.applyMeanStyle(x);var k=document.createElementNS(this.graph.ns,"rect"),S=document.createElementNS(this.graph.ns,"rect");"y"==this.options.orientation?(k.setAttribute("width",t),k.setAttribute("x",n[0]-t/2),S.setAttribute("width",t),S.setAttribute("x",n[0]-t/2),x.setAttribute("x1",n[0]-t/2),x.setAttribute("x2",n[0]+t/2),x.setAttribute("y1",e),x.setAttribute("y2",e)):(k.setAttribute("height",t),k.setAttribute("y",n[0]-t/2),S.setAttribute("height",t),S.setAttribute("y",n[0]-t/2),x.setAttribute("y1",n[0]-t/2),x.setAttribute("y2",n[0]+t/2),x.setAttribute("x1",e),x.setAttribute("x2",e)),this.boxPos(k,e,r,"x"==this.options.orientation),this.boxPos(S,e,o,"x"==this.options.orientation),this.applyBoxStyle(k,S);var w=document.createElementNS(this.graph.ns,"line"),M=document.createElementNS(this.graph.ns,"line");"y"==this.options.orientation?(void 0!==s&&(w.setAttribute("y1",r),w.setAttribute("y2",s),w.setAttribute("x1",n[0]),w.setAttribute("x2",n[0])),void 0!==a&&(M.setAttribute("y1",o),M.setAttribute("y2",a),M.setAttribute("x1",n[0]),M.setAttribute("x2",n[0]))):(void 0!==s&&(w.setAttribute("x1",r),w.setAttribute("x2",s),w.setAttribute("y1",n[0]),w.setAttribute("y2",n[0])),void 0!==a&&(M.setAttribute("x1",o),M.setAttribute("x2",a),M.setAttribute("y1",n[0]),M.setAttribute("y2",n[0]))),u.map(function(t){var e=document.createElementNS(i.graph.ns,"circle");e.setAttribute("r",2),"y"==i.options.orientation?(e.setAttribute("cx",n[0]),e.setAttribute("cy",t)):(e.setAttribute("cy",n[0]),e.setAttribute("cx",t)),i.setOutlierStyle(e),i.groupMain.appendChild(e)}),void 0!==s&&this.groupMain.appendChild(w),void 0!==a&&this.groupMain.appendChild(M),void 0!==r&&this.groupMain.appendChild(k),void 0!==o&&this.groupMain.appendChild(S),this.groupMain.appendChild(x),this.applyWhiskerStyle(w,M)}}}},{key:"applyBoxStyle",value:function(t,e){t.setAttribute("stroke",this.getBoxAboveLineColor()),t.setAttribute("stroke-width",this.getBoxAboveLineWidth()),void 0!==this.getBoxAboveFillColor()&&t.setAttribute("fill",this.getBoxAboveFillColor()),void 0!==this.getBoxAboveFillOpacity()&&t.setAttribute("fill-opacity",this.getBoxAboveFillOpacity()),e.setAttribute("stroke",this.getBoxBelowLineColor()),e.setAttribute("stroke-width",this.getBoxBelowLineWidth()),void 0!==this.getBoxBelowFillColor()&&e.setAttribute("fill",this.getBoxBelowFillColor()),void 0!==this.getBoxAboveFillOpacity()&&e.setAttribute("fill-opacity",this.getBoxBelowFillOpacity())}},{key:"applyWhiskerStyle",value:function(t,e){t.setAttribute("stroke",this.getBarAboveLineColor()),t.setAttribute("stroke-width",this.getBarAboveLineWidth()),e.setAttribute("stroke",this.getBarBelowLineColor()),e.setAttribute("stroke-width",this.getBarBelowLineWidth())}},{key:"applyMeanStyle",value:function(t){t.setAttribute("stroke",this.getMeanLineColor()),t.setAttribute("stroke-width",this.getMeanLineWidth())}},{key:"setOutlierStyle",value:function(t){t.setAttribute("stroke",this.getOutlierLineColor()),t.setAttribute("stroke-width",this.getOutlierLineWidth()),void 0!==this.getBoxBelowFillColor()&&t.setAttribute("fill",this.getOutlierFillColor()),void 0!==this.getBoxAboveFillOpacity()&&t.setAttribute("fill-opacity",this.getOutlierFillOpacity())}},{key:"getCategoryIndex",value:function(t){if(!this.categories)throw new Error("No categories were defined. Probably axis.setSeries was not called");for(var e=0;e<this.categories.length;e++)if(this.categories[e].name==t)return e;return!1}},{key:"setMarkers",value:function(){}},{key:"boxPos",value:function(t,e,i,n){i<e?(t.setAttribute(n?"x":"y",i),t.setAttribute(n?"width":"height",e-i)):(t.setAttribute(n?"x":"y",e),t.setAttribute(n?"width":"height",i-e))}},{key:"getUsedCategories",value:function(){var e="y"==this.options.orientation?"x":"y",i=this.data.map(function(t){return t[e]});return Array.isArray(this._linkedToScatterSeries)&&this._linkedToScatterSeries.map(function(t){t.getUsedCategories().map(function(t){var e;-1<(e=i.indexOf(t))&&i.splice(e,1)})}),i}},{key:"linkToScatterSerie",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._linkedToScatterSeries=e}}])&&s(e.prototype,i),n&&s(e,n),o}();t.default=n,o.exports=c.default},i=[c,t(5),t(68)],void 0===(n="function"==typeof(e=r)?e.apply(c,i):e)||(o.exports=n)},function(c,f,t){var e,i,n,r;r=function(t,e,i,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(e),i=n(i),o=n(o);var h=function(t){function r(t,e,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=a(this,u(r).apply(this,arguments))).lines=n.lines||{},n}var e,i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(r,o.default),e=r,(i=[{key:"setColors",value:function(t){this.colors=t}},{key:"_draw",value:function(){var t,e,i,n,r,o,s,a,u=this,l=(this._dataToUse,0),h=!1,c=!1,f=this.getXAxis(),p=this.getYAxis(),d=f.getCurrentMin(),g=p.getCurrentMin(),y=f.getCurrentMax(),v=p.getCurrentMax();for(this.eraseLines(),this.isFlipped()&&(1,0),this.currentLine="",e=this.waveform.getLength(),t=0;t<e;t+=2)if(i=this.waveform.getX(t),n=this.waveform.getY(t),i<d&&h<d||y<i&&y<h||(n<g&&c<g||v<n&&v<c)&&!this.options.lineToZero)h=i,c=n,!0;else if(this.counter2=t,s=this.getX(i),a=this.getY(n),s!=r||a!=o)if(i<d||n<g||y<i||v<n,isNaN(s)||isNaN(a))this.counter;else{var m=this.colors[t];this._addPoint(s,a,i,n,r,o,h,c,t,m,!1,!0),r=s,o=a,h=i,c=n}if(this.latchLines(),this._tracker){this._trackerDom&&this._trackerDom.remove();var b=this.groupLines.cloneNode(!0);this.groupMain.appendChild(b);l=0;for(var x=b.children.length;l<x;l++)b.children[l].setAttribute("stroke","transparent"),b.children[l].setAttribute("stroke-width","25px"),b.children[l].setAttribute("pointer-events","stroke");u._trackerDom=b,u.groupMain.addEventListener("mousemove",function(t){var e=u.graph._getXY(t),i=u.handleMouseMove(!1,!1);u._trackingCallback(u,i,e.x,e.y)}),u.groupMain.addEventListener("mouseleave",function(t){u._trackingOutCallback(u)})}return this}},{key:"_addPoint",value:function(t,e,i,n,r,o,s,a,u,l,h,c){if(void 0!==r&&void 0!==o&&!isNaN(t)&&!isNaN(e)){l._rgb&&(l="rgba(".concat(l._rgb[0],",").concat(l._rgb[1],",").concat(l._rgb[2],",").concat(l._rgb[3]||1,")"));var f=this.lines[l];f||((f=this.lines[l]={object:document.createElementNS(this.graph.ns,"path"),path:"",color:l}).object.setAttribute("stroke",l),f.color=l,this.groupLines.appendChild(f.object)),f.path+="M ".concat(r," ").concat(o," L ").concat(t," ").concat(e),this.hasErrors()&&this.errorAddPoint(u,i,n,t,e)}}},{key:"removeExtraLines",value:function(){}},{key:"latchLines",value:function(){for(var t in this.lines)this.lines[t].object.setAttribute("d",this.lines[t].path)}},{key:"eraseLines",value:function(){for(var t in this.lines)this.lines[t].path="",this.lines[t].object.setAttribute("d","")}},{key:"applyLineStyle",value:function(t){t.setAttribute("stroke-width",this.getLineWidth()),this.getLineDashArray()?t.setAttribute("stroke-dasharray",this.getLineDashArray()):t.removeAttribute("stroke-dasharray"),t.setAttribute("fill","none")}}])&&s(e.prototype,i),n&&s(e,n),r}();t.default=h,c.exports=f.default},i=[f,t(5),t(67),t(46)],void 0===(n="function"==typeof(e=r)?e.apply(f,i):e)||(c.exports=n)},function(p,d,t){var e,i,n,r;r=function(t,e,i,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e,i){return e&&u(t.prototype,e),i&&u(t,i),t}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=n(e),i=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(i),r=n(r);var c=function(t){function n(t,e,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),s(this,a(n).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(n,r.default),l(n,null,[{key:"default",value:function(){return{zpos:0}}}]),l(n,[{key:"setZPos",value:function(t){return this.options.zpos=t,this}},{key:"setz",value:function(){return this.setZPos.apply(this,arguments)}}]),n}();i.mix(c,e.default);var f=c;t.default=f,p.exports=d.default},i=[d,t(131),t(5),t(132)],void 0===(n="function"==typeof(e=r)?e.apply(d,i):e)||(p.exports=n)},function(n,s,t){var e,i,r,o;o=function(t,a,r){"use strict";var e;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(a),r=(e=r)&&e.__esModule?e:{default:e};var i=function(t){function s(t,e,i){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),r=this,n=!(o=l(s).apply(this,arguments))||"object"!==u(o)&&"function"!=typeof o?c(r):o,a.mapEventEmission(n.options,c(c(n))),n.rects=[],n.paths=[],n.recalculateBinsOnDraw=!1,n}var e,i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(s,r.default),e=s,(i=[{key:"setData",value:function(t){this.minX=this.maxX=this.minY=this.maxY=0;var e=0,i=t.length;for(this.data=t,this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY,e=0;e<i;e++)this._checkX(t[e][0]),this._checkY(t[e][1]);return this.dataHasChanged(),this.graph.updateDataMinMaxAxes(),this}},{key:"calculateDensity",value:function(t,e,i,n,r,o){var s,a,u,l=[],h=this.data.length,c=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY;for(s=0;s<h;s++)a=~~((this.data[s][0]-t)/e),u=~~((this.data[s][1]-n)/r),i<a||o<u||a<0||u<0||(l[a]=l[a]||[],l[a][u]=l[a][u]+1||1,c=l[a][u]<c?l[a][u]:c,f=l[a][u]>f?l[a][u]:f);return this.maxIndexX=i,this.maxIndexY=o,this.binMin=c,this.binMax=f,this.deltaX=e,this.deltaY=r,this.fromX=t,this.fromY=n,this.numX=i,this.numY=o,this.densitymap=l}},{key:"setDensityMap",value:function(t,e,i,n,r){var o,s,a=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY;for(o=0;o<t.length;o++)for(s=0;s<t[o].length;s++)a=t[o][s]<a?t[o][s]:a,u=t[o][s]>u?t[o][s]:u;return this.maxIndexX=t.length,this.maxIndexY=t[0].length,this.binMin=a,this.binMax=u,this.deltaX=i,this.deltaY=r,this.fromX=e,this.fromY=n,this.numX=this.maxIndexX,this.numY=this.maxIndexY,this.densitymap=t}},{key:"calculateDensityWeighted",value:function(t,e,i,n,r,o){var s,a,u,l,h,c,f,p,d,g,y,v=[],m=this.data.length,b=Number.POSITIVE_INFINITY,x=Number.NEGATIVE_INFINITY;for(s=0;s<m;s++)c=(this.data[s][0]-t)/e-.5,f=(this.data[s][1]-n)/r-.5,d=(p=a=Math.floor(c))+1,y=(g=u=Math.floor(f))+1,l=1-(c-a),h=1-(f-u),i<a||o<u||a<0||u<0||(v[p]=v[p]||[],v[d]=v[d]||[],v[p][g]=v[p][g]||0,v[d][g]=v[d][g]||0,v[p][y]=v[p][y]||0,v[d][y]=v[d][y]||0,v[p][g]+=l*h,v[d][g]+=(1-l)*h,v[p][y]+=l*(1-h),v[d][y]+=(1-l)*(1-h),b=v[p][g]<b?v[p][g]:b,x=v[p][g]>x?v[p][g]:x,b=v[d][g]<b?v[d][g]:b,x=v[d][g]>x?v[d][g]:x,b=v[p][y]<b?v[p][y]:b,x=v[p][y]>x?v[p][y]:x,b=v[d][y]<b?v[d][y]:b,x=v[d][y]>x?v[d][y]:x);return this.maxIndexX=i,this.maxIndexY=o,this.binMin=b,this.binMax=x,this.deltaX=e,this.deltaY=r,this.fromX=t,this.fromY=n,this.numX=i,this.numY=o,this.densitymap=v}},{key:"autoBins",value:function(t,e){return this.numX=t||400,this.numY=e||this.numX,this.calculateDensity(this.minX,(this.maxX-this.minX)/t,t,this.minY,(this.maxY-this.minY)/e,e),this.recalculateBinsOnDraw=!1,this}},{key:"setPxPerBin",value:function(t,e,i){return t&&this.calculationDensityMap({from:"min",to:"max",pxPerBin:t,weighted:i}),e&&this.calculationDensityMap(!1,{from:"min",to:"max",pxPerBin:e,weighted:i}),this}},{key:"setBinsFromTo",value:function(t,e,i,n){return this.densityMapCalculation=this.densityMapCalculation||{},this.densityMapCalculation[t]={from:e,to:i,numBins:n},this.calculationDensityMap(),this}},{key:"calculationDensityMap",value:function(t,e){this.method=this.calculateDensityAdvanced,this.densityMapCalculation=this.densityMapCalculation||{},t&&(this.densityMapCalculation.x=t),e&&(this.densityMapCalculation.y=e)}},{key:"calculateDensityAdvanced",value:function(){var t={x:{from:0,num:0,delta:0,weighing:!1},y:{from:0,num:0,delta:0,weighing:!1}},e={x:this.graph.drawingSpaceWidth,y:this.graph.drawingSpaceHeight},i={x:this.getXAxis,y:this.getYAxis},n=!1;for(var r in this.densityMapCalculation)if(this.densityMapCalculation[r].weighted&&(n=!0,t[r].weighing=!0),this.densityMapCalculation[r].pxPerBin){var o="min"==this.densityMapCalculation[r].from?i[r].call(this).getCurrentMin():this.densityMapCalculation[r].from,s="max"==this.densityMapCalculation[r].to?i[r].call(this).getCurrentMax():this.densityMapCalculation[r].to,a=Math.abs(i[r].call(this).getRelPx(s-o));t[r].num=Math.ceil(e[r]/this.densityMapCalculation[r].pxPerBin),t[r].from=o-Math.abs(i[r].call(this).getRelVal((t[r].num*this.densityMapCalculation[r].pxPerBin-a)/2)),t[r].delta=Math.abs(i[r].call(this).getRelVal(this.densityMapCalculation[r].pxPerBin))}else t[r].num=this.densityMapCalculation[r].numBins||400,t[r].from="min"==this.densityMapCalculation[r].from?i[r].call(this).getCurrentMin():this.densityMapCalculation[r].from,t[r].delta=this.densityMapCalculation[r].to?(("max"==this.densityMapCalculation[r].to?i[r].call(this).getCurrentMax():this.densityMapCalculation[r].to)-t[r].from)/t[r].num:this.densityMapCalculate[r].delta;(n?this.calculateDensityWeighted:this.calculateDensity).call(this,t.x.from,t.x.delta,t.x.num,t.y.from,t.y.delta,t.y.num)}},{key:"setColorMapBinBoundaries",value:function(t,e,i){return this.colorMapMin=t,this.colorMapMax=e,i||(this.callbackColorMapMinMax="manual"),this}},{key:"autoColorMapBinBoundaries",value:function(){return this.colorMapMin=this.binMin,this.colorMapMax=this.binMax,this}},{key:"onRedrawColorMapBinBoundaries",value:function(t){return this.callbackColorMapMinMax=t,this}},{key:"colorMapHSL",value:function(t,e,i){i=i||"linear";for(var n,r,o={exp:function(t){return(Math.exp(t/e*1)-Math.exp(0))/(Math.exp(1)-Math.exp(0))},log:function(t){return(Math.log(t+1)-Math.log(1))/(Math.log(e+1)-Math.log(1))},linear:function(t){return(t-0)/(e-0)}},s=0,a=[],u=[],l={h:null,s:null,l:null,a:null},h=t.length-1,c=0;c<=e;c++){for(var f in n=o[i](c),(r=Math.floor(n*h))==t.length-1&&(r=h-1),n=(n-r/h)/(1/h),l)l[f]=(t[r+1][f]-t[r][f])*n+t[r][f];a[s]="hsl(".concat(l.h,", ").concat(Math.round(100*l.s),"%, ").concat(Math.round(100*l.l),"%)"),u[s]=l.a,s++}return this.opacities=u,this.colorMap=a,this.colorMapNum=e,this}},{key:"autoColorMapHSL",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"linear";return this.colorMapHSL(t,100,e),this}},{key:"getColorIndex",value:function(t){return Math.max(0,Math.min(this.colorMapNum,Math.floor((t-this.colorMapMin)/(this.colorMapMax-this.colorMapMin)*this.colorMapNum)))}},{key:"draw",value:function(){var t;if(this.method&&this.method(),this.callbackColorMapMinMax&&null!=this.colorMapMin&&null!=this.colorMapMax&&"auto"!=this.callbackColorMapMinMax){if("function"==typeof this.callbackColorMapMinMax){var e=this.callbackColorMapMinMax(this.binMin,this.binMax);this.setColorMapBinBoundaries(e[0],e[1],!0)}}else this.autoColorMapBinBoundaries();for(var i=this.getXAxis().getRelPx(this.deltaX),n=this.getYAxis().getRelPx(this.deltaY),r=0;r<this.paths.length;r++)this.paths[r]="";for(r=0;r<this.maxIndexX;r++)for(var o=0;o<this.maxIndexY;o++)null!=this.densitymap[r]&&null!=this.densitymap[r][o]&&(t=this.getColorIndex(this.densitymap[r][o]),this.paths[t]||(this.paths[t]=""),this.paths[t]+=" M ".concat(this.getXAxis().getPx(r*this.deltaX+this.fromX)," ").concat(this.getYAxis().getPx(o*this.deltaY+this.fromY)," h ").concat(i," v ").concat(n," h -").concat(i," z"));this.drawRects()}},{key:"drawRects",value:function(){for(var t=0;t<this.paths.length;t++)this.rects[t]||(this.rects[t]=document.createElementNS(this.graph.ns,"path"),this.rects[t].setAttribute("shape-rendering","crispEdges")),void 0!==this.paths[t]&&(this.rects[t].setAttribute("d",this.paths[t]),this.rects[t].setAttribute("fill",this.colorMap[t]),this.rects[t].setAttribute("fill-opacity",this.opacities[t])),this.groupMain.appendChild(this.rects[t])}},{key:"setOptions",value:function(t){return this.options=a.extend(!0,{},this.defaults(),t||{}),this}}])&&o(e.prototype,i),n&&o(e,n),s}();t.default=i,n.exports=s.default},i=[s,t(5),t(68)],void 0===(r="function"==typeof(e=o)?e.apply(s,i):e)||(n.exports=r)},function(n,r,t){var e,i,o,s;s=function(t,a,o){"use strict";var e;function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(a),o=(e=o)&&e.__esModule?e:{default:e};var i=function(t){function r(t,e,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=u(this,h(r).apply(this,arguments))).negativeDelta=0,n.positiveDelta=0,n.negativeThreshold=0,n.positiveThreshold=0,n.groupMain.setAttribute("clip-path","url(#_clipplot".concat(t._creation,")")),n}var e,i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(r,o.default),e=r,(i=[{key:"setData",value:function(t,e,i){i=i||"float";var n,r,o,s,a=t.length,u=[];for(t instanceof Array||"object"==l(t)&&(this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,a=(t=t.segments).length),n=0;n<a;n++){for(o=t[n].lines.length,s=this._addData(i,o),r=0;r<o;r+=2)s[r]=t[n].lines[r],this._checkX(s[r]),s[r+1]=t[n].lines[r+1],this._checkY(s[r+1]);u.push({lines:s,zValue:t[n].zValue})}return this.data=u,this.graph.updateDataMinMaxAxes(),this.dataHasChanged(!0),this}},{key:"draw",value:function(t){if(t||this.hasDataChanged()){var e,i,n,r,o,s,a,u=this.currentLine=0,l=this.data.length,h=0;this.minZ=1/0,this.maxZ=-1/0;var c=this.groupLines.nextSibling;this.groupMain.removeChild(this.groupLines),this.zValues={};var f=0,p=1;this.getFlip()&&(f=0,p=1);var d=this.getYAxis().getCurrentMin(),g=this.getXAxis().getCurrentMin(),y=this.getXAxis().getCurrentMax(),v=this.getYAxis().getCurrentMax();for(this.counter=0,this.currentLineId=0;u<l;u++){for(this.currentLine="",h=0,o=(a=this.data[u].lines).length;h<o;h+=4){a[h+f]<g&&a[h+2+f]<g||a[h+p]<d&&a[h+2+p]<d||a[h+p]>v&&a[h+2+p]>v||a[h+f]>y&&a[h+2+f]>y||(n=this.getX(a[h+f]),r=this.getY(a[h+p]),e=this.getX(a[h+2+f]),i=this.getY(a[h+2+p]),e==n&&i==r||(this.currentLine+="M ",this.currentLine+=n,this.currentLine+=" ",this.currentLine+=r,this.currentLine+="L ",this.currentLine+=e,this.currentLine+=" ",this.currentLine+=i,this.counter++,e,i,0))}this.currentLine+=" z",(s=this._createLine()).setAttribute("data-zvalue",this.data[u].zValue),this.zValues[this.data[u].zValue]={dom:s},this.minZ=Math.min(this.minZ,this.data[u].zValue),this.maxZ=Math.max(this.maxZ,this.data[u].zValue)}for(u++,u=this.currentLine+1;u<this.lines.length;u++)this.groupLines.removeChild(this.lines[u]),this.lines.splice(u,1);for(u=0;u<l;u++)this.setColorTo(this.lines[u],this.data[u].zValue,this.minZ,this.maxZ);this.onMouseWheel(0,{shiftKey:!1}),this.groupMain.insertBefore(this.groupLines,c)}else if(this.hasStyleChanged(this.selectionType))for(;u<l;u++)this.setColorTo(this.lines[u],this.data[u].zValue,this.minZ,this.maxZ)}},{key:"onMouseWheel",value:function(t,e,i,n){for(var r in t/=250,void 0!==i?(n||(this.negativeThreshold=-i*this.minZ,this.negativeDelta=-Math.pow(Math.abs(this.negativeThreshold/-this.minZ),1/3)),n&&(this.positiveThreshold=i*this.maxZ,this.positiveDelta=Math.pow(this.positiveThreshold/this.maxZ,1/3))):e.shiftKey&&this.options.hasNegative?(this.negativeDelta=Math.min(0,Math.max(-1,this.negativeDelta+Math.min(.1,Math.max(-.1,t)))),this.negativeThreshold=-this.minZ*Math.pow(this.negativeDelta,3)):(this.positiveDelta=Math.min(1,Math.max(0,this.positiveDelta+Math.min(.1,Math.max(-.1,t)))),this.positiveThreshold=this.maxZ*Math.pow(this.positiveDelta,3)),isNaN(this.positiveDelta)&&(this.positiveDelta=0),isNaN(this.negativeDelta)&&(this.negativeDelta=0),this.zValues)this.zValues[r].dom.setAttribute("display",0<=r&&r>=this.positiveThreshold||r<=0&&r<=this.negativeThreshold?"block":"none");this._shapeZoom&&(this.options.hasNegative?(this._shapeZoom.setHandleNeg(-Math.pow(this.negativeDelta,3),this.minZ),this._shapeZoom.showHandleNeg()):this._shapeZoom.hideHandleNeg(),this._shapeZoom.setHandlePos(Math.pow(this.positiveDelta,3),this.maxZ))}},{key:"handleMouseMove",value:function(t,e,i){var n=t||this.getXAxis().getMouseVal(),r=i||this.getYAxis().getMouseVal();return{trueX:n,interpolatedY:r,xClosest:n,yClosest:r}}},{key:"setDynamicColor",value:function(t){this.lineColors=t,this.styleHasChanged()}},{key:"setNegative",value:function(t){(this.options.hasNegative=t)&&(this.negativeThreshold=0)}},{key:"setColorTo",value:function(t,e,i,n){if(this.lineColors){var r={h:0,s:0,l:0};for(var o in r)r[o]=0<e?this.lineColors.fromPositive[o]+(this.lineColors.toPositive[o]-this.lineColors.fromPositive[o])*(e/n):this.lineColors.fromNegative[o]+(this.lineColors.toNegative[o]-this.lineColors.fromNegative[o])*(e/i);r.h/=360;var s=a.hslToRgb(r.h,r.s,r.l);t.setAttribute("stroke","rgb(".concat(s.join(),")"))}}},{key:"getSymbolForLegend",value:function(){if(!this.lineForLegend){var t=document.createElementNS(this.graph.ns,"ellipse");t.setAttribute("cx",7),t.setAttribute("cy",0),t.setAttribute("rx",8),t.setAttribute("ry",3),t.setAttribute("cursor","pointer"),this.lineForLegend=t}return this.applyLineStyle(this.lineForLegend,this.maxZ),this.lineForLegend}},{key:"applyLineStyle",value:function(t,e){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()+(this.isSelected()?2:0)),this.getLineDashArray()&&t.setAttribute("stroke-dasharray",this.getLineDashArray()),t.setAttribute("fill","none"),this.setColorTo(t,void 0!==e?e:t.getAttribute("data-zvalue"),this.minZ,this.maxZ),this.hasStyleChanged(!1)}},{key:"setShapeZoom",value:function(t){this._shapeZoom=t}}])&&s(e.prototype,i),n&&s(e,n),r}();t.default=i,n.exports=r.default},i=[r,t(5),t(46)],void 0===(o="function"==typeof(e=s)?e.apply(r,i):e)||(n.exports=o)},function(r,h,t){var e,i,n,o;o=function(t,o){"use strict";var e;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o=(e=o)&&e.__esModule?e:{default:e};var n=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,u(e).apply(this,arguments))}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,o.default),i=e,(n=[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"path")}},{key:"createHandles",value:function(){this._createHandles(2,"line",{"stroke-width":"3",stroke:"transparent","pointer-events":"stroke",cursor:"ew-resize"})}},{key:"handleMouseMoveImpl",value:function(t,e,i){if(!this.isLocked()){if(this.moving)this.getPosition(0).deltaPosition("x",e,this.getXAxis()),this.getPosition(1).deltaPosition("x",e,this.getXAxis());else if(this.serie&&this.handleSelected){this.resizingPosition=1==this.handleSelected?this.getPosition(0):this.getPosition(1);var n=this.serie.getClosestPointToXY(this.getXAxis().getVal(this.graph._getXY(t).x-this.graph.getPaddingLeft()));if(!n)return;this.resizingPosition.x!=n.xMin&&(this.preventUnselect=!0),this.resizingPosition.x=n.xMin}else this.handleSelected&&(this.resizingPosition=1==this.handleSelected?this.getPosition(0):this.getPosition(1),this.resizingPosition.deltaPosition("x",e,this.getXAxis()));this.applyPosition()}}},{key:"applyPosition",value:function(){if(this.serie){var t=this.computePosition(0),e=this.computePosition(1),i=Math.abs(t.x-e.x),n=Math.min(t.x,e.x);if(i<2||n+i<0||n>this.graph.getDrawingWidth())return this.setDom("d",""),!1;var r,o,s,a,u,l,h,c=this.serie.getClosestPointToXY(this.getPosition(0).x),f=this.serie.getClosestPointToXY(this.getPosition(1).x),p=0,d=Number.MAX_VALUE;if(!c||!f)return!1;for(c.xBeforeIndex>f.xBeforeIndex&&(r=c,c=f,f=r),this.counter=0,o=c.dataIndex;o<=f.dataIndex;o++){for(this.currentLine="",l=0,(a=o==c.dataIndex?c.xBeforeIndexArr:0)==(u=o==f.dataIndex?f.xBeforeIndexArr:this.serie.data[o].length)&&u++,s=a;s<=u;s+=2)n=this.serie.getX(this.serie.data[o][s+0]),h=this.serie.getY(this.serie.data[o][s+1]),p=Math.max(this.serie.data[o][s+1],p),d=Math.min(this.serie.data[o][s+1],d),s==a&&(this.firstX=n,this.firstY=h),this.currentLine+=0<l?" L ".concat(n," ").concat(h," "):" M ".concat(n," ").concat(h," "),l++;if(this.lastX=n,this.lastY=h,!(this.firstX&&this.firstY&&this.lastX&&this.lastY))return;this.currentLine+=" V ".concat(this.getYAxis().getPx(0)," H ").concat(this.firstX," z"),this.setDom("d",this.currentLine)}return this.maxY=this.serie.getY(p),this.setHandles(),this.changed(),!0}}},{key:"setHandles",value:function(){if(this.firstX){var t=this.computePosition(0),e=this.computePosition(1);t.x<e.x?(this.handles[1].setAttribute("x1",this.firstX),this.handles[1].setAttribute("x2",this.firstX),this.handles[2].setAttribute("x1",this.lastX),this.handles[2].setAttribute("x2",this.lastX)):(this.handles[1].setAttribute("x1",this.lastX),this.handles[1].setAttribute("x2",this.lastX),this.handles[2].setAttribute("x1",this.firstX),this.handles[2].setAttribute("x2",this.firstX)),this.handles[1].setAttribute("y1",this.getYAxis().getMaxPx()),this.handles[1].setAttribute("y2",this.serie.getY(0)),this.handles[2].setAttribute("y1",this.getYAxis().getMaxPx()),this.handles[2].setAttribute("y2",this.serie.getY(0))}}}])&&s(i.prototype,n),r&&s(i,r),e}();t.default=n,r.exports=h.default},i=[h,t(18)],void 0===(n="function"==typeof(e=o)?e.apply(h,i):e)||(r.exports=n)},function(r,h,t){var e,i,n,o;o=function(t,o){"use strict";var e;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o=(e=o)&&e.__esModule?e:{default:e};var n=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,u(e).call(this,t))}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,o.default),i=e,(n=[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"line"),this._dom.setAttribute("marker-end","url(#arrow".concat(this.graph._creation,")")),this.createHandles(this.nbHandles,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"}),this.setStrokeColor("black"),this.setStrokeWidth(1)}}])&&s(i.prototype,n),r&&s(i,r),e}();t.default=n,r.exports=h.default},i=[h,t(98)],void 0===(n="function"==typeof(e=o)?e.apply(h,i):e)||(r.exports=n)},function(h,c,t){var e,i,n,r;r=function(t,e,o){"use strict";var i;function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(e),o=(i=o)&&i.__esModule?i:{default:i};var r=function(t){function i(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),a(this,u(i).call(this,t,e))}var e,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(i,o.default),e=i,(n=[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"ellipse")}},{key:"applyPosition",value:function(){var t=this.computePosition(0);if(t){this.setDom("cx",t.x||0),this.setDom("cy",t.y||0);var e=this.graph.newPosition({dx:this.getProp("rx"),dy:this.getProp("ry")||this.getProp("rx")}),i=this.calculatePosition(e);return this.setDom("rx",Math.abs(i.x)||0),this.setDom("ry",Math.abs(i.y)||0),!0}}},{key:"setR",value:function(t,e){return this.setProp("rx",t),this.setProp("ry",e),this}},{key:"handleMouseUpImpl",value:function(){this.triggerChange()}},{key:"handleMouseMoveImpl",value:function(t,e,i,n,r){}}])&&s(e.prototype,n),r&&s(e,r),i}();t.default=r,h.exports=c.default},i=[c,t(5),t(18)],void 0===(n="function"==typeof(e=r)?e.apply(c,i):e)||(h.exports=n)},function(r,h,t){var e,i,n,o;o=function(t,o){"use strict";var e;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o=(e=o)&&e.__esModule?e:{default:e};var n=function(t){function i(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),a(this,u(i).call(this,t,e))}var e,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(i,o.default),e=i,(n=[{key:"createDom",value:function(){return!1}},{key:"applyPosition",value:function(){return!0}}])&&s(e.prototype,n),r&&s(e,r),i}();t.default=n,r.exports=h.default},i=[h,t(18)],void 0===(n="function"==typeof(e=o)?e.apply(h,i):e)||(r.exports=n)},function(r,h,t){var e,i,n,o;o=function(t,o){"use strict";var e;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o=(e=o)&&e.__esModule?e:{default:e};var n=function(t){function n(t,e){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(i=a(this,u(n).call(this,t,e))).setProp("fillColor","none"),i}var e,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(n,o.default),e=n,(i=[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"path"),this.getStrokeColor()||this.setStrokeColor("black"),void 0===this.getStrokeWidth()&&this.setStrokeWidth(1)}},{key:"createHandles",value:function(){}},{key:"setPointsPx",value:function(t){return this}},{key:"applyPosition",value:function(){for(var t="",e=0;;){var i=this.getPosition(e);if(void 0===i)break;var n=void 0;if(n=this.serie?i.compute(this.graph,this.serie.getXAxis(),this.serie.getYAxis(),this.serie):i.compute(this.graph,this.getXAxis(),this.getYAxis()),isNaN(n.x)||isNaN(n.y))return;t+=0==e?" M ":" L ",t+="".concat(n.x," ").concat(n.y),e++}return this.setDom("d",t),this.changed(),!0}}])&&s(e.prototype,i),r&&s(e,r),n}();t.default=n,r.exports=h.default},i=[h,t(18)],void 0===(n="function"==typeof(e=o)?e.apply(h,i):e)||(r.exports=n)},function(r,h,t){var e,i,n,o;o=function(t,o){"use strict";var e;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o=(e=o)&&e.__esModule?e:{default:e};var n=function(t){function i(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),a(this,u(i).call(this,t,e))}var e,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(i,o.default),e=i,(n=[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"path"),this.getStrokeColor()||this.setStrokeColor("black"),void 0===this.getStrokeWidth()&&this.setStrokeWidth(1)}},{key:"createHandles",value:function(){}},{key:"setPointsPx",value:function(t){return this.setProp("pxPoints",t),this}},{key:"applyPosition",value:function(){for(var t="",e=0;;){var i=this.getPosition(e);if(void 0===i)break;var n=void 0;if(n=this.serie?i.compute(this.graph,this.serie.getXAxis(),this.serie.getYAxis(),this.serie):i.compute(this.graph,this.getXAxis(),this.getYAxis()),isNaN(n.x)||isNaN(n.y))return;t+=0==e?" M ":" L ",t+="".concat(n.x," ").concat(n.y),e++}return t+="z",this.setDom("d",t),this.changed(),!0}}])&&s(e.prototype,n),r&&s(e,r),i}();t.default=n,r.exports=h.default},i=[h,t(18)],void 0===(n="function"==typeof(e=o)?e.apply(h,i):e)||(r.exports=n)},function(h,c,t){var e,i,n,r;r=function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=i(e),o=i(o);var r=function(t){function n(t,e){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(i=a(this,u(n).call(this,t,e))).nbHandles=2,i}var e,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(n,o.default),e=n,(i=[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"path"),this._domShadow=document.createElementNS(this.graph.ns,"path"),(this._domShadow.jsGraphIsShape=this)._dom.setAttribute("pointer-events","stroke"),this._domShadow.setAttribute("pointer-events","stroke"),this._domShadow.setAttribute("stroke-width","12"),this._domShadow.setAttribute("fill","transparent"),this._domShadow.setAttribute("stroke","transparent"),this.group.appendChild(this._domShadow)}},{key:"initImpl",value:function(){this.setFillColor("transparent"),this.setStrokeColor("black")}},{key:"createHandles",value:function(){this._createHandles(2,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white"}),this.handles[1].setAttribute("fill","red")}},{key:"xor",value:function(t,e){return t&&!e||!t&&e}},{key:"applyPosition",value:function(){var t,e,i,n,r,o=this.getAxis(),s=[],a="",u=this.getProp("baseLine",0)||300;if(!this.serie)throw"No serie exists for this shape";var l=this.getPosition(0),h=this.getPosition(1);if(l.x<this.serie.getXAxis().getCurrentMin()&&h.x<this.serie.getXAxis().getCurrentMin()||l.x>this.serie.getXAxis().getCurrentMax()&&h.x>this.serie.getXAxis().getCurrentMax())return this.setDom("d",""),this._domShadow.setAttribute("d",""),this.hideLabel(0),!1;this.showLabel(0);var c,f=0,p=this.serie.getWaveform();if(p){var d,g,y,v,m=p.getIndexFromX(l[o],!0,Math.floor),b=p.getIndexFromX(h[o],!0,Math.ceil),x=!1;m==b&&("aggregate"==p.getReductionType()?b+=4:b++),b<m&&(d=m,m=b,b=d,x=!0);var k,S,w;p.getDataInUse();for("aggregate"==p.getReductionType()&&!1,S=p.getXMonotoneousAscending()||(p.getXMonotoneousAscending(),0)?(c=b,k=!0,-1):(c=m,k=!1,1);k?m<=c:c<=b;c+=S)i=p.getX(c,!0),n=p.getY(c,!0),t=this.serie.getX(i),e=this.serie.getY(n),f+=p.getY(c,!0),g||(g=t,y=e,p.getX(c),p.getY(c)),null!=v?(v=t,e,s.push([t,e,f]),i):(v=t,e,p.getX(c),p.getY(c));if(v=!1,0==f&&(f=1),this._sumVal=p.integrate(l.x,h.x),r=this.ratio?this.ratio*(this.sumVal/f):200/f,0!=s.length){for(var M=0,A=s.length;M<A;M++){if(w=u-s[M][2]*r,0<M&&(s[M-1][2]>f/2&&s[M][2]<=f/2||s[M-1][2]<f/2&&s[M][2]>=f/2)){var _=u-(s[M-1][2]+s[M][2])/2*r;this.setPosition({x:"".concat(s[M][0],"px"),y:"".concat(_,"px")},3),this.setLabelPosition(this.getPosition(3),0)}a+=" L ".concat(s[M][0],", ").concat(w," "),this.lastPointX=s[M][0],this.lastPointY=w}return this.points=s,this._sum=f,a=this.serie.isFlipped()?" M ".concat(u,", ").concat(g," ").concat(a):" M ".concat(g,", ").concat(u," ").concat(a),this.firstPointX=g,this.firstPointY=u,this.setDom("d",a),this._domShadow.setAttribute("d",a),this.firstX=g,this.firstY=y,this.serie.ratioLabel&&this.updateIntegralValue(this.serie.ratioLabel)||this.updateLabels(),this.changed(),this.handleCondition=!this.xor(-1==S,x),this.setHandles(),this.updateIntegralValue(),!0}}}},{key:"updateIntegralValue",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.serie.ratioLabel,e=1<arguments.length?arguments[1]:void 0;return console.log(t),t&&(this.serie.ratioLabel=t),isNaN(e)||isNaN(this.sumVal)||!this.sumVal||(this.serie.ratioLabel=e/this.sumVal),this.setLabelText(t?(Math.round(100*this.sumVal*t)/100).toPrecision(3):"N/A",0),this.updateLabels(),this.serie.ratioLabel}},{key:"getAxis",value:function(){return this._data.axis||"x"}},{key:"selectStyle",value:function(){this.setDom("stroke-width","2px")}},{key:"selectHandles",value:function(){}},{key:"setHandles",value:function(){null!=this.points&&this.isSelected()&&(this.addHandles(),this.handleCondition?(this.handles[1].setAttribute("x",this.firstPointX),this.handles[1].setAttribute("y",this.firstPointY),this.handles[2].setAttribute("x",this.lastPointX),this.handles[2].setAttribute("y",this.lastPointY)):(this.handles[2].setAttribute("x",this.firstPointX),this.handles[2].setAttribute("y",this.firstPointY),this.handles[1].setAttribute("x",this.lastPointX),this.handles[1].setAttribute("y",this.lastPointY)))}},{key:"handleMouseMoveImpl",value:function(t,e,i,n,r){if(!this.isLocked()){var o,s=this.getPosition(0),a=this.getPosition(1);return 1==this.handleSelected?o=s:2==this.handleSelected&&(o=a),o&&(this._data.vertical||o.deltaPosition("x",e,this.getXAxis())),this.moving&&(s.x&&s.deltaPosition("x",e,this.getXAxis()),a.x&&a.deltaPosition("x",e,this.getXAxis())),this.rectEvent&&this.setEventReceptacle(),this.redraw(),this.changed(),!0}}},{key:"ratio",set:function(t){this._ratio=t},get:function(){return this._ratio}},{key:"sum",get:function(){return this._sum}},{key:"sumVal",get:function(){return this._sumVal}}])&&s(e.prototype,i),r&&s(e,r),n}();t.default=r,h.exports=c.default},i=[c,t(51),t(18)],void 0===(n="function"==typeof(e=r)?e.apply(c,i):e)||(h.exports=n)},function(r,h,t){var e,i,n,o;o=function(t,o){"use strict";var e;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o=(e=o)&&e.__esModule?e:{default:e};var n=function(t){function n(t,e){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(i=a(this,u(n).call(this,t,e))).nbHandles=4,i}var e,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(n,o.default),e=n,(i=[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"rect"),(this._dom.element=this).createHandles(this.nbHandles,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"redrawImpl",value:function(){this.setPosition(),this.setHandles(),this.setBindableToDom(this._dom)}}])&&s(e.prototype,i),r&&s(e,r),n}();t.default=n,r.exports=h.default},i=[h,t(133)],void 0===(n="function"==typeof(e=o)?e.apply(h,i):e)||(r.exports=n)},function(r,h,t){var e,i,n,o;o=function(t,o){"use strict";var e;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o=(e=o)&&e.__esModule?e:{default:e};var n=function(t){function n(t,e){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(i=a(this,u(n).call(this,t,e))).nbHandles=1,i}var e,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(n,o.default),e=n,(i=[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"path"),this._dom.setAttribute("d","M -".concat(this.width/2," 0 h ").concat(this.width," m -").concat(this.width/2," -").concat(this.width/2," v ").concat(this.width))}},{key:"createHandles",value:function(){this._createHandles(this.nbHandles,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"applyPosition",value:function(){var t=this.calculatePosition(0);if(t&&t.x&&t.y)return this.setDom("transform","translate( ".concat(t.x,", ").concat(t.y,")")),this.currentPos1x=t.x,this.currentPos1y=t.y,!0}},{key:"redrawImpl",value:function(){this.setHandles()}},{key:"handleCreateImpl",value:function(){}},{key:"handleMouseDownImpl",value:function(t){return this.moving=!0}},{key:"handleMouseUpImpl",value:function(){return this.triggerChange(),!0}},{key:"handleMouseMoveImpl",value:function(t,e,i,n,r){if(!this.isLocked()){var o=this.getFromData("pos");return this.moving&&(o.x=this.graph.deltaPosition(o.x,e,this.getXAxis()),o.y=this.graph.deltaPosition(o.y,i,this.getYAxis())),this.redrawImpl(),!0}}},{key:"setHandles",value:function(){this.areHandlesInDom()&&(isNaN(this.currentPos1x)||(this.handles[1].setAttribute("x",this.currentPos1x),this.handles[1].setAttribute("y",this.currentPos1y)))}},{key:"selectStyle",value:function(){this.setDom("stroke","red"),this.setDom("stroke-width","2")}},{key:"width",get:function(){return this.options.width||10},set:function(t){this.options.width=t}}])&&s(e.prototype,i),r&&s(e,r),n}();t.default=n,r.exports=h.default},i=[h,t(18)],void 0===(n="function"==typeof(e=o)?e.apply(h,i):e)||(r.exports=n)},function(r,h,t){var e,i,n,o;o=function(t,o){"use strict";var e;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o=(e=o)&&e.__esModule?e:{default:e};var n=function(t){function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a(this,u(i).call(this,t))).lineHeight=6,e}var e,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(i,o.default),e=i,(n=[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"line"),this.line1=document.createElementNS(this.graph.ns,"line"),this.line2=document.createElementNS(this.graph.ns,"line"),this.line3=document.createElementNS(this.graph.ns,"line"),this.rectBoundary=document.createElementNS(this.graph.ns,"path"),this.rectBoundary.setAttribute("fill","transparent"),this.rectBoundary.setAttribute("stroke","none"),this.rectBoundary.setAttribute("pointer-events","fill"),this.rectBoundary.jsGraphIsShape=!0,this.group.appendChild(this.rectBoundary),this.group.appendChild(this.line1),this.group.appendChild(this.line2),this.group.appendChild(this.line3),this._dom.element=this}},{key:"createHandles",value:function(){this._createHandles(3,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"redrawImpl",value:function(){this.line1.setAttribute("stroke",this.getStrokeColor()),this.line2.setAttribute("stroke",this.getStrokeColor()),this.line3.setAttribute("stroke",this.getStrokeColor()),this.line1.setAttribute("stroke-width",this.getStrokeWidth()),this.line2.setAttribute("stroke-width",this.getStrokeWidth()),this.line3.setAttribute("stroke-width",this.getStrokeWidth()),this.setHandles(),this.redrawLines()}},{key:"redrawLines",value:function(){var t=this.computePosition(0),e=this.computePosition(1),i=this.computePosition(2);if(t.x&&e.x&&i.x&&this.posYPx){var n=this.lineHeight;this.rectBoundary.setAttribute("d","M ".concat(t.x," ").concat(this.posYPx-n," v ").concat(2*n," H ").concat(e.x," v ").concat(-2*n,"z")),this.line1.setAttribute("x1",t.x),this.line1.setAttribute("x2",t.x),this.line2.setAttribute("x1",e.x),this.line2.setAttribute("x2",e.x),this.line3.setAttribute("x1",i.x),this.line3.setAttribute("x2",i.x),this._dom.setAttribute("x1",t.x),this._dom.setAttribute("x2",e.x),this.redrawY(n)}return this}},{key:"redrawY",value:function(){if(!this.posYPx)return this;var t=this.lineHeight;return this.line1.setAttribute("y1",this.posYPx-t),this.line1.setAttribute("y2",this.posYPx+t),this.line2.setAttribute("y1",this.posYPx-t),this.line2.setAttribute("y2",this.posYPx+t),this.line3.setAttribute("y1",this.posYPx-t),this.line3.setAttribute("y2",this.posYPx+t),this._dom.setAttribute("y1",this.posYPx),this._dom.setAttribute("y2",this.posYPx),this}},{key:"setHandles",value:function(){if(this.posYPx){var t=this.computePosition(0),e=this.computePosition(1),i=this.computePosition(2);t.x&&e.x&&i.x&&(this.handles[1].setAttribute("x",t.x),this.handles[1].setAttribute("y",this.posYPx),this.handles[2].setAttribute("x",e.x),this.handles[2].setAttribute("y",this.posYPx),this.handles[3].setAttribute("x",i.x),this.handles[3].setAttribute("y",this.posYPx))}}},{key:"setY",value:function(t){return this.posYPx=t,this}},{key:"setLineHeight",value:function(t){this.lineHeihgt=t}},{key:"handleMouseMoveImpl",value:function(t,e,i){if(!this.isLocked()){var n=this.getPosition(0),r=this.getPosition(1),o=this.getPosition(2);switch(this.handleSelected){case 1:n.deltaPosition("x",e,this.getXAxis()),(Math.abs(o.x-r.x)>Math.abs(r.x-n.x)||Math.abs(o.x-n.x)>Math.abs(r.x-n.x))&&(o.x=n.x+.1*(r.x-n.x));break;case 2:r.deltaPosition("x",e,this.getXAxis()),(Math.abs(o.x-r.x)>Math.abs(r.x-n.x)||Math.abs(o.x-n.x)>Math.abs(r.x-n.x))&&(o.x=r.x+.1*(n.x-r.x));break;case 3:if(o.deltaPosition("x",e,this.getXAxis()),Math.abs(o.x-r.x)>Math.abs(r.x-n.x)||Math.abs(o.x-n.x)>Math.abs(r.x-n.x))return}this.setLabelPosition({y:this.getLabelPosition(0).y,x:o.x}),this.updateLabels(),this.redrawLines(),this.setHandles()}}},{key:"applyPosition",value:function(){return this.redrawLines(),!0}}])&&s(e.prototype,n),r&&s(e,r),i}();t.default=n,r.exports=h.default},i=[h,t(98)],void 0===(n="function"==typeof(e=o)?e.apply(h,i):e)||(r.exports=n)},function(r,f,t){var e,i,n,o;o=function(t,o,s){"use strict";var e;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function l(t,e,i){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,s=(e=s)&&e.__esModule?e:{default:e};var n=function(t){function i(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),u(this,h(i).call(this,t,e))}var e,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(i,s.default),e=i,(n=[{key:"createDom",value:function(){this._dom=document.createElement("div"),this._dom.setAttribute("style","position: absolute");var t=document.createElement("div");this._dom.appendChild(t),this.div=t}},{key:"createHandles",value:function(){}},{key:"setHeight",value:function(t){this.setProp("height",t)}},{key:"setWidth",value:function(t){this.setProp("width",t)}},{key:"setContent",value:function(t){this.setProp("content",t)}},{key:"setRenderer",value:function(t){this._renderer=t}},{key:"redraw",value:function(){this._renderer?this._renderer(this.div):this.div.innerHTML=this.getProp("content"),l(h(i.prototype),"redraw",this).apply(this,arguments)}},{key:"applyPosition",value:function(){var t=this.calculatePosition(0);if(t&&(0,o.isNumeric)(t.x)&&(0,o.isNumeric)(t.y))return this._dom.style.left="".concat(t.x,"px"),this._dom.style.top="".concat(t.y,"px"),this.currentPosX=t.x,this.currentPosY=t.y,!0}},{key:"handleMouseMoveImpl",value:function(t,e,i,n,r){return!0}},{key:"setHandles",value:function(){}},{key:"isHTML",value:function(){return!0}}])&&a(e.prototype,n),r&&a(e,r),i}();t.default=n,r.exports=f.default},i=[f,t(5),t(18)],void 0===(n="function"==typeof(e=o)?e.apply(f,i):e)||(r.exports=n)},function(r,h,t){var e,i,n,o;o=function(t,o){"use strict";var e;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o=(e=o)&&e.__esModule?e:{default:e};var n=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,u(e).apply(this,arguments))}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,o.default),i=e,r=[{key:"default",value:function(){return{dragX:!0,dragY:!0,persistanceX:!1,persistanceY:!1}}}],(n=[{key:"init",value:function(t){this.graph=t,this.time=null,this.totaltime=2e3}},{key:"onMouseDown",value:function(t,e,i,n,r){return this._draggingX=e,this._draggingY=i,this._lastDraggingX=this._draggingX,this._lastDraggingY=this._draggingY,this.stopAnimation=!0,!(this.moved=!1)}},{key:"onMouseMove",value:function(t,e,i,n,r){var o=e-this._draggingX,s=i-this._draggingY;this.options.dragX&&t._applyToAxes(function(t){t.setCurrentMin(t.getVal(t.getMinPx()-o)),t.setCurrentMax(t.getVal(t.getMaxPx()-o))},!1,!0,!1),this.options.dragY&&t._applyToAxes(function(t){t.setCurrentMin(t.getVal(t.getMinPx()-s)),t.setCurrentMax(t.getVal(t.getMaxPx()-s))},!1,!1,!0),this._lastDraggingX=this._draggingX,this._lastDraggingY=this._draggingY,this._draggingX=e,this._draggingY=i,this.moved=!0,this.time=Date.now(),this.emit("dragging"),t.draw(!0)}},{key:"onMouseUp",value:function(t,e,i,n,r){var o=Date.now()-this.time;e!=this._lastDraggingX&&i!=this._lastDraggingY?(this.speedX=(e-this._lastDraggingX)/o,this.speedY=(i-this._lastDraggingY)/o,isNaN(this.speedX)||isNaN(this.speedY)?this.emit("dragged"):(t._applyToAxes(function(t){t._pluginDragMin=t.getCurrentMin(),t._pluginDragMax=t.getCurrentMax()},!1,!0,!0),this.stopAnimation=!1,this.accelerationX=-this.speedX/this.totaltime,this.accelerationY=-this.speedY/this.totaltime,this.options.persistanceX||this.options.persistanceY?this._persistanceMove(t):this.emit("dragged"))):this.moved&&this.emit("dragged")}},{key:"_persistanceMove",value:function(n){var r=this;r.stopAnimation?r.emit("dragged"):window.requestAnimationFrame(function(){var t=Date.now()-r.time,e=(.5*r.accelerationX*t+r.speedX)*t,i=(.5*r.accelerationY*t+r.speedY)*t;r.options.persistanceX&&n._applyToAxes(function(t){t.setCurrentMin(-t.getRelVal(e)+t._pluginDragMin),t.setCurrentMax(-t.getRelVal(e)+t._pluginDragMax),t.cacheCurrentMin(),t.cacheCurrentMax(),t.cacheInterval()},!1,!0,!1),r.options.persistanceY&&n._applyToAxes(function(t){t.setCurrentMin(-t.getRelVal(i)+t._pluginDragMin),t.setCurrentMax(-t.getRelVal(i)+t._pluginDragMax),t.cacheCurrentMin(),t.cacheCurrentMax(),t.cacheInterval()},!1,!1,!0),n.draw(),t<r.totaltime?(r.emit("dragging"),r._persistanceMove(n)):r.emit("dragged")})}}])&&s(i.prototype,n),r&&s(i,r),e}();t.default=n,r.exports=h.default},i=[h,t(23)],void 0===(n="function"==typeof(e=o)?e.apply(h,i):e)||(r.exports=n)},function(r,c,t){var e,i,n,o;o=function(t,f,o){"use strict";var e;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t,e,i){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,f=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(f),o=(e=o)&&e.__esModule?e:{default:e};var n=function(t){function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),a(this,l(i).apply(this,arguments))}var e,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(i,o.default),e=i,r=[{key:"default",value:function(){return{}}}],(n=[{key:"init",value:function(t,e){u(l(i.prototype),"init",this).call(this,t,e),this.shapeType=e.type}},{key:"setShape",value:function(t){this.shapeInfo.shapeType=t}},{key:"onMouseDown",value:function(e,t,i,n,r){var o=this;if(this.shapeType||this.options.url){var s,a,u=this;this.count=this.count||0,t-=e.getPaddingLeft(),i-=e.getPaddingTop();var l={position:[{x:s=e.getXAxis().getVal(t),y:a=e.getYAxis().getVal(i)},{x:s,y:a}],onChange:function(t){e.triggerEvent("onAnnotationChange",t)},locked:!1,selectable:!0,resizable:!0,movable:!0},h=this.options.properties;if(f.extend(!0,l,this.options),this.emit("beforeNewShape",n,l),!this.graph.prevent(!1)){var c=e.newShape(l.type,l,!1,h);this.emit("createdShape",n,c),c&&(u.currentShape=c,u.currentShapeEvent=n),e.once("mouseUp",function(){o.currentShape||u.emit("newShape",n,c)})}}}},{key:"onMouseMove",value:function(t,e,i,n){if(this.currentShape){this.count++;var r=this.currentShape;this.currentShape=!1,t.selectedSerie&&!r.serie&&r.setSerie(t.selectedSerie),r.resizing=!0,r.options&&r.options.onCreate&&r.options.onCreate.call(r),r.draw(),t.selectShape(r),r.handleMouseDown(this.currentShapeEvent,!0),r.handleSelected=this.options.handleSelected||1,r.handleMouseMove(n,!0)}}},{key:"onMouseUp",value:function(){this.currentShape&&(this.currentShape.kill(),this.currentShape=!1)}}])&&s(e.prototype,n),r&&s(e,r),i}();t.default=n,r.exports=c.default},i=[c,t(5),t(23)],void 0===(n="function"==typeof(e=o)?e.apply(c,i):e)||(r.exports=n)},function(r,c,t){var e,i,n,o;o=function(t,o,s){"use strict";var e;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(o),s=(e=s)&&e.__esModule?e:{default:e};var n=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).apply(this,arguments))}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,s.default),i=e,r=[{key:"default",value:function(){return{}}}],(n=[{key:"init",value:function(t,e){this._path=document.createElementNS(t.ns,"path"),o.setAttributeTo(this._path,{display:"none",fill:"rgba(0,0,0,0.1)",stroke:"rgba(0,0,0,1)","shape-rendering":"crispEdges",x:0,y:0,height:0,width:0,d:""}),(this.graph=t).dom.appendChild(this._path)}},{key:"setSerie",value:function(t){this.options.serie=t}},{key:"onMouseDown",value:function(t,e,i,n,r){if(this.options.serie){var o=t.getSerie(this.options.serie);this.path="M ".concat(e," ").concat(i," "),this.currentX=e,this.currentY=i,this.xs=[o.getXAxis().getVal(e-t.getPaddingLeft())],this.ys=[o.getYAxis().getVal(i-t.getPaddingTop())],this._path.setAttribute("d",""),this._path.setAttribute("display","block")}}},{key:"onMouseMove",value:function(t,e,i,n,r){if(this.options.serie){var o=t.getSerie(this.options.serie);25<Math.pow(e-this.currentX,2)+Math.pow(i-this.currentY,2)&&(this.path+=" L ".concat(e," ").concat(i," "),this.currentX=e,this.currentY=i,this.xs.push(o.getXAxis().getVal(e-t.getPaddingLeft())),this.ys.push(o.getYAxis().getVal(i-t.getPaddingTop())),this._path.setAttribute("d","".concat(this.path," z")),this.findPoints())}}},{key:"findPoints",value:function(){if(this.options.serie){for(var t,e=this.graph.getSerie(this.options.serie),i=e.waveform,n=[],r=0,o=0,s=i.getLength();o<s;o+=1){for(var a=r=0,u=this.xs.length;a<u;a+=1)t=a==u-1?0:a+1,(this.ys[a]<i.getY(o)&&this.ys[t]>i.getY(o)||this.ys[a]>i.getY(o)&&this.ys[t]<i.getY(o))&&i.getX(o)>(i.getY(o)-this.ys[a])/(this.ys[t]-this.ys[a])*(this.xs[t]-this.xs[a])+this.xs[a]&&r++;r%2==1?(n.push(o),e.selectMarker(o,!0,"selected")):e.unselectMarker(o)}this.selected=n,this.emit("selectionProcess",n)}}},{key:"onMouseUp",value:function(t,e,i,n){this._path.setAttribute("display","none"),this.emit("selectionEnd",this.selected)}}])&&a(i.prototype,n),r&&a(i,r),e}();t.default=n,r.exports=c.default},i=[c,t(5),t(23)],void 0===(n="function"==typeof(e=o)?e.apply(c,i):e)||(r.exports=n)},function(r,c,t){var e,i,n,o;o=function(t,o,s){"use strict";var e;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(o),s=(e=s)&&e.__esModule?e:{default:e};var n=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).apply(this,arguments))}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,s.default),i=e,r=[{key:"default",value:function(){return{axes:"all"}}}],(n=[{key:"init",value:function(t,e){this._zoomingGroup=document.createElementNS(t.ns,"g"),this._zoomingSquare=document.createElementNS(t.ns,"rect"),this._zoomingSquare.setAttribute("display","none"),o.setAttributeTo(this._zoomingSquare,{display:"none",fill:"rgba(171,12,12,0.2)",stroke:"rgba(171,12,12,1)","shape-rendering":"crispEdges",x:0,y:0,height:0,width:0,"pointer-events":"none"}),(this.graph=t).groupEvent.appendChild(this._zoomingGroup),this._zoomingGroup.appendChild(this._zoomingSquare)}},{key:"onMouseDown",value:function(t,e,i,n,r){var o=this.options.zoomMode;if(o){switch(this._zoomingMode=o,void 0===e&&(this._backedUpZoomMode=this._zoomingMode,this._zoomingMode="y",e=0),void 0===i&&(this._backedUpZoomMode=this._zoomingMode,this._zoomingMode="x",i=0),this._zoomingXStart=e,this._zoomingYStart=i,this.x1=e-t.getPaddingLeft(),this.y1=i-t.getPaddingTop(),this._zoomingSquare.setAttribute("width",0),this._zoomingSquare.setAttribute("height",0),this._zoomingSquare.setAttribute("display","block"),this._zoomingMode){case"x":this._zoomingSquare.setAttribute("y",t.options.paddingTop),this._zoomingSquare.setAttribute("height",t.getDrawingHeight()-t.shift.bottom);break;case"y":this._zoomingSquare.setAttribute("x",t.options.paddingLeft),this._zoomingSquare.setAttribute("width",t.getDrawingWidth());break;case"forceY2":this.y2=t.getYAxis().getPx(this.options.forcedY)+t.options.paddingTop}this.options.onZoomStart&&!r&&this.options.onZoomStart(t,e,i,n,r)}}},{key:"onMouseMove",value:function(t,e,i,n,r){switch(this._zoomingMode){case"xy":this._zoomingSquare.setAttribute("x",Math.min(this._zoomingXStart,e)),this._zoomingSquare.setAttribute("y",Math.min(this._zoomingYStart,i)),this._zoomingSquare.setAttribute("width",Math.abs(this._zoomingXStart-e)),this._zoomingSquare.setAttribute("height",Math.abs(this._zoomingYStart-i));break;case"forceY2":this._zoomingSquare.setAttribute("y",Math.min(this._zoomingYStart,this.y2)),this._zoomingSquare.setAttribute("height",Math.abs(this._zoomingYStart-this.y2)),this._zoomingSquare.setAttribute("x",Math.min(this._zoomingXStart,e)),this._zoomingSquare.setAttribute("width",Math.abs(this._zoomingXStart-e));break;case"x":this._zoomingSquare.setAttribute("x",Math.min(this._zoomingXStart,e)),this._zoomingSquare.setAttribute("width",Math.abs(this._zoomingXStart-e));break;case"y":this._zoomingSquare.setAttribute("y",Math.min(this._zoomingYStart,i)),this._zoomingSquare.setAttribute("height",Math.abs(this._zoomingYStart-i))}this.options.onZoomMove&&!r&&this.options.onZoomMove(t,e,i,n,r)}},{key:"onMouseUp",value:function(t,e,i,n,r){var o=this;this.removeZone();var s=e-t.options.paddingLeft,a=i-t.options.paddingTop;if(this.emit("beforeZoom",{graph:t,x:e,y:i,e:n,mute:r}),!t.prevent(!1)&&!(e-this._zoomingXStart==0&&"y"!=this._zoomingMode||i-this._zoomingYStart==0&&"x"!=this._zoomingMode))if(this.options.transition||this.options.smooth){var u=!1,l=!1;"x"!=this._zoomingMode&&"xy"!=this._zoomingMode&&"forceY2"!=this._zoomingMode||(this.fullX=!1,this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=Math.min(t.getVal(s),t.getVal(o.x1)),t._pluginZoomMaxFinal=Math.max(t.getVal(s),t.getVal(o.x1))},!1,!0,!1),u=!0),"y"!=this._zoomingMode&&"xy"!=this._zoomingMode||(this.fullY=!1,this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=Math.min(t.getVal(a),t.getVal(o.y1)),t._pluginZoomMaxFinal=Math.max(t.getVal(a),t.getVal(o.y1))},!1,!1,!0),l=!0),"forceY2"==this._zoomingMode&&(this.fullY=!1,this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=Math.min(t.getVal(o.y2),t.getVal(o.y1)),t._pluginZoomMaxFinal=Math.max(t.getVal(o.y2),t.getVal(o.y1))},!1,!1,!0),l=!0),this.transition(u,l,"zoomEnd")}else{switch(this._zoomingMode){case"x":this.fullX=!1,this.toAxes("_doZoom",[s,this.x1],!0,!1);break;case"y":this.fullY=!1,this.toAxes("_doZoom",[a,this.y1],!1,!0);break;case"xy":this.fullX=!1,this.fullY=!1,this.toAxes("_doZoom",[s,this.x1],!0,!1),this.toAxes("_doZoom",[a,this.y1],!1,!0);break;case"forceY2":this.fullX=!1,this.fullY=!1,this.toAxes("_doZoom",[s,this.x1],!0,!1),this.toAxes("_doZoom",[this.y1,this.y2],!1,!0)}t.draw(),this._backedUpZoomMode&&(this._zoomingMode=this._backedUpZoomMode),this.emit("zoomed"),t.pluginYieldActiveState()}}},{key:"removeZone",value:function(){this._zoomingSquare.setAttribute("display","none")}},{key:"onMouseWheel",value:function(t,e,i,n,r){r||(r={}),r.baseline||(r.baseline=0);var o=r.baseline;"mousePosition"==r.baseline&&(o=this.graph.getYAxis().getVal(n));var s="x"==r.direction,a=!("y"!==r.direction);this.toAxes("handleMouseWheel",[t,e,o],s,a),this.graph.drawSeries()}},{key:"onDblClick",value:function(t,e,i,n,r){var o=this.graph;if(this.emit("beforeDblClick",{graph:o,x:t,y:e,pref:n,e:i,mute:r}),!o.prevent(!1)){if(this.options.transition||this.options.smooth){var s,a,u=!1,l=!1;return"xtotal"!=n.mode&&"total"!=n.mode||(this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=t.getMinValue()-t.options.axisDataSpacing.min*t.getInterval(),t._pluginZoomMaxFinal=t.getMaxValue()+t.options.axisDataSpacing.max*t.getInterval()},!1,!0,!1),u=!0),"ytotal"!=n.mode&&"total"!=n.mode||(this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=t.getMinValue()-t.options.axisDataSpacing.min*t.getInterval(),t._pluginZoomMaxFinal=t.getMaxValue()+t.options.axisDataSpacing.max*t.getInterval()},!1,!1,!0),l=!0),"gradualX"!=n.mode&&"gradualY"!=n.mode&&"gradual"!=n.mode&&"gradualXY"!=n.mode||(a=s=!1,"gradualX"!=n.mode&&"gradual"!=n.mode&&"gradualXY"!=n.mode||(u=s=!0),"gradualY"!=n.mode&&"gradual"!=n.mode&&"gradualXY"!=n.mode||(l=a=!0),this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=t.getCurrentMin()-(t.getCurrentMax()-t.getCurrentMin()),t._pluginZoomMaxFinal=t.getCurrentMax()+(t.getCurrentMax()-t.getCurrentMin())},!1,s,a)),void this.transition(u,l,"dblClick")}var h=this.graph.getXAxis(),c=this.graph.getYAxis();if("xtotal"==n.mode)this.toAxes("setMinMaxToFitSeries",null,!0,!1),this.fullX=!0,this.fullY=!1;else if("ytotal"==n.mode)this.toAxes("setMinMaxToFitSeries",null,!1,!0),this.fullX=!1,this.fullY=!0;else if("total"==n.mode)this.toAxes("setMinMaxToFitSeries",null,!0,!0),this.fullX=!0,this.fullY=!0;else{t-=this.graph.options.paddingLeft,e-=this.graph.options.paddingTop;var f=h.getCurrentMin(),p=h.getCurrentMax(),d=h.getVal(t),g=p-f,y=c.getCurrentMin(),v=c.getCurrentMax(),m=c.getVal(e),b=v-y;if("gradualXY"==n.mode||"gradualX"==n.mode){var x=(d-f)/(p-f);f=Math.max(h.getMinValue()-h.getInterval()*h.options.axisDataSpacing.min,f-g*x),p=Math.min(h.getMaxValue()+h.getInterval()*h.options.axisDataSpacing.max,p+g*(1-x)),h.setCurrentMin(f),h.setCurrentMax(p),h.options.onZoom&&h.options.onZoom(f,p),h.cacheCurrentMin(),h.cacheCurrentMax(),h.cacheInterval()}if("gradualXY"==n.mode||"gradualY"==n.mode){x=(m-y)/(v-y);y=Math.max(c.getMinValue()-c.getInterval()*c.options.axisDataSpacing.min,y-b*x),v=Math.min(c.getMaxValue()+c.getInterval()*c.options.axisDataSpacing.max,v+b*(1-x)),c.setCurrentMin(y),c.setCurrentMax(v),c.options.onZoom&&c.options.onZoom(y,v),c.cacheCurrentMin(),c.cacheCurrentMax(),c.cacheInterval()}}o.pluginYieldActiveState(),this.graph.draw()}}},{key:"transition",value:function(i,n,r){var o=this;o.gradualUnzoomStart||(o.gradualUnzoomStart=Date.now()),window.requestAnimationFrame(function(){var t=Date.now()-o.gradualUnzoomStart;500<t&&(t=500);var e=Math.sin(t/500*Math.PI/2);o.toAxes(function(t){t.setCurrentMin(t._pluginZoomMin+(t._pluginZoomMinFinal-t._pluginZoomMin)*e),t.setCurrentMax(t._pluginZoomMax+(t._pluginZoomMaxFinal-t._pluginZoomMax)*e),t.cacheCurrentMin(),t.cacheCurrentMax(),t.cacheInterval()},!1,i,n),o.graph.draw(),t<500?(o.transition(i,n,r),o.emit("zooming")):(o.emit("zoomed"),o.graph.pluginYieldActiveState(),r&&o.emit(r),o.gradualUnzoomStart=0)})}},{key:"isFullX",value:function(){return this.fullX}},{key:"isFullY",value:function(){return this.fullY}},{key:"toAxes",value:function(t,e,i,n){var r=this.options.axes;switch(r&&("serieSelected"!=r||this.graph.getSelectedSerie())||(r="all"),r){case"all":this.graph._applyToAxes.apply(this.graph,arguments);break;case"serieSelected":var o=this.graph.getSelectedSerie();o&&(i&&("string"==typeof t?o.getXAxis()[t].apply(o.getXAxis(),e):t.apply(o.getXAxis(),e)),n&&("string"==typeof t?o.getYAxis()[t].apply(o.getYAxis(),e):t.apply(o.getYAxis(),e)));break;default:Array.isArray(r)||(r=[r]);var s=!0,a=!1,u=void 0;try{for(var l,h=r[Symbol.iterator]();!(s=(l=h.next()).done);s=!0){var c=l.value;c.isX()&&i?"string"==typeof t?c[t].apply(c,e):t.apply(c,e):c.isY()&&n&&("string"==typeof t?c[t].apply(c,e):t.apply(c,e))}}catch(t){a=!0,u=t}finally{try{s||null==h.return||h.return()}finally{if(a)throw u}}}}}])&&a(i.prototype,n),r&&a(i,r),e}();t.default=n,r.exports=c.default},i=[c,t(5),t(23)],void 0===(n="function"==typeof(e=o)?e.apply(c,i):e)||(r.exports=n)},function(r,f,t){var e,i,n,o;o=function(t,s,d,o,a){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,s=e(s),d=e(d),o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(o),a=e(a);var n=function(t){function e(){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=l(this,h(e).apply(this,arguments))).series=[],i.plugins=[],i.currentSlots={},i.requestLevels=new Map,i.update=function(e,t){i.series.forEach(function(t){this.updateSerie(t,e)}),e||i.recalculateSeries(t)},i}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,a.default),i=e,r=[{key:"default",value:function(){return{LRUName:"PluginTimeSerieManager",intervals:[1e3,15e3,6e4,9e5,36e5,864e4],maxParallelRequests:3,optimalPxPerPoint:2,nbPoints:1e3,url:""}}}],(n=[{key:"init",value:function(t,e){this.graph=t,d.default.create(this.options.LRUName,200),this.requestsRunning=0}},{key:"setURL",value:function(t){return this.options.url=t,this}},{key:"setAvailableIntervals",value:function(){this.options.intervals=arguments}},{key:"newSerie",value:function(t,e,i,n,r){var o=this.graph.newSerie(t,e,i);return this.currentSlots[t]={min:0,max:0,interval:0},o.on("hide",function(){o._zoneSerie&&o._zoneSerie.hide()}),o.on("show",function(){o._zoneSerie&&o._zoneSerie.show()}),o.setInfo("timeSerieManagerDBElements",n),r||(o._zoneSerie=this.graph.newSerie("".concat(t,"_zone"),{},s.default.SERIE_ZONE)),this.series.push(o),o}},{key:"registerPlugin",value:function(t,e){if(-1<this.plugins.indexOf(t))for(var i=1;i<arguments.length;i++)t.removeListener(arguments[i],this.update);for(i=1;i<arguments.length;i++)t.on(arguments[i],this.update)}},{key:"updateSerie",value:function(r,o){var s,a=this,t=r.getXAxis().getCurrentMin(),e=r.getXAxis().getCurrentMax(),u=this.getOptimalInterval(e-t),i=this.options.intervals.indexOf(u);this.cleanRegister(i);for(var n=i;n<=i+1;n++){s=this.options.intervals[n];var l=a.computeSlotID(t,s),h=a.computeSlotID(e,s);[[2,5,6],[1,2,4],[0,1,3]].forEach(function(t){for(var e=l-t[0]*(h-l),i=h+t[0]*(h-l),n=e;n<=i&&!(a.computeTimeMin(n,s)>Date.now());)a.register(r,n,s,s==u?t[1]:t[2],!0,o),n++})}this.processRequests()}},{key:"cleanRegister",value:function(n){this.requestLevels&&this.requestLevels.forEach(function(i){i.forEach(function(t,e){t[4]<n&&i.splice(e,1)})})}},{key:"register",value:function(t,e,i,n,r,o){var s=this.computeUniqueID(t,e,i),a=d.default.get(this.options.LRUName,s);(!a||this.computeTimeMax(e,i)>Date.now()&&a.timeout<Date.now()-(o?5e3:1e5)&&1==n)&&this.request(t,e,i,n,s,r)}},{key:"request",value:function(t,e,i,n,r,o){for(var s in this.requestLevels)s!=n&&this.requestLevels[s][r]&&(1!==this.requestLevels[s][r][0]?delete this.requestLevels[s][r]:this.requestLevels[s][r][5]=n);this.requestLevels[n]&&this.requestLevels[n][r]||(this.requestLevels[n]=this.requestLevels[n]||{},this.requestLevels[n][r]=[0,r,t.getName(),e,i,n,t.getInfo("timeSerieManagerDBElements")],o||this.processRequests())}},{key:"processRequests",value:function(){if(!(this.requestsRunning>=this.options.maxParallelRequests)){for(var e,i=this,n=1;;){for(var r in this.requestLevels[n])if(1!=this.requestLevels[n][r][0]){e=this.requestLevels[n][r];break}if(e)break;if(10<++n)return}this.requestsRunning++,e&&(e[0]=1,o.ajaxGet({url:this.getURL(e),method:"GET",json:!0}).done(function(t){1==t.status&&(i.requestsRunning--,delete i.requestLevels[n][r],d.default.store(i.options.LRUName,e[1],t.data),i.processRequests(),1==e[5]&&0==Object.keys(i.requestLevels[1]).length&&i.recalculateSeries(!0))}))}}},{key:"computeTimeMax",value:function(t,e){return(t+1)*(e*this.options.nbPoints)}},{key:"computeTimeMin",value:function(t,e){return t*(e*this.options.nbPoints)}},{key:"getURL",value:function(t){var e=this.options.url.replace("<measurementid>",t[2]).replace("<from>",this.computeTimeMin(t[3],t[4])).replace("<to>",this.computeTimeMax(t[3],t[4])).replace("<interval>",t[4]),i=t[6]||{};for(var n in i)e=e.replace("<".concat(n,">"),i[n]);return e}},{key:"getOptimalInterval",value:function(t){var i,n=(this.options.optimalPxPerPoint||1)*t/this.graph.getDrawingWidth(),r=1/0;return this.options.intervals.forEach(function(t){var e=Math.min(r,Math.abs(t-n));r!==e&&(i=t,r=e)}),i||1e3}},{key:"computeUniqueID",value:function(t,e,i){var n="",r=t.getInfo("timeSerieManagerDBElements");for(var o in r)n+=";".concat(o,":").concat(r[o]);return"".concat(t.getName(),";").concat(e,";").concat(i).concat(n)}},{key:"computeSlotID",value:function(t,e){return Math.floor(t/(e*this.options.nbPoints))}},{key:"computeSlotTime",value:function(t,e){return t*(e*this.options.nbPoints)}},{key:"getZoneSerie",value:function(t){return t._zoneSerie}},{key:"updateZoneSerie",value:function(t){var e=this.graph.getSerie(t);e&&e._zoneSerie&&(e._zoneSerie.setXAxis(e.getXAxis()),e._zoneSerie.setYAxis(e.getYAxis()),e._zoneSerie.setFillColor(e.getLineColor()),e._zoneSerie.setLineColor(e.getLineColor()),e._zoneSerie.setFillOpacity(.2),e._zoneSerie.setLineOpacity(.3))}},{key:"recalculateSeries",value:function(e){var i=this;this.locked||(this.changed=!1,this.series.map(function(t){i.recalculateSerie(t,e)}),this.changed=!1,i.graph.draw())}},{key:"recalculateSerie",value:function(t,e){var i=t.getXAxis().getCurrentMin(),n=t.getXAxis().getCurrentMax(),r=this.getOptimalInterval(n-i),o=this.computeSlotID(i,r),s=this.computeSlotID(n,r),a=[],u=[];if(!(!e&&r==this.currentSlots[t.getName()].interval&&this.currentSlots[t.getName()].min<=o&&this.currentSlots[t.getName()].max>=s)){o-=2,s+=2,this.currentSlots[t.getName()].min=o,this.currentSlots[t.getName()].max=s,this.currentSlots[t.getName()].interval=r;for(var l=o;l<=s;){var h=d.default.get(this.options.LRUName,this.computeUniqueID(t,l,r));h?(a=a.concat(h.data.mean),u=u.concat(h.data.minmax)):this.recalculateSerieUpwards(t,l,r,a,u),l++}this.changed=!0,t.setData(a),t._zoneSerie&&t._zoneSerie.setData(u)}}},{key:"setIntervalCheck",value:function(t){var e=this;this.interval&&clearInterval(this.interval),this.update(!0,!0),this.interval=setInterval(function(){e.update(!0,!1)},t)}},{key:"recalculateSerieUpwards",value:function(t,e,i,n,r){var o=this.options.intervals.slice(0);o.sort();var s=o[o.indexOf(i)+1]||-1;if(s<0)return[];var a=this.computeSlotTime(e,i),u=this.computeSlotTime(e+1,i),l=this.computeSlotID(a,s),h=!1,c=d.default.get(this.options.LRUName,this.computeUniqueID(t,l,s));if(c)for(var f=0,p=c.data.mean.length;f<p;f+=2)if(!(c.data.mean[f]<a)&&(!1===h&&(h=f),c.data.mean[f]>=u))return void(r=(n=n.concat(c.data.mean.slice(h,f))).concat(c.data.minmax.slice(h,f)));return this.recalculateSerieUpwards(t,l,s,n,r)}},{key:"lockRedraw",value:function(){this.locked=!0}},{key:"unlockRedraw",value:function(){this.locked=!1}},{key:"isRedrawLocked",value:function(){return!!this.locked}}])&&u(i.prototype,n),r&&u(i,r),e}();t.default=n,r.exports=f.default},i=[f,t(65),t(333),t(5),t(23)],void 0===(n="function"==typeof(e=o)?e.apply(f,i):e)||(r.exports=n)},function(t,e,i){var n,r,o;r=[e],void 0===(o="function"==typeof(n=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(t,e){!function(t,e){e=e||50,l[t]||(l[t]={},c[t]=0);f[t]=e}(t,e)},t.get=e,t.store=function(t,e,i){return n=t,r=e,o=i,l[n]&&void 0!==c[n]&&f[n]&&(u=h[n],l[n][r]?(p(n,r),l[n][r].data.data=o,l[n][r].data.timeout=Date.now()):(s={data:{data:o,timeout:Date.now()}},void 0===u?(s.prev=s).next=s:(s.prev=u.prev,s.next=u.next,u.next.prev=s,u.next=s),h[n]=s,l[n][r]=s,c[n]++),c[n]>f[n]&&u&&(a=u.next,(u.next.next.prev=u).next=u.next.next,a.next.next=void 0,a.next.prev=void 0,c[n]--)),i;var n,r,o,s,a,u},t.empty=function(t){e=t,l[e]={},c[e]=0;var e},t.exist=function(t){return l[t]},t.default=void 0;var l={},h={},c={},f={};function p(t,e){var i,n;if(l[t]&&l[t][e])return n=h[t],(i=l[t][e]).prev=n,i.next=n.next,n.next.prev=i,n.next=i,(h[t]=i).data}function e(t,e){var i;if(null!=(i=p(t,e)))return i}var i=e;t.default=i})?n.apply(e,r):n)||(t.exports=o)},function(r,h,t){var e,i,n,o;o=function(t,o,c){"use strict";var e;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o=(e=o)&&e.__esModule?e:{default:e};var n=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,u(e).apply(this,arguments))}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,o.default),i=e,r=[{key:"default",value:function(){return{positiveStyle:{fillColor:"green",fillOpacity:.2,strokeWidth:0},negativeStyle:{fillColor:"red",fillOpacity:.2,strokeWidth:0},from:0,to:0}}}],(n=[{key:"init",value:function(t,e){this.graph=t,this.series=[],this.pathsPositive=[],this.pathsNegative=[],this.positivePolyline=this.graph.newShape("polyline").draw(),this.positivePolyline.setFillColor(this.options.positiveStyle.fillColor).setFillOpacity(this.options.positiveStyle.fillOpacity).setStrokeWidth(this.options.positiveStyle.strokeWidth).applyStyle(),this.negativePolyline=this.graph.newShape("polyline").draw(),this.negativePolyline.setFillColor(this.options.negativeStyle.fillColor).setFillOpacity(this.options.negativeStyle.fillOpacity).setStrokeWidth(this.options.negativeStyle.strokeWidth).applyStyle()}},{key:"setSeries",value:function(t,e){this.serie1=t,this.serie2=e}},{key:"setBoundaries",value:function(t,e){this.options.from=t,this.options.to=e}},{key:"getFrom",value:function(){return this.options.from}},{key:"getTo",value:function(){return this.options.to}},{key:"draw",value:function(){var t,r=this,e=this.serie1.getWaveform(),i=this.serie2.getWaveform(),n=e.duplicate(!0).subtract(i).add(i),o=e.duplicate(!0).subtract(e.duplicate(!0).subtract(i)),s=[],a=function(){(0<arguments.length&&void 0!==arguments[0]&&arguments[0]||0!=t.wave1.length||0!=t.wave2.length)&&(t={above:void 0,wave1:[],wave2:[]},s.push(t))};a(!0);for(var u=0;u<n.getLength();u++)if(isNaN(n.getY(u))||isNaN(o.getY(u)))a();else{if(0<u&&0<t.wave1.length){if(n.getY(u)>o.getY(u)&&!t.above){var l=this.computeCrossing(n.getX(u-1),n.getY(u-1),n.getX(u),n.getY(u),o.getX(u-1),o.getY(u-1),o.getX(u),o.getY(u));t.wave1.push([l.x,l.y]),a(),t.wave1.push([l.x,l.y]),t.above=!0}if(n.getY(u)<o.getY(u)&&t.above){var h=this.computeCrossing(n.getX(u-1),n.getY(u-1),n.getX(u),n.getY(u),o.getX(u-1),o.getY(u-1),o.getX(u),o.getY(u));t.wave1.push([h.x,h.y]),a(),t.wave1.push([h.x,h.y]),t.above=!1}}0==t.wave1.length&&(t.above=n.getY(u)>o.getY(1)),t.wave1.push([n.getX(u),n.getY(u)]),t.wave2.push([o.getX(u),o.getY(u)])}this.series.forEach(function(t){return t.kill()}),this.series=s.forEach(function(t,e){var i=r.graph.newSerie("__graph_serielinedifference_"+r.serie1.getName()+"_"+r.serie2.getName()+"_"+e),n=new c.Waveform;n.setData(t.wave1.map(function(t){return t[1]}).concat(t.wave2.reverse().map(function(t){return t[1]})),t.wave1.map(function(t){return t[0]}).concat(t.wave2.map(function(t){return t[0]}))),t.wave1[0]&&n.append(t.wave1[0][0],t.wave1[0][1]),i.setWaveform(n),i.setXAxis(r.serie1.getXAxis()),i.setYAxis(r.serie1.getYAxis()),t.above?i.setFillColor(r.options.positiveStyle.fillColor):i.setFillColor(r.options.negativeStyle.fillColor)})}},{key:"computeCrossing",value:function(t,e,i,n,r,o,s,a){var u=(n-e)/(i-t),l=(a-o)/(s-r),h=n-u*i;if(t==i||r==s)return!1;if(u==l)return{x:t,y1:e,y2:e,y:e};var c=(h-(a-l*s))/(l-u);return!(i<c||c<t||c<r||s<c)&&{x:c,y:u*c+h}}},{key:"getPositivePolyline",value:function(){return this.positivePolyline}},{key:"getNegativePolyline",value:function(){return this.negativePolyline}}])&&s(i.prototype,n),r&&s(i,r),e}();t.default=n,r.exports=h.default},i=[h,t(23),t(53)],void 0===(n="function"==typeof(e=o)?e.apply(h,i):e)||(r.exports=n)},function(E,T,t){var e,i,n,r;r=function(t,l,e,i,r,n,o,s,a){"use strict";function u(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function c(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function g(t,e,i){return e&&d(t.prototype,e),i&&d(t,i),t}function y(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=u(l),e=u(e),i=u(i),r=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(r),n=u(n),o=u(o),s=u(s),a=u(a);var x=function(t){function e(){var t;return p(this,e),(t=y(this,v(e).apply(this,arguments))).subSeries=[],t}return m(e,n.default),g(e,[{key:"draw",value:function(){return this}}]),e}(),k=function(t){function e(){var t;return p(this,e),(t=y(this,v(e).apply(this,arguments))).subSeries=[],t}return m(e,o.default),g(e,[{key:"draw",value:function(){return this}},{key:"getMarkerForLegend",value:function(){return!!this.subSeries[0]&&this.subSeries[0].getMarkerForLegend()}}]),e}(),S=["constructor","init","draw","setLineColor","setLineWidth","setLineStyle","getLineColor","getLineWidth","getLineStyle","setMarkers","getMarkerDom","getMarkerDomIndependant","getMarkerPath","_recalculateMarkerPoints","getSymbolForLegend","_getSymbolForLegendContainer"],w=[];Object.getOwnPropertyNames(n.default.prototype).concat(w).map(function(t){var i;-1<S.indexOf(t)||(x.prototype[t]=(i=t,function(){var e=arguments;this.subSeries.map(function(t){t[i].apply(t,c(e))})}))});var M=["getSymbolForLegend"];w=["_getSymbolForLegendContainer"];Object.getOwnPropertyNames(n.default.prototype).map(function(t){var i,n;-1!=M.indexOf(t)&&(x.prototype[t]=(i=t,function(){var t,e=arguments;return(t=this.subSeries[0])[i].apply(t,c(e))}),k.prototype[t]=(n=t,function(){var t,e=arguments;return(t=this.subSeries[0])[n].apply(t,c(e))}))}),w.map(function(t){var i,n;x.prototype[t]=(i=t,function(){var t,e=arguments;return(t=this.subSeries[0])[i].apply(t,c(e))}),k.prototype[t]=(n=t,function(){var t,e=arguments;return(t=this.subSeries[0])[n].apply(t,c(e))})});var A=function(t){function i(t){var e;return p(this,i),(e=y(this,v(i).apply(this,arguments))).series=new Map,e}return m(i,a.default),g(i,[{key:"init",value:function(t){this.graph=t}},{key:"newXAxis",value:function(t){return this.newBottomAxis(t)}},{key:"newYAxis",value:function(t){return this.newLeftAxis(t)}},{key:"newTopAxis",value:function(t){return t=this.getOptions(t),new O(this.graph,"top",t)}},{key:"newBottomAxis",value:function(t){return t=this.getOptions(t),new O(this.graph,"bottom",t)}},{key:"newLeftAxis",value:function(t){return t=this.getOptions(t),new C(this.graph,"left",t)}},{key:"newRightAxis",value:function(t){return t=this.getOptions(t),new C(this.graph,"right",t)}},{key:"getOptions",value:function(t){var e={marginMin:this.options.axes.margins.low,marginMax:this.options.axes.margins.high};return r.extend(!0,e,t)}},{key:"preDraw",value:function(){var a,o,u=this;this.series.forEach(function(t){var s=t.serie;a=s.getXAxis(),o=s.getYAxis();var e=1;for(a.splitNumber&&(e*=a.splitNumber),o.splitNumber&&(e*=o.splitNumber);s.subSeries.length<e;){var i="".concat(s.getName(),"_").concat(s.subSeries.length),n=u.graph.newSerie(i,{},s.getType()||l.default.SERIE_LINE);n.excludedFromLegend=!0,n.styles=s.styles,n.waveform=s.waveform,s.getType()==l.default.SERIE_LINE&&(n.markerPoints=s.markerPoints,n.markerFamilies=s.markerFamilies),s.subSeries.push(n),s.postInit()}for(;s.subSeries.length>e;){var r=u.graph.getSerie("".concat(s.getName(),"_").concat(s.subSeries.length-1));r&&r.kill&&r.kill(),s.subSeries.pop()}!s.getXAxis().splitNumber&&s.getXAxis().splitAxis&&s.getXAxis().splitAxis(),!s.getYAxis().splitNumber&&s.getYAxis().splitAxis&&s.getYAxis().splitAxis(),s.subSeries.map(function(t,e){var i,n;if(s.getXAxis().getSubAxis){var r=e%(a.splitNumber||1);i=s.getXAxis().getSubAxis(r)}else i=s.getXAxis();if(t.setXAxis(i),s.getYAxis().getSubAxis){var o=Math.floor(e/(a.splitNumber||1));n=s.getYAxis().getSubAxis(o)}else n=s.getYAxis();t.setYAxis(n),t.draw(!0)})})}},{key:"newSerie",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length?arguments[2]:void 0;switch(i){case"line":return this.newLineSerie(t,e);case"scatter":return this.newScatterSerie(t,e)}throw"Cannot create a split serie of type ".concat(i)}},{key:"newLineSerie",value:function(t,e){var i={type:"lineSerie",serie:new x(this.graph,t,e,"line")};return this.series.set(t,i),this.graph.series.push(i.serie),i.serie}},{key:"newScatterSerie",value:function(t,e){var i={type:"scatterSerie",serie:new k(this.graph,t,e,"scatter")};return this.series.set(t,i),this.graph.series.push(i.serie),i.serie}}],[{key:"default",value:function(){return{axes:{margins:{high:5,low:5}}}}}]),i}(),_={splitMarks:!0},P=function(e){var n=function(t){function s(t,e){var i,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return p(this,s),(i=y(this,v(s).call(this,t,e,n))).axes=[],i.position=e,i.constructorOptions=r.extend(!0,{},_,n),i._splitVal=[],i}return m(s,e),g(s,[{key:"all",value:function(t){if("function"==typeof t)return this.axes.map(t),this}},{key:"splitAxis",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.push(1);for(var n=e.length;this.axes.length>n;)this.axes.pop().kill(!0,!0);for(;this.axes.length<n;){var r=new(this.getConstructor())(this.graph,this.position,this.constructorOptions);this.axes.push(r),r.zoomLock=!0,r.init(this.graph,this.constructorOptions)}var o=0,s=0,a=!0,u=!1,l=void 0;try{for(var h,c=this.axes[Symbol.iterator]();!(a=(h=c.next()).done);a=!0){var f=h.value;f.options.marginMin=10,f.options.marginMax=10,0==s&&(f.options.marginMin=0),s==this.axes.length-1&&(f.options.marginMax=0),f.setSpan(o,o=e[s]),f.setMinMaxFlipped(),s++}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return this._splits=e,this}},{key:"fixGridIntervalBasedOnAxis",value:function(t){return this.fixGridFor=t,this.graph._axisHasChanged(),this}},{key:"splitSpread",value:function(t){return this.autoSpread=!!t,this}},{key:"hasAxis",value:function(t){return-1<this.axes.indexOf(t)}},{key:"_splitSpread",value:function(){var t=[],e=0,i=0,n=!0,r=!1,o=void 0;try{for(var s,a=this._splitVal[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var u=s.value;e+=u[1]-u[0]}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var l=!0,h=!1,c=void 0;try{for(var f,p=this._splitVal[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var d=f.value;t.push(i+=(d[1]-d[0])/e)}}catch(t){h=!0,c=t}finally{try{l||null==p.return||p.return()}finally{if(h)throw c}}t.pop(),this.splitAxis.apply(this,t)}},{key:"setChunkBoundaries",value:function(t){var e,i,n=0,r=!0,o=!1,s=void 0;try{for(var a,u=this.axes[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;Array.isArray(t[n])&&1<t[n].length&&!e&&(e=t[n][1]-t[n][0],i=n),1!=t[n].length&&Array.isArray(t[n])?l.forceMin(t[n][0]).forceMax(t[n][1]):(l._mean=t[n],Array.isArray(l._mean)&&(l._mean=l._mean[0])),n++}}catch(t){o=!0,s=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw s}}return this._baseWidthVal=e,this._baseWidthIndex=i,this._splitVal=t,this.graph._axisHasChanged(),this}},{key:"setMinMaxToFitSeries",value:function(){(!this._splitVal||this._splitVal.length<1)&&(h(v(s.prototype),"setMinMaxToFitSeries",this).apply(this,arguments),this._splitVal[0]=this._splitVal[0]||[],this._splitVal[this._splitVal.length-1]=this._splitVal[this._splitVal.length-1]||[],this._splitVal[0][0]=this.getCurrentMin(),this._splitVal[this._splitVal.length-1][1]=this.getCurrentMax(),this.setChunkBoundaries(this._splitVal))}},{key:"draw",value:function(){var i=this;this.autoSpread&&this._splitSpread();var n,r,o,s=0;if(0<=this._baseWidthIndex&&(r=this.getSubAxis(this._baseWidthIndex))&&(o=r.getSpan()),r=void 0,0<=this.fixGridFor&&(r=this.getSubAxis(this.fixGridFor))){if(void 0!==r._mean){var t=(r.getSpan()[1]-r.getSpan()[0])/(o[1]-o[0])*this._baseWidthVal;r.forceMin(r._mean-t/2),r.forceMax(r._mean+t/2)}s=r.draw(),n=r.getPrimaryTickUnit()}return this.axes.map(function(t){if(r!==t){if(void 0!==t._mean){var e=(t.getSpan()[1]-t.getSpan()[0])/(o[1]-o[0])*i._baseWidthVal;t.forceMin(t._mean-e/2),t.forceMax(t._mean+e/2)}n&&t.forcePrimaryTickUnit(n),s=Math.max(s,t.draw())}}),this.writeUnit(),s}},{key:"setMinPx",value:function(t){h(v(s.prototype),"setMinPx",this).call(this,t);var e=!0,i=!1,n=void 0;try{for(var r,o=this.axes[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.setMinPx(t)}}catch(t){i=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw n}}}},{key:"setMaxPx",value:function(t){h(v(s.prototype),"setMaxPx",this).call(this,t);var e=!0,i=!1,n=void 0;try{for(var r,o=this.axes[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.setMaxPx(t)}}catch(t){i=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw n}}}},{key:"setShift",value:function(){h(v(s.prototype),"setShift",this).apply(this,arguments);var t=!0,e=!1,i=void 0;try{for(var n,r=this.axes[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var o=n.value;o.setShift.apply(o,arguments)}}catch(t){e=!0,i=t}finally{try{t||null==r.return||r.return()}finally{if(e)throw i}}}},{key:"init",value:function(){h(v(s.prototype),"init",this).apply(this,arguments),this.splitAxis()}},{key:"getAxisPosition",value:function(){var e=0;return this.axes.map(function(t){e=Math.max(e,t.getAxisPosition())}),e}},{key:"getSubAxis",value:function(t){if(this.axes.length<=t)throw"Impossible to reach axis. Index ".concat(t," is out of range");return this.axes[t]}},{key:"splitNumber",get:function(){return this._splits.length}}]),s}();return["turnGridsOff","turnGridsOn","gridsOff","gridsOn","setEngineering","setScientificScaleExponent","setScientific","setLabelColor","setSecondaryGridDasharray","setPrimaryGridDasharray","setSecondaryGridsOpacity","setPrimaryGridOpacity","setSecondaryGridWidth","setPrimaryGridWidth","setSecondaryGridColor","setPrimaryGridColor","setTicksLabelColor","setSecondaryTicksColor","setPrimaryTicksColor","setAxisColor","secondaryGridOn","secondaryGridOff","primaryGridOff","primaryGridOn","setSecondaryGrid","setPrimaryGrid","setGrids","setTickPosition","setExponentialFactor","setExponentialLabelFactor","setGridLinesStyle","forcePrimaryTickUnitMin","forcePrimaryTickUnitMax","forcePrimaryTickUnit","flip","show","hide","setDisplay"].map(function(t){var i;n.prototype[t]=(i=t,function(){var e=arguments;return this.axes.map(function(t){t[i].apply(t,c(e))}),this})}),n},O=function(t){function r(t,e,i){var n;return p(this,r),(n=y(this,v(r).apply(this,arguments))).topbottom=e,n}return m(r,P(e.default)),g(r,[{key:"getConstructor",value:function(){return e.default}},{key:"getAxisPosition",value:function(){var t=h(v(r.prototype),"getAxisPosition",this).apply(this,arguments);return this.labelPosY=t,this.getLabel()&&(t+=this.graph.options.fontSize),t}},{key:"drawLabel",value:function(){h(v(r.prototype),"drawLabel",this).call(this),this.label.setAttribute("y",(this.top?-1:1)*(this.graph.options.fontSize+this.labelPosY))}},{key:"draw",value:function(){var t=h(v(r.prototype),"draw",this).apply(this,arguments);return this.drawLabel(),t}}]),r}(),C=function(t){function n(t,e,i){return p(this,n),y(this,v(n).apply(this,arguments))}return m(n,P(i.default)),g(n,[{key:"getConstructor",value:function(){return i.default}},{key:"drawLabel",value:function(){h(v(n.prototype),"drawLabel",this).call(this)}},{key:"equalizePosition",value:function(e){var i=e;if(this.getLabel()&&this.axes.map(function(t){i=Math.max(t.equalizePosition(e),i)}),this.getLabel())return this.placeLabel(this.left?-i:i),i+this.graph.options.fontSize}}]),n}();r.mix(O,new e.default),r.mix(C,new i.default);var L=A;t.default=L,E.exports=T.default},i=[T,t(65),t(96),t(130),t(5),t(46),t(97),t(66),t(23)],void 0===(n="function"==typeof(e=r)?e.apply(T,i):e)||(E.exports=n)},function(f,p,t){var e,i,n,r;r=function(t,e,o){"use strict";var i;function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function l(t,e,i){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(e),o=(i=o)&&i.__esModule?i:{default:i};var r=function(t){function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),a(this,h(i).apply(this,arguments))}var e,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(i,o.default),e=i,r=[{key:"default",value:function(){return{}}}],(n=[{key:"init",value:function(t,e){l(h(i.prototype),"init",this).call(this,t,e)}},{key:"checkHSL",value:function(t){var e,i,n,r={};return(e=t.h||t.hue)?(e<1&&(e=Math.round(360*e)),r.hue=e):r.h=0,(i=t.s||t.saturation)?(1<i&&(i/=100),r.saturation=i):r.saturation=.75,(n=t.lightness||t.l)?(1<n&&(n/=100),r.lightness=n):r.lightness=.5,r}},{key:"buildHSLString",value:function(t){return"hsl( ".concat(Math.round(t.h),", ").concat(Math.round(100*t.s),"%, ").concat(Math.round(100*t.l),"%)")}},{key:"colorizeAll",value:function(n){var t,r,e,o=this,s=1<arguments.length&&void 0!==arguments[1]&&arguments[1];n.serieTypes?(Array.isArray(n.serieTypes)||(n.serieTypes=[n.serieTypes]),t=(e=this.graph).allSeries.apply(e,u(n.serieTypes))):t=this.graph.getSeries();if(r=t.length,!n.startingColorHSL){if(!n.colorHSL)throw"No starting color was provided. There must exist either options.colorHSL or options.startingColorHSL";n.startingColorHSL=this.checkHSL(n.colorHSL)}if(n.endingColorHSL)n.endingColorHSL=Object.assign({},n.startingColorHSL,n.endingColorHSL);else switch(n.affect&&["h","s","l","hue","saturation","lightness"].include(n.affect)||(n.affect="h"),n.affect){case"h":case"hue":n.endingColorHSL={h:n.startingColorHSL.h+300,s:n.startingColorHSL.s,l:n.startingColorHSL.l};break;case"saturation":case"s":var i;i=.5<n.startingColorHSL.s?0:1,n.endingColorHSL={h:n.startingColorHSL.h,s:i,l:n.startingColorHSL.l};break;case"lightness":case"l":var a;a=.5<n.startingColorHSL.l?0:.75,n.endingColorHSL={h:n.startingColorHSL.h,s:n.startingColorHSL.s,l:a}}return t.map(function(t,e){if(!t.setLineColor)throw"The serie ".concat(t.getName()," does not implement the method `startingColor`");var i;return i=1==r?o.buildHSLString({h:n.startingColorHSL.h,s:n.startingColorHSL.s,l:n.startingColorHSL.l}):o.buildHSLString({h:n.startingColorHSL.h+e/(r-1)*(n.endingColorHSL.h-n.startingColorHSL.h),s:n.startingColorHSL.s+e/(r-1)*(n.endingColorHSL.s-n.startingColorHSL.s),l:n.startingColorHSL.l+e/(r-1)*(n.endingColorHSL.l-n.startingColorHSL.l)}),t.setLineColor(i),"function"==typeof s&&s(e,i),i})}}])&&s(e.prototype,n),r&&s(e,r),i}();t.default=r,f.exports=p.default},i=[p,t(5),t(23)],void 0===(n="function"==typeof(e=r)?e.apply(p,i):e)||(f.exports=n)},function(c,f,t){var e,i,n,r;r=function(t,e,r){"use strict";var i;function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t,e,i){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(e),r=(i=r)&&i.__esModule?i:{default:i};var o=function(t){function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),a(this,l(o).apply(this,arguments))}var e,i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(o,r.default),e=o,n=[{key:"default",value:function(){return{autoPeakPicking:!1,autoPeakPickingNb:4,autoPeakPickingMinDistance:10,autoPeakPickingFormat:!1,autoPeakPickingAllowAllY:!1}}}],(i=[{key:"init",value:function(t,e){u(l(o.prototype),"init",this).call(this,t,e),this.picks=[];for(var i=0,n=this.options.autoPeakPickingNb;i<n;i++){var r=this.graph.newShape({type:"label",label:{text:"",position:{x:0},anchor:"middle"},selectable:!0,shapeOptions:{minPosY:15}});r.draw(),this.picks.push(r)}}},{key:"setSerie",value:function(t){this.serie=t,this.picks.map(function(t){t.show()})}},{key:"serieRemoved",value:function(t){this.serie==t&&this.picks.map(function(t){t.hide()})}},{key:"preDraw",value:function(){this.serie&&(this.detectedPeaks=[],this.lastYPeakPicking=!1)}},{key:"postDraw",value:function(){if(this.serie){var t,e=!0,i=!1,n=[],r=this.serie.getWaveform();if(!r)throw"The serie must have a waveform for the peak picking to work";for(var o,s=r.getLength(),a=0;a<s;a++)o=r.getY(a),this.serie.options.lineToZero?n.push([r.getX(a),o]):t?o>=t[1]&&e||o<=t[1]&&i?t=[r.getX(a),o]:(o<t[1]&&e||o>t[1]&&i)&&(i?e=!(i=!1):(e=!(i=!0),n.push(t),t=!1),t=[r.getX(a),o]):t=[r.getX(a),o];var u,l,h,c,f=n,p=[],d=f.length;a=0;var g=this.graph.selectedShapes.map(function(t){return t.getProp("xval")});for(f.sort(function(t,e){return e[1]-t[1]}),c=0;a<d;a++)if(u=f[a][0],l=this.serie.getX(u),h=0,o=this.serie.getY(f[a][1]),!(l<this.serie.getXAxis().getMinPx()||l>this.serie.getXAxis().getMaxPx())&&(this.options.autoPeakPickingAllowAllY||!(o>this.serie.getYAxis().getMinPx()||o<this.serie.getYAxis().getMaxPx()))){for(;h<p.length&&!(Math.abs(p[h]-l)<this.options.autoPeakPickingMinDistance);h++);if(!(h<p.length))if(-1<g.indexOf(u))p.push(l);else{if(!this.picks[c])return;for(this.serie.getYAxis().getPx(f[a][1])-20<0?(this.picks[c].setLabelPosition({x:u,y:"5px"}),this.picks[c].setLabelBaseline("hanging")):(this.picks[c].setLabelBaseline("no-change"),this.picks[c].setLabelPosition({x:u,y:f[a][1],dy:"-15px"})),this.picks[c].setProp("xval",u),this.options.autoPeakPickingFormat?this.picks[c].setLabelText(this.options.autoPeakPickingFormat.call(this.picks[c],u,c)):this.picks[c].setLabelText(String(Math.round(1e3*u)/1e3)),this.picks[c].makeLabels(),c++;this.picks[c]&&this.picks[c].isSelected();)c++;if(p.length==this.options.autoPeakPickingNb)break}}}}},{key:"hidePeakPicking",value:function(t){if(this._hidePeakPickingLocked||(this._hidePeakPickingLocked=t),this.picks)for(var e=0;e<this.picks.length;e++)this.picks[e].hide()}},{key:"showPeakPicking",value:function(t){if((!this._hidePeakPickingLocked||t)&&this.picks)for(var e=0;e<this.picks.length;e++)this.picks[e].show()}},{key:"killPeakPicking",value:function(){if(this.picks)for(var t=0,e=this.picks.length;t<e;t++)this.picks[t].kill()}},{key:"getSerie",value:function(){return this.serie}}])&&s(e.prototype,i),n&&s(e,n),o}();t.default=o,c.exports=f.default},i=[f,t(5),t(23)],void 0===(n="function"==typeof(e=r)?e.apply(f,i):e)||(c.exports=n)}])});